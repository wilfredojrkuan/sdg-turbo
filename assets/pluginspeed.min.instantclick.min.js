var instantClick,InstantClick=instantClick=function(t,e,n){function i(t){var e=t.indexOf("#");return e<0?t:t.substr(0,e)}function r(t){for(;t&&"A"!=t.nodeName;)t=t.parentNode;return t}function o(t){do{if(!t.hasAttribute)break;if(t.hasAttribute("data-instant"))return!1;if(t.hasAttribute("data-no-instant"))return!0}while(t=t.parentNode);return!1}function a(t){var n=e.protocol+"//"+e.host;return!(t.target||t.hasAttribute("download")||0!=t.href.indexOf(n+"/")||t.href.indexOf("#")>-1&&i(t.href)==L||o(t))}function s(t,e,n,i){for(var r=!1,o=0;o<R[t].length;o++)if("receive"==t){var a=R[t][o](e,n,i);a&&("body"in a&&(n=a.body),"title"in a&&(i=a.title),r=a)}else R[t][o](e,n,i);return r}function d(e,n,r,o,a){if(0!=n&&t.documentElement.replaceChild(n,t.body),r){history.pushState(null,null,r);var d=r.indexOf("#"),c=d>-1&&t.getElementById(r.substr(d+1)),l=0;if(c)for(;c.offsetParent;)l+=c.offsetTop,c=c.offsetParent;scrollTo(0,l),L=i(r)}else scrollTo(0,o);Y&&t.title==e?t.title=e+String.fromCharCode(160):t.title=e,g(),a?s("restore"):s("change",!1)}function c(){W=!1,K=!1}function l(t){return t.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function f(t){if(!(x>+new Date-500)){var e=r(t.target);e&&a(e)&&b(e.href)}}function u(t){if(!(x>+new Date-500)){var e=r(t.target);e&&a(e)&&(e.addEventListener("mouseout",m),O?(C=e.href,k=setTimeout(b,O)):b(e.href))}}function h(t){x=+new Date;var e=r(t.target);e&&a(e)&&(M?e.removeEventListener("mousedown",f):e.removeEventListener("mouseover",u),b(e.href))}function v(t){var e=r(t.target);e&&a(e)&&(t.which>1||t.metaKey||t.ctrlKey||(t.preventDefault(),w(e.href)))}function m(){return k?(clearTimeout(k),void(k=!1)):void(W&&!K&&(A.abort(),c()))}function p(){if(!(A.readyState<4)&&0!=A.status){if(z.ready=+new Date-z.start,A.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var e=t.implementation.createHTMLDocument("");e.documentElement.innerHTML=l(A.responseText),B=e.title,I=e.body;var n=s("receive",S,I,B);n&&("body"in n&&(I=n.body),"title"in n&&(B=n.title));var r=i(S);D[r]={body:I,title:B,scrollY:r in D?D[r].scrollY:0};for(var o,a,d=e.head.children,c=0,f=0;f<d.length;f++)if(o=d[f],o.hasAttribute("data-instant-track")){a=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML;for(var u=0;u<P.length;u++)P[u]==a&&c++}c!=P.length&&(N=!0)}else N=!0;K&&(K=!1,w(S))}}function y(){if(!H)return void(e.href=e.href);var t=i(e.href);if(t!=L){if(!(t in D))return void(e.href=e.href);D[L].scrollY=pageYOffset,L=t,d(D[t].title,!1,!1,D[t].scrollY,!0)}}function g(e){if(t.body.addEventListener("touchstart",h,!0),M?t.body.addEventListener("mousedown",f,!0):t.body.addEventListener("mouseover",u,!0),t.body.addEventListener("click",v,!0),!e)for(var n,i,r,o,a=t.body.getElementsByTagName("script"),s=0,d=a.length;s<d;s++)n=a[s],n.hasAttribute("data-no-instant")||(i=t.createElement("script"),n.src&&(i.src=n.src),n.innerHTML&&(i.innerHTML=n.innerHTML),r=n.parentNode,o=n.nextSibling,r.removeChild(n),r.insertBefore(i,o))}function b(t){!M&&"display"in z&&+new Date-(z.start+z.display)<100||(k&&(clearTimeout(k),k=!1),t||(t=C),W&&(t==S||K)||(W=!0,K=!1,S=t,I=!1,N=!1,z={start:+new Date},s("fetch"),A.open("GET",t),A.send()))}function w(t){return"display"in z||(z.display=+new Date-z.start),k||!W?k&&S&&S!=t?void(e.href=t):(b(t),s("wait"),void(K=!0)):K?void(e.href=t):N?void(e.href=S):I?(D[L].scrollY=pageYOffset,c(),void d(B,I,S)):(s("wait"),void(K=!0))}function T(n){if(!L){if(!X)return void s("change",!0);"mousedown"==n?M=!0:"number"==typeof n&&(O=n),L=i(e.href),D[L]={body:t.body,title:t.title,scrollY:pageYOffset};for(var r,o,a=t.head.children,d=0;d<a.length;d++)r=a[d],r.hasAttribute("data-instant-track")&&(o=r.getAttribute("href")||r.getAttribute("src")||r.innerHTML,P.push(o));A=new XMLHttpRequest,A.addEventListener("readystatechange",p),g(!0),s("change",!0),window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",y,!1)},0)},!1)}}function E(t,e){R[t].push(e)}var L,C,k,x,A,M,O,Y=n.indexOf(" CriOS/")>-1,H=!1,D={},S=!1,B=!1,N=!1,I=!1,z={},W=!1,K=!1,P=[],R={fetch:[],receive:[],wait:[],change:[],restore:[]},X="pushState"in history&&(!n.match("Android")||n.match("Chrome/"))&&"file:"!=e.protocol;return{supported:X,init:T,on:E}}(document,location,navigator.userAgent);!function(){function t(){d=document.createElement("div"),d.id="instantclick",c=document.createElement("div"),c.id="instantclick-bar",d.appendChild(c);var t=["Webkit","Moz","O"];if(!((l="transform")in c.style))for(var e=0;e<t.length;e++)t[e]+"Transform"in c.style&&(l=t[e]+"Transform");var n="transition";if(!(n in c.style))for(var e=0;e<t.length;e++)t[e]+"Transition"in c.style&&(n="-"+t[e].toLowerCase()+"-"+n);var i=document.createElement("style");i.innerHTML="#instantclick{color:#29d;position:"+(h?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+n+":opacity 1s}\n#instantclick-bar{background:currentColor;width:100%;margin-left:-100%;height:2px;"+n+":all 1s}",document.head.insertBefore(i,document.head.firstChild),h&&(s(),addEventListener("resize",s),addEventListener("scroll",s))}function e(){f=0,d.style.opacity="0",r(),setTimeout(n,0),u=setTimeout(i,500)}function n(){f=10,d.style.opacity="1",r()}function i(){f+=1+2*Math.random(),f>99?f=99:u=setTimeout(i,500),r()}function r(){c.style[l]="translate("+f+"%)",document.getElementById(d.id)||document.body.appendChild(d)}function o(){clearTimeout(u)}function a(){document.getElementById(d.id)&&document.body.removeChild(d)}function s(){d.style.left=pageXOffset+"px",d.style.width=document.body.clientWidth+"px",d.style.top=pageYOffset+"px";var t="orientation"in window&&90==Math.abs(orientation),e=innerWidth/screen[t?"height":"width"]*1.34;d.style[l]="scaleY("+e+")"}var d,c,l,f,u,h="createTouch"in document;instantClick.on("change",function(e){e&&instantClick.supported?t():e||o()}),instantClick.on("wait",e),instantClick.on("restore",a)}();