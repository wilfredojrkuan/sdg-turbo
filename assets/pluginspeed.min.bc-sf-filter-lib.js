function BCSfFilterCallback(e){bcsffilter.afterGetFilterData(e,e.event_type)}function onInteractWithFilterOptionValue(e,t,i,n,r,o){var a=bcsffilter,s=jQ(t).data("count"),o=void 0!==o&&"true"===o;if(a.isMobile()&&"style2"==a.mobileStyle)e.preventDefault(),(s>0||!0===o&&"collection"==i)&&(a.internalClick=!0,"single"==r&&jQ(".bc-sf-filter-option-block-active").find("ul li").children().removeClass("selected"),jQ(t).toggleClass("selected"),jQ(t).siblings().toggleClass("selected"),a.buildFilterSelectionMobile());else if(!1===o&&(e.preventDefault(),s>0||void 0==s)){a.internalClick=!0;var l=jQ(t).attr("data-id"),c=decodeURIComponent(jQ(t).attr("data-value"));"collection"==i&&(a.queryParams.collection_scope=a.collectionId=jQ(t).data("collection-scope"));var u="list"==n&&"single"==r?jQ(t).attr("href"):a.buildFilterOptionLink(l,c,i,n,r);a.onChangeData(u,i,c,l)}}function onSelectFilterOptionItem(e,t){jQ(t).data("count")>0&&(bcsffilter.selectFilter=!0,jQ(t).hasClass("selected")?jQ(t).parent().children().removeClass("selected"):jQ(t).parent().children().addClass("selected"))}function clearAllFilterOptions(){jQ("#"+bcsffilter.selector.filterOptionOpenValue).val(null),bcsffilter.internalClick=!0;for(var e=window.location.search.substr(1).split("&"),t=[],i=0;i<e.length;i++)(e[i].indexOf("sort=")>-1||e[i].indexOf("display=")>-1||e[i].indexOf("q=")>-1)&&t.push(e[i]);var n=window.location.href.split("?")[0];t.length>0&&(n+="?"+t.join("&")),bcsffilter.onChangeData(n,"clearAllFilterOptions")}function clearFilterOption(e,t,i){if(e.preventDefault(),bcsffilter.internalClick=!0,bcsffilter.queryParams.hasOwnProperty(i)){var n=window.location.href.split("?")[0];if(window.location.search.length){for(var r,o=[],a=[],s=0,l=window.location.search.substr(1).split("&");s<l.length;s++)if(r=l[s].split("="),r.length>1){var c=r[0],u=r[1];c!=i&&"_"!=c&&c!=i+"_and_condition"&&(c.indexOf("pf_")>-1?o.push(c+"="+u):"page"!=c&&a.push(c+"="+u))}(o.length>0||a.length>0)&&(a.length>0?(n+="?",n+=a.join("&"),o.length>0&&(n+="&_="+bcsffilter.prefix+"&"+o.join("&"))):o.length>0&&(n+="?_="+bcsffilter.prefix+"&"+o.join("&")))}i.indexOf("pf_c_")>-1&&(n=removeCollectionScopeParamFromUrl(n)),bcsffilter.onChangeData(n,"f")}}function applyFilterOption(){bcsffilter.buildFilterSelectionMobile(),showResultMobile()}function showResultMobile(e){jQ(".bc-sf-filter-option-amount").hide();var t=jQ(".bc-sf-filter-option-block-active"),i=t.data("type"),n="&sort="+bcsffilter.queryParams.sort+"&display="+bcsffilter.queryParams.display,r=window.location.pathname+"?_=pf"+n+jQ("#bc-sf-filter-params").val();bcsffilter.isCollectionParam(i)&&t.find(".selected").length>0&&(r=t.find(".selected").attr("href"),bcsffilter.queryParams.collection_scope=bcsffilter.collectionId=jQ(".bc-sf-filter-option-block-active").find(".selected").data("collection-scope")),bcsffilter.onChangeData(r,"filter","",function(){var e=jQ("#bc-sf-filter-options-wrapper");e.length>0&&e.animate({width:"toggle"},"fast",function(){var e=bcsffilter["class"];jQ("."+e.filterOption).show(),jQ("."+e.filterBlockTitle).show(),jQ("."+e.filterBlockContent).hide(),jQ("."+e.filterOption).removeClass("bc-sf-filter-option-block-active")})}),void 0!==e&&!0===e&&closeFilterMobile()}function clearFilterOptionMobile(){var e=jQ(".bc-sf-filter-option-block-active");if(e.attr("data-id"),"range"==e.data("display-type")){var t=e.find(".bc-sf-filter-option-range-slider").attr("id"),i=document.getElementById(t),n=i.noUiSlider.options.range;i.noUiSlider.set([n.min,n.max]),jQ("#"+t).removeClass("selected")}else e.each(function(){jQ(this).find("ul li").children().removeClass("selected")});bcsffilter.buildFilterSelectionMobile()}function closeFilterMobile(){jQ("#bc-sf-filter-tree").removeClass("bc-sf-filter-tree-mobile-open")}function onInteractWithToolbar(e,t,i,n){e.preventDefault(),bcsffilter.internalClick=!0;var r=bcsffilter.buildToolbarLink(t,i,n);bcsffilter.onChangeData(r,t)}function closeSuggestionMobile(e,t){jQ(e).autocomplete("close"),jQ("."+bcsffilter["class"].searchSuggestion+'[data-search-box="'+e+'"]').parent().hide();var t=void 0!==t&&t;t&&jQ(".bc-sf-search-suggestion-mobile-top-panel").hide(),setValueAllSearchBoxes(),jQ(".bc-sf-search-no-tabindex").attr("tabindex",-1),jQ("body").removeClass("bc-sf-search-suggestion-mobile-open"),bcsffilter.afterCloseSuggestionMobile(e,t)}function clearSuggestionMobile(e){hideClearSuggestionBtn(),bcsffilter.currentTerm="",setValueAllSearchBoxes(),closeSuggestionMobile(e),jQ(e).focus()}function setValueAllSearchBoxes(e){var e=void 0!==e?e:bcsffilter.currentTerm;jQ('input[name="'+bcsffilter.searchTermKey+'"]').val(e)}function submitSearchFormMobile(e,t){t.preventDefault(),jQ(e).closest("form").submit()}function getSuggestionInstance(e){if(jQ(e).data("ui-autocomplete")){var t=jQ(e).autocomplete("instance");if(void 0!==t)return t.menu.element[0]}}function getSuggestionPosition(e){var t=bcsffilter.getSettingValue("search.suggestionPosition");if(""!=t)return t;var i=jQ(window).width()/2;return jQ(e).offset().left<i?"left":"right"}function BCSfSuggestionCallback(e){var t=bcsffilter,i=t.suggestionCache;if(e.hasOwnProperty("prev_query")){var n=e.prev_query;if(i.hasOwnProperty(n)){for(var r=i[n],o=["collections","did_you_mean","pages","suggestions","suggest_query"],a=0;a<o.length;a++)e[o[a]]=getValueInObjectArray(o[a],r);e.prev_total_product=getValueInObjectArray("total_product",r),r[t.findIndexArray("products",r,"key")].values=e.products,r.push({key:"local_cache",values:!0}),r.push({key:"suggest_total_product",values:e.total_product}),t.suggestionCache[n]=r}}suggestionCallback(jQ.map(e,function(e,t){return{key:t,values:e}}))}function hideClearSuggestionBtn(){jQ(".bc-sf-search-btn-clear-suggestion").hide()}function showClearSuggestionBtn(){jQ(".bc-sf-search-btn-clear-suggestion").show()}function removePageParamFromUrl(e){var t=bcsffilter;return t.queryParams.hasOwnProperty("page")&&(e=e.replace("&page="+t.queryParams.page,"").replace("?page="+t.queryParams.page+"&","?")),e}function removeCollectionScopeParamFromUrl(e){var t=bcsffilter;return t.queryParams.hasOwnProperty("collection_scope")&&(e=e.replace("&collection_scope="+t.queryParams.collection_scope,"")),e}function encodeURIParamValue(e){return encodeURIComponent(e).replace(/&/g,"%26").replace(/'/g,"%27")}function convertObjectToArray(e){return Object.keys(e).map(function(t){return e[t]})}function sortArrayObject(e,t){void 0!==t&&e.sort(function(e,i){var n=e[t],r=i[t];return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof r&&(r=r.toLowerCase()),n<r?-1:n>r?1:0})}function getParam(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function mergeObject(e,t){for(var i in t)try{e[i]=t[i].constructor==Object?mergeObject(e[i],t[i]):t[i]}catch(n){e[i]=t[i]}return e}function capitalize(e,t,i){var t=void 0!==t&&t,i=void 0!==i&&i;return t&&(e=e.toLowerCase()),i?e.charAt(0).toUpperCase()+e.slice(1):e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}function getValueInObjectArray(e,t,i,n){void 0===i&&(i="key"),void 0===n&&(n="values");var r=bcsffilter.findIndexArray(e,t,i);return r>-1&&t[r].hasOwnProperty(n)?t[r][n]:""}function isInt(e){return Number(e)===e&&e%1==0}function isFloat(e){return Number(e)===e&&e%1!=0}function getNumberDecimals(e){return(e.toString().split(".")[1]||[]).length}function uniq(e){return e.filter(function(e,t,i){return i.indexOf(e)===t})}function stripHtml(e){return jQ("<p>"+e+"</p>").text()}function stripScriptTag(e){if(e)return e.replace(/<script[^>]*>.*?<\/script>/gi,"")}function getFilePath(e,t,i){var n=bcsffilter,t=void 0!==t?t:"png",i=void 0!==i?i:"1",r=n.fileUrl.substring(0,n.fileUrl.lastIndexOf("?"));return r+=e+"."+t+"?v="+i}function bcUniq(e){return uniq(e)}function bcSize(e){return e.length}function bcJoin(e,t){return e.join(t)}function bcConcat(e,t){return e.concat(t)}function bcFirst(e){return e[0]}function bcLast(e){return e[e.length-1]}function bcMinus(e,t){return e-t}function bcPlus(e,t){return e+t}function bcDividedBy(e,t){return e/t}function bcTimes(e,t){return e*t}function bcModulo(e,t){return e%t}function bcFloor(e){return Math.floor(e)}function bcRound(e){return Math.round(e)}function bcAbs(e){return Math.abs(e)}function bcCapitalize(e){return capitalize(e)}function bcPrepend(e,t){return t.toString()+e.toString()}function bcAppend(e,t){return e.toString()+t.toString()}function bcDowncase(e){return e.toLowerCase()}function bcUpcase(e){return e.toUpperCase()}function bcEscape(e){return bcsffilter.escape(e)}function bcRemove(e,t){var i=new RegExp(t,"g");return e.replace(i,"")}function bcHandle(e){return bcsffilter.slugify(e)}function bcHandleize(e){return bcsffilter.slugify(e)}function bcSplit(e,t){return e.split(t)}function bcStrip(e){return e.trim()}function bcStripHtml(e){return stripHtml(e)}function bcReplace(e,t,i){var n=new RegExp(t,"g");return e.replace(n,i)}function bcTruncate(e,t,i){return bcsffilter.truncateByChar(e,t,i)}function bcTruncatewords(e,t,i){return bcsffilter.truncateByWord(e,t,i)}function bcUrlEncode(e){return encodeURIParamValue(e).replace(/%20/g,"+")}function bcAssetUrl(e){return bcSfFilterConfig.general.asset_url.replace("bc-sf-filter.js",e)}function bcFileUrl(e){return bcsffilter.fileUrl.substring(0,bcsffilter.fileUrl.lastIndexOf("?"))+e}function bcLinkToVendor(e){return bcsffilter.buildProductItemVendorUrl(e)}function bcFormatMoney(e,t){return bcsffilter.formatMoney(e,bcsffilter.moneyFormat,t)}function bcFormatMoneyWithoutCurrency(e,t){return bcsffilter.removeCurrencySymbol(bcsffilter.formatMoney(e,bcsffilter.moneyFormat,t))}function bcImgUrl(){var e=Array.from(arguments),t=e[0],i=e.length>1?e[1]:"small",n="",r="";if(e.length>2){e.splice(0,2);for(var o=0;o<e.length;o++){var a=e[o].split(":");if(2==a.length){var s=a[0].trim(),l=a[1].trim();"crop"==s&&(i+="_crop_"+l.replace(/["']/g,"")),"scale"==s&&(n="@"+l+"x"),"format"==s&&(r=l.replace(/["']/g,""))}}}return t=bcsffilter.optimizeImage(t,i+n),""!=r&&(t=t.replace(/^(.*)(\..*\?)/g,"$1."+r+"?")),t}function bcWithin(e){var t=e.replace("/products/","");return bcsffilter.buildProductItemUrl(t,!0)}function bcMap(e,t){var i="";for(var n in e)e[n].hasOwnProperty(t)&&(i+=e[n][t]);return i}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=ne.type(e);return"function"!==i&&!ne.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(ne.isFunction(t))return ne.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ne.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(pe.test(t))return ne.filter(t,e,i);t=ne.filter(t,e)}return ne.grep(e,function(e){return ne.inArray(e,t)>=0!==i})}function r(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=be[e]={};return ne.each(e.match(ve)||[],function(e,i){t[i]=!0}),t}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),ne.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(xe,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ce.test(i)?ne.parseJSON(i):i)}catch(e){}ne.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!ne.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,n){if(ne.acceptData(e)){var r,o,a=ne.expando,s=e.nodeType,l=s?ne.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=s?e[a]=X.pop()||ne.guid++:a),l[c]||(l[c]=s?{}:{toJSON:ne.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=ne.extend(l[c],t):l[c].data=ne.extend(l[c].data,t)),o=l[c],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[ne.camelCase(t)]=i),"string"==typeof t?null==(r=o[t])&&(r=o[ne.camelCase(t)]):r=o,r}}function p(e,t,i){if(ne.acceptData(e)){var n,r,o=e.nodeType,a=o?ne.cache:e,s=o?e[ne.expando]:ne.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){ne.isArray(t)?t=t.concat(ne.map(t,ne.camelCase)):t in n?t=[t]:(t=ne.camelCase(t),t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]];if(i?!c(n):!ne.isEmptyObject(n))return}(i||(delete a[s].data,c(a[s])))&&(o?ne.cleanData([e],!0):ie.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(){return!0}function f(){return!1}function h(){try{return fe.activeElement}catch(e){}}function g(e){var t=Me.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function m(e,t){var i,n,r=0,o=typeof e.getElementsByTagName!==we?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==we?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||ne.nodeName(n,t)?o.push(n):ne.merge(o,m(n,t));return void 0===t||t&&ne.nodeName(e,t)?ne.merge([e],o):o}function v(e){Fe.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return ne.nodeName(e,"table")&&ne.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==ne.find.attr(e,"type"))+"/"+e.type,e}function S(e){var t=We.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var i,n=0;null!=(i=e[n]);n++)ne._data(i,"globalEval",!t||ne._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&ne.hasData(e)){var i,n,r,o=ne._data(e),a=ne._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,r=s[i].length;r>n;n++)ne.event.add(t,i,s[i][n])}a.data&&(a.data=ne.extend({},a.data))}}function x(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[ne.expando]){r=ne._data(t);for(n in r.events)ne.removeEvent(t,n,r.handle);t.removeAttribute(ne.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,S(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!ne.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Fe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function j(t,i){var n,r=ne(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(r[0]))?n.display:ne.css(r[0],"display");return r.detach(),o}function T(e){var t=fe,i=Je[e];return i||(i=j(e,t),"none"!==i&&i||(Ge=(Ge||ne("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ge[0].contentWindow||Ge[0].contentDocument).document,t.write(),t.close(),i=j(e,t),Ge.detach()),Je[e]=i),i}function k(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=ut.length;r--;)if((t=ut[r]+i)in e)return t;return n}function F(e,t){for(var i,n,r,o=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(o[a]=ne._data(n,"olddisplay"),i=n.style.display,t?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&ke(n)&&(o[a]=ne._data(n,"olddisplay",T(n.nodeName)))):(r=ke(n),(i&&"none"!==i||!r)&&ne._data(n,"olddisplay",r?i:ne.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function P(e,t,i){var n=at.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function B(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===i&&(a+=ne.css(e,i+Te[o],!0,r)),n?("content"===i&&(a-=ne.css(e,"padding"+Te[o],!0,r)),"margin"!==i&&(a-=ne.css(e,"border"+Te[o]+"Width",!0,r))):(a+=ne.css(e,"padding"+Te[o],!0,r),"padding"!==i&&(a+=ne.css(e,"border"+Te[o]+"Width",!0,r)));return a}function _(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ke(e),a=ie.boxSizing&&"border-box"===ne.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=Ze(e,t,o),(0>r||null==r)&&(r=e.style[t]),tt.test(r))return r;n=a&&(ie.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+B(e,t,i||(a?"border":"content"),n,o)+"px"}function E(e,t,i,n,r){return new E.prototype.init(e,t,i,n,r)}function L(){return setTimeout(function(){pt=void 0}),pt=ne.now()}function M(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Te[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function I(e,t,i){for(var n,r=(vt[t]||[]).concat(vt["*"]),o=0,a=r.length;a>o;o++)if(n=r[o].call(i,t,e))return n}function Q(e,t,i){var n,r,o,a,s,l,c,u=this,p={},d=e.style,f=e.nodeType&&ke(e),h=ne._data(e,"fxshow");i.queue||(s=ne._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ne.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],c=ne.css(e,"display"),"inline"===("none"===c?ne._data(e,"olddisplay")||T(e.nodeName):c)&&"none"===ne.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ie.shrinkWrapBlocks()||u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],ft.exec(r)){if(delete t[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!h||void 0===h[n])continue;f=!0}p[n]=h&&h[n]||ne.style(e,n)}else c=void 0;if(ne.isEmptyObject(p))"inline"===("none"===c?T(e.nodeName):c)&&(d.display=c);else{h?"hidden"in h&&(f=h.hidden):h=ne._data(e,"fxshow",{}),o&&(h.hidden=!f),f?ne(e).show():u.done(function(){ne(e).hide()}),u.done(function(){var t;ne._removeData(e,"fxshow");for(t in p)ne.style(e,t,p[t])});for(n in p)a=I(f?h[n]:0,n,u),n in h||(h[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function A(e,t){var i,n,r,o,a;for(i in e)if(n=ne.camelCase(i),r=t[n],o=e[i],ne.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=ne.cssHooks[n])&&"expand"in a){o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}function D(e,t,i){var n,r,o=0,a=mt.length,s=ne.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=pt||L(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,i]),1>o&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ne.extend({},t),opts:ne.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:pt||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ne.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)c.tweens[i].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(A(u,c.opts.specialEasing);a>o;o++)if(n=mt[o].call(c,e,u,c.opts))return n;return ne.map(u,I,c),ne.isFunction(c.opts.start)&&c.opts.start.call(e,c),ne.fx.timer(ne.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(ve)||[];if(ne.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function V(e,t,i,n){function r(s){var l;return o[s]=!0,ne.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Nt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function N(e,t){var i,n,r=ne.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&ne.extend(!0,e,i),e}function R(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}n||(n=a)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function q(e,t,i,n){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function U(e,t,i,n){var r;if(ne.isArray(t))ne.each(t,function(t,r){i||Ut.test(e)?n(e,r):U(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==ne.type(t))n(e,t);else for(r in t)U(e+"["+r+"]",t[r],i,n)}function W(){try{return new e.XMLHttpRequest}catch(e){}}function z(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function $(e){return ne.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var X=[],Y=X.slice,G=X.concat,J=X.push,K=X.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},ne=function(e,t){return new ne.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,ae=/-([\da-z])/gi,se=function(e,t){return t.toUpperCase()};ne.fn=ne.prototype={jquery:"1.11.1",constructor:ne,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ne.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ne.each(this,e,t)},map:function(e){return this.pushStack(ne.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:X.sort,splice:X.splice},ne.extend=ne.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ne.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(n in r)e=a[n],i=r[n],a!==i&&(c&&i&&(ne.isPlainObject(i)||(t=ne.isArray(i)))?(t?(t=!1,o=e&&ne.isArray(e)?e:[]):o=e&&ne.isPlainObject(e)?e:{},a[n]=ne.extend(c,o,i)):void 0!==i&&(a[n]=i));return a},ne.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ne.type(e)},isArray:Array.isArray||function(e){return"array"===ne.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ne.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ne.type(e)||e.nodeType||ne.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ne.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(oe,"ms-").replace(ae,se)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,o=e.length,a=i(e);if(n){if(a)for(;o>r&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(a)for(;o>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ne.merge(n,"string"==typeof e?[e]:e):J.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(K)return K.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;)e[r++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,a=!i;o>r;r++)!t(e[r],r)!==a&&n.push(e[r]);return n},map:function(e,t,n){var r,o=0,a=e.length,s=i(e),l=[];if(s)for(;a>o;o++)null!=(r=t(e[o],o,n))&&l.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&l.push(r);return G.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),ne.isFunction(e)?(i=Y.call(arguments,2),n=function(){return e.apply(t||this,i.concat(Y.call(arguments)))},n.guid=e.guid=e.guid||ne.guid++,n):void 0},now:function(){return+new Date},support:ie}),ne.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,i,n){var r,o,a,s,c,p,d,f,h,g;if((t?t.ownerDocument||t:D)!==B&&P(t),t=t||B,i=i||[],!e||"string"!=typeof e)return i;if(1!==(s=t.nodeType)&&9!==s)return[];if(E&&!n){if(r=me.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&Q(t,o)&&o.id===a)return i.push(o),i}else{if(r[2])return J.apply(i,t.getElementsByTagName(e)),i;if((a=r[3])&&y.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(a)),i}if(y.qsa&&(!L||!L.test(e))){if(f=d=A,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(p=x(e),(d=t.getAttribute("id"))?f=d.replace(be,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",c=p.length;c--;)p[c]=f+u(p[c]);h=ve.test(e)&&l(t.parentNode)||t,g=p.join(",")}if(g)try{return J.apply(i,h.querySelectorAll(g)),i}catch(e){}finally{d||t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>S.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[A]=!0,e}function r(e){var t=B.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)S.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return n(function(t){return t=+t,n(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function l(e){return e&&typeof e.getElementsByTagName!==W&&e}function c(){}function u(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=V++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,a){var s,l,c=[H,o];if(a){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[A]||(t[A]={}),(s=l[n])&&s[0]===H&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}}function d(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function f(e,i,n){for(var r=0,o=i.length;o>r;r++)t(e,i[r],n);return n}function h(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!i||i(o,n,r))&&(a.push(o),c&&t.push(s));return a}function g(e,t,i,r,o,a){return r&&!r[A]&&(r=g(r)),o&&!o[A]&&(o=g(o,a)),n(function(n,a,s,l){var c,u,p,d=[],g=[],m=a.length,v=n||f(t||"*",s.nodeType?[s]:s,[]),b=!e||!n&&t?v:h(v,d,e,s,l),y=i?o||(n?e:m||r)?[]:a:b;if(i&&i(b,y,s,l),r)for(c=h(y,g),r(c,[],s,l),u=c.length;u--;)(p=c[u])&&(y[g[u]]=!(b[g[u]]=p));if(n){if(o||e){if(o){for(c=[],u=y.length;u--;)(p=y[u])&&c.push(b[u]=p);o(null,y=[],c,l)}for(u=y.length;u--;)(p=y[u])&&(c=o?Z.call(n,p):d[u])>-1&&(n[c]=!(a[c]=p))}}else y=h(y===a?y.splice(m,y.length):y),o?o(null,a,y,l):J.apply(a,y)})}function m(e){for(var t,i,n,r=e.length,o=S.relative[e[0].type],a=o||S.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return Z.call(t,e)>-1},a,!0),f=[function(e,i,n){return!o&&(n||i!==k)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];r>s;s++)if(i=S.relative[e[s].type])f=[p(d(f),i)];else{if(i=S.filter[e[s].type].apply(null,e[s].matches),i[A]){for(n=++s;r>n&&!S.relative[e[n].type];n++);return g(s>1&&d(f),s>1&&u(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),i,n>s&&m(e.slice(s,n)),r>n&&m(e=e.slice(n)),r>n&&u(e))}f.push(i)}return d(f)}function v(e,i){var r=i.length>0,o=e.length>0,a=function(n,a,s,l,c){var u,p,d,f=0,g="0",m=n&&[],v=[],b=k,y=n||o&&S.find.TAG("*",c),w=H+=null==b?1:Math.random()||.1,C=y.length;for(c&&(k=a!==B&&a);g!==C&&null!=(u=y[g]);g++){if(o&&u){for(p=0;d=e[p++];)if(d(u,a,s)){l.push(u);break}c&&(H=w)}r&&((u=!d&&u)&&f--,n&&m.push(u))}if(f+=g,r&&g!==f){for(p=0;d=i[p++];)d(m,v,a,s);if(n){if(f>0)for(;g--;)m[g]||v[g]||(v[g]=Y.call(l));v=h(v)}J.apply(l,v),c&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return c&&(H=w,k=b),m};return r?n(a):a}var b,y,S,w,C,x,j,T,k,O,F,P,B,_,E,L,M,I,Q,A="sizzle"+-new Date,D=e.document,H=0,V=0,N=i(),R=i(),q=i(),U=function(e,t){return e===t&&(F=!0),0},W="undefined",z=1<<31,$={}.hasOwnProperty,X=[],Y=X.pop,G=X.push,J=X.push,K=X.slice,Z=X.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=ie.replace("w","w#"),re="\\["+te+"*("+ie+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),le=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),ue=new RegExp(oe),pe=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),Se=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{J.apply(X=K.call(D.childNodes),D.childNodes),X[D.childNodes.length].nodeType}catch(e){J={apply:X.length?function(e,t){G.apply(e,K.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}y=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:D,n=i.defaultView;return i!==B&&9===i.nodeType&&i.documentElement?(B=i,_=i.documentElement,E=!C(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){P()},!1):n.attachEvent&&n.attachEvent("onunload",function(){P()})),y.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=ge.test(i.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),y.getById=r(function(e){return _.appendChild(e).id=A,
!i.getElementsByName||!i.getElementsByName(A).length}),y.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==W&&E){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},S.filter.ID=function(e){var t=e.replace(ye,Se);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(ye,Se);return function(e){var i=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return i&&i.value===t}}),S.find.TAG=y.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==W?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},S.find.CLASS=y.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==W&&E?t.getElementsByClassName(e):void 0},M=[],L=[],(y.qsa=ge.test(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&L.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+te+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(y.matchesSelector=ge.test(I=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&r(function(e){y.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),M.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(_.compareDocumentPosition),Q=t||ge.test(_.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return F=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===D&&Q(D,e)?-1:t===i||t.ownerDocument===D&&Q(D,t)?1:O?Z.call(O,e)-Z.call(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return F=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:O?Z.call(O,e)-Z.call(O,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===D?-1:c[r]===D?1:0},i):B},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==B&&P(e),i=i.replace(ce,"='$1']"),!(!y.matchesSelector||!E||M&&M.test(i)||L&&L.test(i)))try{var n=I.call(e,i);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,B,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==B&&P(e),Q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==B&&P(e);var i=S.attrHandle[t.toLowerCase()],n=i&&$.call(S.attrHandle,t.toLowerCase())?i(e,t,!E):void 0;return void 0!==n?n:y.attributes||!E?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(F=!y.detectDuplicates,O=!y.sortStable&&e.slice(0),e.sort(U),F){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return O=null,e},w=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=w(t);return i},S=t.selectors={cacheLength:50,createPseudo:n,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=x(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,u,p,d,f,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(u=m[A]||(m[A]={}),c=u[e]||[],f=c[0]===H&&c[1],d=c[0]===H&&c[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(d=f=0)||h.pop();)if(1===p.nodeType&&++d&&p===t){u[e]=[H,f,d];break}}else if(b&&(c=(t[A]||(t[A]={}))[e])&&c[0]===H)d=c[1];else for(;(p=++f&&p&&p[g]||(d=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++d||(b&&((p[A]||(p[A]={}))[e]=[H,d]),p!==t)););return(d-=r)===n||d%n==0&&d/n>=0}}},PSEUDO:function(e,i){var r,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[A]?o(i):o.length>1?(r=[e,e,"",i],S.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=o(e,i),a=r.length;a--;)n=Z.call(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],i=[],r=j(e.replace(ae,"$1"));return r[A]?n(function(e,t,i,n){for(var o,a=r(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,r(t,null,o,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Se).toLowerCase(),function(t){var i;do{if(i=E?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,i){return[0>i?i+t:i]}),even:s(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:s(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:s(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:s(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(b);return c.prototype=S.filters=S.pseudos,S.setFilters=new c,x=t.tokenize=function(e,i){var n,r,o,a,s,l,c,u=R[e+" "];if(u)return i?0:u.slice(0);for(s=e,l=[],c=S.preFilter;s;){(!n||(r=se.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=le.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ae," ")}),s=s.slice(n.length));for(a in S.filter)!(r=de[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):R(e,l).slice(0)},j=t.compile=function(e,t){var i,n=[],r=[],o=q[e+" "];if(!o){for(t||(t=x(e)),i=t.length;i--;)o=m(t[i]),o[A]?n.push(o):r.push(o);o=q(e,v(r,n)),o.selector=e}return o},T=t.select=function(e,t,i,n){var r,o,a,s,c,p="function"==typeof e&&e,d=!n&&x(e=p.selector||e);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&y.getById&&9===t.nodeType&&E&&S.relative[o[1].type]){if(!(t=(S.find.ID(a.matches[0].replace(ye,Se),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=de.needsContext.test(e)?0:o.length;r--&&(a=o[r],!S.relative[s=a.type]);)if((c=S.find[s])&&(n=c(a.matches[0].replace(ye,Se),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=n.length&&u(o)))return J.apply(i,n),i;break}}return(p||j(e,d))(n,t,!E,i,ve.test(e)&&l(t.parentNode)||t),i},y.sortStable=A.split("").sort(U).join("")===A,y.detectDuplicates=!!F,P(),y.sortDetached=r(function(e){return 1&e.compareDocumentPosition(B.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,i){var n;return i?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ne.find=le,ne.expr=le.selectors,ne.expr[":"]=ne.expr.pseudos,ne.unique=le.uniqueSort,ne.text=le.getText,ne.isXMLDoc=le.isXML,ne.contains=le.contains;var ce=ne.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;ne.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ne.find.matchesSelector(n,e)?[n]:[]:ne.find.matches(e,ne.grep(t,function(e){return 1===e.nodeType}))},ne.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(ne(e).filter(function(){for(t=0;r>t;t++)if(ne.contains(n[t],this))return!0}));for(t=0;r>t;t++)ne.find(e,n[t],i);return i=this.pushStack(r>1?ne.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ce.test(e)?ne(e):e||[],!1).length}});var de,fe=e.document,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ne.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e))||!i[1]&&t)return!t||t.jquery?(t||de).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ne?t[0]:t,ne.merge(this,ne.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),ue.test(i[1])&&ne.isPlainObject(t))for(i in t)ne.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((n=fe.getElementById(i[2]))&&n.parentNode){if(n.id!==i[2])return de.find(e);this.length=1,this[0]=n}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ne.isFunction(e)?void 0!==de.ready?de.ready(e):e(ne):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ne.makeArray(e,this))}).prototype=ne.fn,de=ne(fe);var ge=/^(?:parents|prev(?:Until|All))/,me={children:!0,contents:!0,next:!0,prev:!0};ne.extend({dir:function(e,t,i){for(var n=[],r=e[t];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!ne(r).is(i));)1===r.nodeType&&n.push(r),r=r[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),ne.fn.extend({has:function(e){var t,i=ne(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ne.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ne(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&ne.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?ne.unique(o):o)},index:function(e){return e?"string"==typeof e?ne.inArray(this[0],ne(e)):ne.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ne.unique(ne.merge(this.get(),ne(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ne.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ne.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return ne.dir(e,"nextSibling")},prevAll:function(e){return ne.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ne.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ne.dir(e,"previousSibling",i)},siblings:function(e){return ne.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ne.sibling(e.firstChild)},contents:function(e){return ne.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ne.merge([],e.childNodes)}},function(e,t){ne.fn[e]=function(i,n){var r=ne.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ne.filter(n,r)),this.length>1&&(me[e]||(r=ne.unique(r)),ge.test(e)&&(r=r.reverse())),this.pushStack(r)}});var ve=/\S+/g,be={};ne.Callbacks=function(e){e="string"==typeof e?be[e]||o(e):ne.extend({},e);var t,i,n,r,a,s,l=[],c=!e.once&&[],u=function(o){for(i=e.memory&&o,n=!0,a=s||0,s=0,r=l.length,t=!0;l&&r>a;a++)if(!1===l[a].apply(o[0],o[1])&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):i?l=[]:p.disable())},p={add:function(){if(l){var n=l.length;!function t(i){ne.each(i,function(i,n){var r=ne.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&t(n)})}(arguments),t?r=l.length:i&&(s=n,u(i))}return this},remove:function(){return l&&ne.each(arguments,function(e,i){for(var n;(n=ne.inArray(i,l,n))>-1;)l.splice(n,1),t&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?ne.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||n&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):u(i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},ne.extend({Deferred:function(e){var t=[["resolve","done",ne.Callbacks("once memory"),"resolved"],["reject","fail",ne.Callbacks("once memory"),"rejected"],["notify","progress",ne.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ne.Deferred(function(i){ne.each(t,function(t,o){var a=ne.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ne.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ne.extend(e,n):n}},r={};return n.pipe=n.then,ne.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&ne.isFunction(e.promise)?a:0,l=1===s?e:ne.Deferred(),c=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>r;r++)o[r]&&ne.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(l.reject).progress(c(r,i,t)):--s;return s||l.resolveWith(n,o),l.promise()}});var ye;ne.fn.ready=function(e){return ne.ready.promise().done(e),this},ne.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ne.readyWait++:ne.ready(!0)},ready:function(e){if(!0===e?!--ne.readyWait:!ne.isReady){if(!fe.body)return setTimeout(ne.ready);ne.isReady=!0,!0!==e&&--ne.readyWait>0||(ye.resolveWith(fe,[ne]),ne.fn.triggerHandler&&(ne(fe).triggerHandler("ready"),ne(fe).off("ready")))}}}),ne.ready.promise=function(t){if(!ye)if(ye=ne.Deferred(),"complete"===fe.readyState)setTimeout(ne.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!ne.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}a(),ne.ready()}}()}return ye.promise(t)};var Se,we="undefined";for(Se in ne(ie))break;ie.ownLast="0"!==Se,ie.inlineBlockNeedsLayout=!1,ne(function(){var e,t,i,n;(i=fe.getElementsByTagName("body")[0])&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(e){ie.deleteExpando=!1}}e=null}(),ne.acceptData=function(e){var t=ne.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;ne.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ne.cache[e[ne.expando]]:e[ne.expando])&&!c(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return p(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return p(e,t,!0)}}),ne.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ne.data(o),1===o.nodeType&&!ne._data(o,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=ne.camelCase(n.slice(5)),l(o,n,r[n])));ne._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ne.data(this,e)}):arguments.length>1?this.each(function(){ne.data(this,e,t)}):o?l(o,e,ne.data(o,e)):void 0},removeData:function(e){return this.each(function(){ne.removeData(this,e)})}}),ne.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ne._data(e,t),i&&(!n||ne.isArray(i)?n=ne._data(e,t,ne.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=ne.queue(e,t),n=i.length,r=i.shift(),o=ne._queueHooks(e,t),a=function(){ne.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ne._data(e,i)||ne._data(e,i,{empty:ne.Callbacks("once memory").add(function(){ne._removeData(e,t+"queue"),ne._removeData(e,i)})})}}),ne.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ne.queue(this[0],e):void 0===t?this:this.each(function(){var i=ne.queue(this,e,t);ne._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ne.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ne.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=ne.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=ne._data(o[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===ne.css(e,"display")||!ne.contains(e.ownerDocument,e)},Oe=ne.access=function(e,t,i,n,r,o,a){var s=0,l=e.length,c=null==i;if("object"===ne.type(i)){r=!0;for(s in i)ne.access(e,t,s,i[s],!0,o,a)}else if(void 0!==n&&(r=!0,ne.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(ne(e),i)})),t))for(;l>s;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:c?t.call(e):l?t(e[0],i):o},Fe=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}}(),function(){var t,i,n=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=!1===n.attributes[i].expando);n=null}();var Pe=/^(?:input|select|textarea)$/i,Be=/^key/,_e=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;ne.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,c,u,p,d,f,h,g,m=ne._data(e);if(m){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=ne.guid++),(a=m.events)||(a=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof ne===we||e&&ne.event.triggered===e.type?void 0:ne.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(ve)||[""],s=t.length;s--;)o=Le.exec(t[s])||[],f=g=o[1],h=(o[2]||"").split(".").sort(),f&&(c=ne.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=ne.event.special[f]||{},p=ne.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&ne.expr.match.needsContext.test(r),namespace:h.join(".")},l),(d=a[f])||(d=a[f]=[],d.delegateCount=0,c.setup&&!1!==c.setup.call(e,n,h,u)||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,p):d.push(p),ne.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var o,a,s,l,c,u,p,d,f,h,g,m=ne.hasData(e)&&ne._data(e);if(m&&(u=m.events)){for(t=(t||"").match(ve)||[""],c=t.length;c--;)if(s=Le.exec(t[c])||[],f=g=s[1],h=(s[2]||"").split(".").sort(),f){for(p=ne.event.special[f]||{},f=(n?p.delegateType:p.bindType)||f,d=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!r&&g!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,p.remove&&p.remove.call(e,a));l&&!d.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||ne.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)ne.event.remove(e,f+t[c],i,n,!0);ne.isEmptyObject(u)&&(delete m.handle,ne._removeData(e,"events"))}},trigger:function(t,i,n,r){var o,a,s,l,c,u,p,d=[n||fe],f=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=u=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!Ee.test(f+ne.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[ne.expando]?t:new ne.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:ne.makeArray(i,[t]),c=ne.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(n,i))){if(!r&&!c.noBubble&&!ne.isWindow(n)){for(l=c.delegateType||f,Ee.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(n.ownerDocument||fe)&&d.push(u.defaultView||u.parentWindow||e)}for(p=0;(s=d[p++])&&!t.isPropagationStopped();)t.type=p>1?l:c.bindType||f,o=(ne._data(s,"events")||{})[t.type]&&ne._data(s,"handle"),o&&o.apply(s,i),(o=a&&s[a])&&o.apply&&ne.acceptData(s)&&(t.result=o.apply(s,i),!1===t.result&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),i))&&ne.acceptData(n)&&a&&n[f]&&!ne.isWindow(n)){u=n[a],u&&(n[a]=null),ne.event.triggered=f;try{n[f]()}catch(e){}ne.event.triggered=void 0,u&&(n[a]=u)}return t.result}},dispatch:function(e){e=ne.event.fix(e);var t,i,n,r,o,a=[],s=Y.call(arguments),l=(ne._data(this,"events")||{})[e.type]||[],c=ne.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=ne.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(n=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,void 0!==(i=((ne.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],o=0;s>o;o++)n=t[o],i=n.selector+" ",void 0===r[i]&&(r[i]=n.needsContext?ne(i,this).index(l)>=0:ne.find(i,this,null,[l]).length),r[i]&&r.push(n);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ne.expando])return e;var t,i,n,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=_e.test(r)?this.mouseHooks:Be.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new ne.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||fe,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ne.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ne.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=ne.extend(new ne.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ne.event.trigger(r,null,t):ne.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},ne.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===we&&(e[n]=null),e.detachEvent(n,i))},ne.Event=function(e,t){return this instanceof ne.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:f):this.type=e,t&&ne.extend(this,t),this.timeStamp=e&&e.timeStamp||ne.now(),void(this[ne.expando]=!0)):new ne.Event(e,t)},ne.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ne.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ne.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==n&&!ne.contains(n,r))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(ne.event.special.submit={setup:function(){return!ne.nodeName(this,"form")&&void ne.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ne.nodeName(t,"input")||ne.nodeName(t,"button")?t.form:void 0;i&&!ne._data(i,"submitBubbles")&&(ne.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ne._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ne.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ne.nodeName(this,"form")&&void ne.event.remove(this,"._submit")}}),ie.changeBubbles||(ne.event.special.change={setup:function(){return Pe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ne.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ne.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ne.event.simulate("change",this,e,!0)})),!1):void ne.event.add(this,"beforeactivate._change",function(e){var t=e.target;Pe.test(t.nodeName)&&!ne._data(t,"changeBubbles")&&(ne.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ne.event.simulate("change",this.parentNode,e,!0)}),ne._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){
return ne.event.remove(this,"._change"),!Pe.test(this.nodeName)}}),ie.focusinBubbles||ne.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ne.event.simulate(t,e.target,ne.event.fix(e),!0)};ne.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=ne._data(n,t);r||n.addEventListener(e,i,!0),ne._data(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ne._data(n,t)-1;r?ne._data(n,t,r):(n.removeEventListener(e,i,!0),ne._removeData(n,t))}}}),ne.fn.extend({on:function(e,t,i,n,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=f;else if(!n)return this;return 1===r&&(a=n,n=function(e){return ne().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=ne.guid++)),this.each(function(){ne.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ne(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(!1===t||"function"==typeof t)&&(i=t,t=void 0),!1===i&&(i=f),this.each(function(){ne.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){ne.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?ne.event.trigger(e,t,i,!0):void 0}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ie=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+Me+")[\\s/>]","i"),Ae=/^\s+/,De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,He=/<([\w:]+)/,Ve=/<tbody/i,Ne=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,We=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=g(fe),Ye=Xe.appendChild(fe.createElement("div"));$e.optgroup=$e.option,$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td,ne.extend({clone:function(e,t,i){var n,r,o,a,s,l=ne.contains(e.ownerDocument,e);if(ie.html5Clone||ne.isXMLDoc(e)||!Qe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ye.innerHTML=e.outerHTML,Ye.removeChild(o=Ye.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ne.isXMLDoc(e)))for(n=m(o),s=m(e),a=0;null!=(r=s[a]);++a)n[a]&&x(r,n[a]);if(t)if(i)for(s=s||m(e),n=n||m(o),a=0;null!=(r=s[a]);a++)C(r,n[a]);else C(e,o);return n=m(o,"script"),n.length>0&&w(n,!l&&m(e,"script")),n=s=r=null,o},buildFragment:function(e,t,i,n){for(var r,o,a,s,l,c,u,p=e.length,d=g(t),f=[],h=0;p>h;h++)if((o=e[h])||0===o)if("object"===ne.type(o))ne.merge(f,o.nodeType?[o]:o);else if(Ne.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=(He.exec(o)||["",""])[1].toLowerCase(),u=$e[l]||$e._default,s.innerHTML=u[1]+o.replace(De,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!ie.leadingWhitespace&&Ae.test(o)&&f.push(t.createTextNode(Ae.exec(o)[0])),!ie.tbody)for(o="table"!==l||Ve.test(o)?"<table>"!==u[1]||Ve.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)ne.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ne.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(t.createTextNode(o));for(s&&d.removeChild(s),ie.appendChecked||ne.grep(m(f,"input"),v),h=0;o=f[h++];)if((!n||-1===ne.inArray(o,n))&&(a=ne.contains(o.ownerDocument,o),s=m(d.appendChild(o),"script"),a&&w(s),i))for(r=0;o=s[r++];)Ue.test(o.type||"")&&i.push(o);return s=null,d},cleanData:function(e,t){for(var i,n,r,o,a=0,s=ne.expando,l=ne.cache,c=ie.deleteExpando,u=ne.event.special;null!=(i=e[a]);a++)if((t||ne.acceptData(i))&&(r=i[s],o=r&&l[r])){if(o.events)for(n in o.events)u[n]?ne.event.remove(i,n):ne.removeEvent(i,n,o.handle);l[r]&&(delete l[r],c?delete i[s]:typeof i.removeAttribute!==we?i.removeAttribute(s):i[s]=null,X.push(r))}}}),ne.fn.extend({text:function(e){return Oe(this,function(e){return void 0===e?ne.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||b(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ne.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||ne.cleanData(m(i)),i.parentNode&&(t&&ne.contains(i.ownerDocument,i)&&w(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ne.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ne.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ne.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ie,""):void 0;if(!("string"!=typeof e||Re.test(e)||!ie.htmlSerialize&&Qe.test(e)||!ie.leadingWhitespace&&Ae.test(e)||$e[(He.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(De,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(ne.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ne.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var i,n,r,o,a,s,l=0,c=this.length,u=this,p=c-1,d=e[0],f=ne.isFunction(d);if(f||c>1&&"string"==typeof d&&!ie.checkClone&&qe.test(d))return this.each(function(i){var n=u.eq(i);f&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(c&&(s=ne.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(o=ne.map(m(s,"script"),y),r=o.length;c>l;l++)n=s,l!==p&&(n=ne.clone(n,!0,!0),r&&ne.merge(o,m(n,"script"))),t.call(this[l],n,l);if(r)for(a=o[o.length-1].ownerDocument,ne.map(o,S),l=0;r>l;l++)n=o[l],Ue.test(n.type||"")&&!ne._data(n,"globalEval")&&ne.contains(a,n)&&(n.src?ne._evalUrl&&ne._evalUrl(n.src):ne.globalEval((n.text||n.textContent||n.innerHTML||"").replace(ze,"")));s=i=null}return this}}),ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ne.fn[e]=function(e){for(var i,n=0,r=[],o=ne(e),a=o.length-1;a>=n;n++)i=n===a?this:this.clone(!0),ne(o[n])[t](i),J.apply(r,i.get());return this.pushStack(r)}});var Ge,Je={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var Ke,Ze,et=/^margin/,tt=new RegExp("^("+je+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ke=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},Ze=function(e,t,i){var n,r,o,a,s=e.style;return i=i||Ke(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||ne.contains(e.ownerDocument,e)||(a=ne.style(e,t)),tt.test(a)&&et.test(t)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(Ke=function(e){return e.currentStyle},Ze=function(e,t,i){var n,r,o,a,s=e.style;return i=i||Ke(e),a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(n=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,n,r;(i=fe.getElementsByTagName("body")[0])&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(fe.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),i.removeChild(n))}var i,n,r,o,a,s,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=i.getElementsByTagName("a")[0],(n=r&&r.style)&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ne.extend(ie,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ne.swap=function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return r};var nt=/alpha\([^)]*\)/i,rt=/opacity\s*=\s*([^)]*)/,ot=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+je+")(.*)$","i"),st=new RegExp("^([+-])=("+je+")","i"),lt={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","O","Moz","ms"];ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ze(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=ne.camelCase(t),l=e.style;if(t=ne.cssProps[s]||(ne.cssProps[s]=O(l,s)),a=ne.cssHooks[t]||ne.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t];if(o=typeof i,"string"===o&&(r=st.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(ne.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||ne.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,n){var r,o,a,s=ne.camelCase(t);return t=ne.cssProps[s]||(ne.cssProps[s]=O(e.style,s)),a=ne.cssHooks[t]||ne.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=Ze(e,t,n)),"normal"===o&&t in ct&&(o=ct[t]),""===i||i?(r=parseFloat(o),!0===i||ne.isNumeric(r)?r||0:o):o}}),ne.each(["height","width"],function(e,t){ne.cssHooks[t]={get:function(e,i,n){return i?ot.test(ne.css(e,"display"))&&0===e.offsetWidth?ne.swap(e,lt,function(){return _(e,t,n)}):_(e,t,n):void 0},set:function(e,i,n){var r=n&&Ke(e);return P(e,i,n?B(e,t,n,ie.boxSizing&&"border-box"===ne.css(e,"boxSizing",!1,r),r):0)}}}),ie.opacity||(ne.cssHooks.opacity={get:function(e,t){return rt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=ne.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ne.trim(o.replace(nt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=nt.test(o)?o.replace(nt,r):o+" "+r)}}),ne.cssHooks.marginRight=k(ie.reliableMarginRight,function(e,t){return t?ne.swap(e,{display:"inline-block"},Ze,[e,"marginRight"]):void 0}),ne.each({margin:"",padding:"",border:"Width"},function(e,t){ne.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Te[n]+t]=o[n]||o[n-2]||o[0];return r}},et.test(e)||(ne.cssHooks[e+t].set=P)}),ne.fn.extend({css:function(e,t){return Oe(this,function(e,t,i){var n,r,o={},a=0;if(ne.isArray(t)){for(n=Ke(e),r=t.length;r>a;a++)o[t[a]]=ne.css(e,t[a],!1,n);return o}return void 0!==i?ne.style(e,t,i):ne.css(e,t)},e,t,arguments.length>1)},show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?ne(this).show():ne(this).hide()})}}),ne.Tween=E,E.prototype={constructor:E,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ne.cssNumber[i]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,i=E.propHooks[this.prop];return this.pos=t=this.options.duration?ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ne.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ne.cssProps[e.prop]]||ne.cssHooks[e.prop])?ne.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ne.fx=E.prototype.init,ne.fx.step={};var pt,dt,ft=/^(?:toggle|show|hide)$/,ht=new RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),gt=/queueHooks$/,mt=[Q],vt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=ht.exec(t),o=r&&r[3]||(ne.cssNumber[e]?"":"px"),a=(ne.cssNumber[e]||"px"!==o&&+n)&&ht.exec(ne.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+n||1;do{s=s||".5",a/=s,ne.style(i.elem,e,a+o)}while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(a=i.start=+a||+n||0,i.unit=o,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};ne.Animation=ne.extend(D,{tweener:function(e,t){ne.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],vt[i]=vt[i]||[],vt[i].unshift(t)},prefilter:function(e,t){t?mt.unshift(e):mt.push(e)}}),ne.speed=function(e,t,i){var n=e&&"object"==typeof e?ne.extend({},e):{complete:i||!i&&t||ne.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ne.isFunction(t)&&t};return n.duration=ne.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ne.fx.speeds?ne.fx.speeds[n.duration]:ne.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ne.isFunction(n.old)&&n.old.call(this),n.queue&&ne.dequeue(this,n.queue)},n},ne.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=ne.isEmptyObject(e),o=ne.speed(t,i,n),a=function(){var t=D(this,ne.extend({},e),o);(r||ne._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ne.timers,a=ne._data(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&gt.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));(t||!i)&&ne.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=ne._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=ne.timers,a=n?n.length:0;for(i.finish=!0,ne.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ne.each(["toggle","show","hide"],function(e,t){var i=ne.fn[t];ne.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(M(t,!0),e,n,r)}}),ne.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ne.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ne.timers=[],ne.fx.tick=function(){var e,t=ne.timers,i=0;for(pt=ne.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||ne.fx.stop(),pt=void 0},ne.fx.timer=function(e){ne.timers.push(e),e()?ne.fx.start():ne.timers.pop()},ne.fx.interval=13,ne.fx.start=function(){dt||(dt=setInterval(ne.fx.tick,ne.fx.interval))},ne.fx.stop=function(){clearInterval(dt),dt=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fn.delay=function(e,t){return e=ne.fx?ne.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,r;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=fe.createElement("select"),r=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=r.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!r.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var bt=/\r/g;ne.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=ne.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,ne(this).val()):e,null==r?r="":"number"==typeof r?r+="":ne.isArray(r)&&(r=ne.map(r,function(e){return null==e?"":e+""})),(t=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=ne.valHooks[r.type]||ne.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(bt,""):null==i?"":i)):void 0}}),ne.extend({valHooks:{option:{get:function(e){var t=ne.find.attr(e,"value");return null!=t?t:ne.trim(ne.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:n.length,l=0>r?s:o?r:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==r||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ne.nodeName(i.parentNode,"optgroup"))){if(t=ne(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=ne.makeArray(t),a=r.length;a--;)if(n=r[a],ne.inArray(ne.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(e){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),ne.each(["radio","checkbox"],function(){ne.valHooks[this]={set:function(e,t){return ne.isArray(t)?e.checked=ne.inArray(ne(e).val(),t)>=0:void 0}},ie.checkOn||(ne.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt,St,wt=ne.expr.attrHandle,Ct=/^(?:checked|selected)$/i,xt=ie.getSetAttribute,jt=ie.input;ne.fn.extend({attr:function(e,t){return Oe(this,ne.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ne.removeAttr(this,e)})}}),ne.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===we?ne.prop(e,t,i):(1===o&&ne.isXMLDoc(e)||(t=t.toLowerCase(),n=ne.attrHooks[t]||(ne.expr.match.bool.test(t)?St:yt)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=ne.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void ne.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(ve);if(o&&1===e.nodeType)for(;i=o[r++];)n=ne.propFix[i]||i,ne.expr.match.bool.test(i)?jt&&xt||!Ct.test(i)?e[n]=!1:e[ne.camelCase("default-"+i)]=e[n]=!1:ne.attr(e,i,""),e.removeAttribute(xt?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&ne.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),St={set:function(e,t,i){return!1===t?ne.removeAttr(e,i):jt&&xt||!Ct.test(i)?e.setAttribute(!xt&&ne.propFix[i]||i,i):e[ne.camelCase("default-"+i)]=e[i]=!0,i}},ne.each(ne.expr.match.bool.source.match(/\w+/g),function(e,t){var i=wt[t]||ne.find.attr;wt[t]=jt&&xt||!Ct.test(t)?function(e,t,n){var r,o;return n||(o=wt[t],wt[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,wt[t]=o),r}:function(e,t,i){return i?void 0:e[ne.camelCase("default-"+t)]?t.toLowerCase():null}}),jt&&xt||(ne.attrHooks.value={set:function(e,t,i){return ne.nodeName(e,"input")?void(e.defaultValue=t):yt&&yt.set(e,t,i)}}),xt||(yt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},wt.id=wt.name=wt.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},ne.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:yt.set},ne.attrHooks.contenteditable={set:function(e,t,i){yt.set(e,""!==t&&t,i)}},ne.each(["width","height"],function(e,t){ne.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(ne.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Tt=/^(?:input|select|textarea|button|object)$/i,kt=/^(?:a|area)$/i;ne.fn.extend({prop:function(e,t){return Oe(this,ne.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ne.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ne.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ne.isXMLDoc(e),o&&(t=ne.propFix[t]||t,r=ne.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ne.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||ne.each(["href","src"],function(e,t){ne.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(ne.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ne.propFix[this.toLowerCase()]=this}),ie.enctype||(ne.propFix.enctype="encoding");var Ot=/[\t\r\n\f]/g;ne.fn.extend({addClass:function(e){var t,i,n,r,o,a,s=0,l=this.length,c="string"==typeof e&&e;if(ne.isFunction(e))return this.each(function(t){ne(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(ve)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ot," "):" ")){for(o=0;r=t[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=ne.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,r,o,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ne.isFunction(e))return this.each(function(t){ne(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(ve)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ot," "):"")){for(o=0;r=t[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");a=e?ne.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(ne.isFunction(e)?function(i){ne(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,r=ne(this),o=e.match(ve)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===we||"boolean"===i)&&(this.className&&ne._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ne._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ot," ").indexOf(t)>=0)return!0;return!1}}),ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ne.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ne.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Ft=ne.now(),Pt=/\?/,Bt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ne.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,r=ne.trim(t+"");return r&&!ne.trim(r.replace(Bt,function(e,t,r,o){return i&&t&&(n=0),0===n?e:(i=r||t,n+=!o-!r,"")}))?Function("return "+r)():ne.error("Invalid JSON: "+t)},ne.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ne.error("Invalid XML: "+t),i};var _t,Et,Lt=/#.*$/,Mt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,At=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Nt={},Rt="*/".concat("*");try{Et=location.href}catch(e){Et=fe.createElement("a"),Et.href="",Et=Et.href}_t=Ht.exec(Et.toLowerCase())||[],ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et,type:"GET",isLocal:Qt.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ne.parseJSON,"text xml":ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,ne.ajaxSettings),t):N(ne.ajaxSettings,e)},ajaxPrefilter:H(Vt),ajaxTransport:H(Nt),ajax:function(e,t){function i(e,t,i,n){var r,u,v,b,S,C=t;2!==y&&(y=2,s&&clearTimeout(s),c=void 0,a=n||"",w.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=R(p,w,i)),b=q(p,b,w,r),r?(p.ifModified&&(S=w.getResponseHeader("Last-Modified"),S&&(ne.lastModified[o]=S),(S=w.getResponseHeader("etag"))&&(ne.etag[o]=S)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=b.state,u=b.data,v=b.error,r=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),w.status=e,w.statusText=(t||C)+"",r?h.resolveWith(d,[u,C,w]):h.rejectWith(d,[w,C,v]),w.statusCode(m),m=void 0,l&&f.trigger(r?"ajaxSuccess":"ajaxError",[w,p,r?u:v]),g.fireWith(d,[w,C]),l&&(f.trigger("ajaxComplete",[w,p]),--ne.active||ne.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,l,c,u,p=ne.ajaxSetup({},t),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?ne(d):ne.event,h=ne.Deferred(),g=ne.Callbacks("once memory"),m=p.statusCode||{},v={},b={},y=0,S="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!u)for(u={};t=It.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||S;return c&&c.abort(t),i(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||Et)+"").replace(Lt,"").replace(Dt,_t[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=ne.trim(p.dataType||"*").toLowerCase().match(ve)||[""],null==p.crossDomain&&(n=Ht.exec(p.url.toLowerCase()),p.crossDomain=!(!n||n[1]===_t[1]&&n[2]===_t[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ne.param(p.data,p.traditional)),V(Vt,p,t,w),2===y)return w;l=p.global,l&&0==ne.active++&&ne.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!At.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Pt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Mt.test(o)?o.replace(Mt,"$1_="+Ft++):o+(Pt.test(o)?"&":"?")+"_="+Ft++)),p.ifModified&&(ne.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ne.lastModified[o]),ne.etag[o]&&w.setRequestHeader("If-None-Match",ne.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Rt+"; q=0.01":""):p.accepts["*"]);for(r in p.headers)w.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(!1===p.beforeSend.call(d,w,p)||2===y))return w.abort();S="abort";for(r in{success:1,error:1,complete:1})w[r](p[r]);if(c=V(Nt,p,t,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},p.timeout));try{y=1,c.send(v,i)}catch(e){if(!(2>y))throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return ne.get(e,t,i,"json")},getScript:function(e,t){return ne.get(e,void 0,t,"script")}}),ne.each(["get","post"],function(e,t){ne[t]=function(e,i,n,r){return ne.isFunction(i)&&(r=r||n,n=i,i=void 0),ne.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ne.fn[t]=function(e){return this.on(t,e)}}),ne._evalUrl=function(e){return ne.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ne.fn.extend({wrapAll:function(e){if(ne.isFunction(e))return this.each(function(t){ne(this).wrapAll(e.call(this,t))});if(this[0]){var t=ne(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){
for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ne.isFunction(e)?function(t){ne(this).wrapInner(e.call(this,t))}:function(){var t=ne(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ne.isFunction(e);return this.each(function(i){ne(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ne.nodeName(this,"body")||ne(this).replaceWith(this.childNodes)}).end()}}),ne.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ne.css(e,"display"))},ne.expr.filters.visible=function(e){return!ne.expr.filters.hidden(e)};var qt=/%20/g,Ut=/\[\]$/,Wt=/\r?\n/g,zt=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;ne.param=function(e,t){var i,n=[],r=function(e,t){t=ne.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ne.ajaxSettings&&ne.ajaxSettings.traditional),ne.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,function(){r(this.name,this.value)});else for(i in e)U(i,e[i],t,r);return n.join("&").replace(qt,"+")},ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ne.prop(this,"elements");return e?ne.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ne(this).is(":disabled")&&$t.test(this.nodeName)&&!zt.test(e)&&(this.checked||!Fe.test(e))}).map(function(e,t){var i=ne(this).val();return null==i?null:ne.isArray(i)?ne.map(i,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:i.replace(Wt,"\r\n")}}).get()}}),ne.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||z()}:W;var Xt=0,Yt={},Gt=ne.ajaxSettings.xhr();e.ActiveXObject&&ne(e).on("unload",function(){for(var e in Yt)Yt[e](void 0,!0)}),ie.cors=!!Gt&&"withCredentials"in Gt,(Gt=ie.ajax=!!Gt)&&ne.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,n){var r,o=e.xhr(),a=++Xt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&o.setRequestHeader(r,i[r]+"");o.send(e.hasContent&&e.data||null),t=function(i,r){var s,l,c;if(t&&(r||4===o.readyState))if(delete Yt[a],t=void 0,o.onreadystatechange=ne.noop,r)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&n(s,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Yt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ne.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||ne("head")[0]||fe.documentElement;return{send:function(n,r){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Jt=[],Kt=/(=)\?(?=&|$)|\?\?/;ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||ne.expando+"_"+Ft++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ne.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+r):!1!==t.jsonp&&(t.url+=(Pt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||ne.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,Jt.push(r)),a&&ne.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ne.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var n=ue.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=ne.buildFragment([e],t,r),r&&r.length&&ne(r).remove(),ne.merge([],n.childNodes))};var Zt=ne.fn.load;ne.fn.load=function(e,t,i){if("string"!=typeof e&&Zt)return Zt.apply(this,arguments);var n,r,o,a=this,s=e.indexOf(" ");return s>=0&&(n=ne.trim(e.slice(s,e.length)),e=e.slice(0,s)),ne.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ne.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(n?ne("<div>").append(ne.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},ne.expr.filters.animated=function(e){return ne.grep(ne.timers,function(t){return e===t.elem}).length};var ei=e.document.documentElement;ne.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,c,u=ne.css(e,"position"),p=ne(e),d={};"static"===u&&(e.style.position="relative"),s=p.offset(),o=ne.css(e,"top"),l=ne.css(e,"left"),c=("absolute"===u||"fixed"===u)&&ne.inArray("auto",[o,l])>-1,c?(n=p.position(),a=n.top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),ne.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):p.css(d)}},ne.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ne.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,ne.contains(t,r)?(typeof r.getBoundingClientRect!==we&&(n=r.getBoundingClientRect()),i=$(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ne.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ne.nodeName(e[0],"html")||(i=e.offset()),i.top+=ne.css(e[0],"borderTopWidth",!0),i.left+=ne.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ne.css(n,"marginTop",!0),left:t.left-i.left-ne.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ei;e&&!ne.nodeName(e,"html")&&"static"===ne.css(e,"position");)e=e.offsetParent;return e||ei})}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);ne.fn[e]=function(n){return Oe(this,function(e,n,r){var o=$(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[n]:e[n]:void(o?o.scrollTo(i?ne(o).scrollLeft():r,i?r:ne(o).scrollTop()):e[n]=r)},e,n,arguments.length,null)}}),ne.each(["top","left"],function(e,t){ne.cssHooks[t]=k(ie.pixelPosition,function(e,i){return i?(i=Ze(e,t),tt.test(i)?ne(e).position()[t]+"px":i):void 0})}),ne.each({Height:"height",Width:"width"},function(e,t){ne.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){ne.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border");return Oe(this,function(t,i,n){var r;return ne.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?ne.css(t,i,a):ne.style(t,i,n,a)},t,o?n:void 0,o,null)}})}),ne.fn.size=function(){return this.length},ne.fn.andSelf=ne.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ne});var ti=e.jQuery,ii=e.$;return ne.noConflict=function(t){return e.$===ne&&(e.$=ii),t&&e.jQuery===ne&&(e.jQuery=ti),ne},typeof t===we&&(e.jQuery=e.$=ne),ne}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.ui=e.ui||{},e.ui.version="1.12.1";var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=e._data(r,"events"))&&n.remove&&e(r).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var r,o,a,s={},l=t.split(".")[0];t=t.split(".")[1];var c=l+"-"+t;return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(s[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function r(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(s[t]=n)}),o.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},s,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;s>a;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,n=e.data(this,r);return"instance"===o?(l=n,!1):n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;n.length-1>o;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(n=e(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,o){var a,s;for(s=0;i.length>s;s++)a=r.classesElementLookup[i[s]]||e(),a=e(t.add?e.unique(a.get().concat(t.element.get())):a.not(t.element).get()),r.classesElementLookup[i[s]]=a,n.push(i[s]),o&&t.classes[i[s]]&&n.push(t.classes[i[s]])}var n=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,r){-1!==e.inArray(t.target,r)&&(i.classesElementLookup[n]=e(r.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof e||null===e,o={extra:r?t:i,keys:r?e:t,element:r?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,a){function s(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,s):i.on(c,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var r,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.widget,function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var r,o=Math.max,a=Math.abs,s=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,p=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return e("body").append(n),t=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),r=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:e(t).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return d.apply(this,arguments);r=e.extend({},r);var p,f,h,g,m,v,b=e(r.of),y=e.position.getWithinInfo(r.within),S=e.position.getScrollInfo(y),w=(r.collision||"flip").split(" "),C={};return v=n(b),b[0].preventDefault&&(r.at="left top"),f=v.width,h=v.height,g=v.offset,m=e.extend({},g),e.each(["my","at"],function(){var e,t,i=(r[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=c.exec(i[0]),t=c.exec(i[1]),C[this]=[e?e[0]:0,t?t[0]:0],r[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===r.at[0]?m.left+=f:"center"===r.at[0]&&(m.left+=f/2),"bottom"===r.at[1]?m.top+=h:"center"===r.at[1]&&(m.top+=h/2),p=t(C.at,f,h),m.left+=p[0],m.top+=p[1],this.each(function(){var n,s,l=e(this),c=l.outerWidth(),u=l.outerHeight(),d=i(this,"marginLeft"),v=i(this,"marginTop"),x=c+d+i(this,"marginRight")+S.width,j=u+v+i(this,"marginBottom")+S.height,T=e.extend({},m),k=t(C.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?T.left-=c:"center"===r.my[0]&&(T.left-=c/2),"bottom"===r.my[1]?T.top-=u:"center"===r.my[1]&&(T.top-=u/2),T.left+=k[0],T.top+=k[1],n={marginLeft:d,marginTop:v},e.each(["left","top"],function(t,i){e.ui.position[w[t]]&&e.ui.position[w[t]][i](T,{targetWidth:f,targetHeight:h,elemWidth:c,elemHeight:u,collisionPosition:n,collisionWidth:x,collisionHeight:j,offset:[p[0]+k[0],p[1]+k[1]],my:r.my,at:r.at,within:y,elem:l})}),r.using&&(s=function(e){var t=g.left-T.left,i=t+f-c,n=g.top-T.top,s=n+h-u,p={target:{element:b,left:g.left,top:g.top,width:f,height:h},element:{element:l,left:T.left,top:T.top,width:c,height:u},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};c>f&&f>a(t+i)&&(p.horizontal="center"),u>h&&h>a(n+s)&&(p.vertical="middle"),p.important=o(a(t),a(i))>o(a(n),a(s))?"horizontal":"vertical",r.using.call(this,e,p)}),l.offset(e.extend(T,{using:s}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=c?(i=e.left+l+t.collisionWidth-a-r,e.left+=l-i):e.left=c>0&&0>=l?r:l>c?r+a-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-s,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=c?(i=e.top+l+t.collisionHeight-a-r,e.top+=l-i):e.top=c>0&&0>=l?r:l>c?r+a-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,p=c+t.collisionWidth-s-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];0>u?(0>(i=e.left+d+f+h+t.collisionWidth-s-o)||a(u)>i)&&(e.left+=d+f+h):p>0&&((n=e.left-t.collisionPosition.marginLeft+d+f+h-l)>0||p>a(n))&&(e.left+=d+f+h)},top:function(e,t){var i,n,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,p=c+t.collisionHeight-s-l,d="top"===t.my[1],f=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>u?(0>(n=e.top+f+h+g+t.collisionHeight-s-o)||a(u)>n)&&(e.top+=f+h+g):p>0&&((i=e.top-t.collisionPosition.marginTop+f+h+g-l)>0||p>a(i))&&(e.top+=f+h+g)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),n=e(t.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,n,r,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,n=this.previousFilter||"",o=!1,r=t.keyCode>=96&&105>=t.keyCode?""+(t.keyCode-96):String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,n,r,o,a=this,s=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),n=e("<span>").data("ui-menu-submenu-caret",!0);a._addClass(n,"ui-menu-icon","ui-icon "+s),i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),t=l.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);a._isDivider(t)&&a._addClass(t,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e+""),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,o,a,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-n-r}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}}),e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r)
;break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),void((n=i.item.attr("aria-label")||r.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,i){var n=i.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}),void 0===History.Adapter&&("object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;i<o;i+=1)a[i]=str(i,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;i<o;i+=1)"string"==typeof rep[i]&&(n=rep[i],(r=str(n,l))&&a.push(quote(n)+(gap?": ":":")+r));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l))&&a.push(quote(n)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){"use strict";var t=e.History=e.History||{},i=e.jQuery;if(void 0!==t.Adapter)throw new Error("History.js Adapter has already been loaded...");t.Adapter={bind:function(e,t,n){i(e).bind(t,n)},trigger:function(e,t,n){i(e).trigger(t,n)},extractEventData:function(e,t,i){return t&&t.originalEvent&&t.originalEvent[e]||i&&i[e]||void 0},onDomLoad:function(e){i(e)}},void 0!==t.init&&t.init()}(window),function(e){"use strict";var t=e.document,i=e.setTimeout||i,n=e.clearTimeout||n,r=e.setInterval||r,o=e.History=e.History||{};if(void 0!==o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){if(void 0!==o.initHtml4.initialized)return!1;o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){return e===o.getHashByIndex()},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return!o.isLastHash(e)&&(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){return void 0===e?o.savedHashes[o.savedHashes.length-1]:e<0?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,i){var n,r=o.getHashByState(e);return n={discardedState:e,backState:i,forwardState:t},o.discardedStates[r]=n,!0},o.discardHash=function(e,t,i){var n={discardedHash:e,backState:i,forwardState:t};return o.discardedHashes[e]=n,!0},o.discardedState=function(e){var t=o.getHashByState(e);return o.discardedStates[t]||!1},o.discardedHash=function(e){return o.discardedHashes[e]||!1},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var i,n,a,s,l="",c=Boolean(o.getHash());return o.isInternetExplorer()?(i="historyjs-iframe",n=t.createElement("iframe"),n.setAttribute("id",i),n.setAttribute("src","#"),n.style.display="none",t.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),a="",s=!1,o.checkerFunction=function(){if(s)return!1;s=!0;var t=o.getHash(),i=o.getHash(n.contentWindow.document);return t!==l?(l=t,i!==t&&(a=i=t,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=o.escapeHash(t)),o.Adapter.trigger(e,"hashchange")):i!==a&&(a=i,c&&""===i?o.back():o.setHash(i,!1)),s=!1,!0}):o.checkerFunction=function(){var t=o.getHash()||"";return t!==l&&(l=t,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(r(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var i,n=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(n),a=null;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(a=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(a)?(o.busy(!1),!1):(o.getHashByState(a),i=o.discardedState(a),i?(o.getHashByIndex(-2)===o.getHashByState(i.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(a.data,a.title,encodeURI(a.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,i,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),o.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==r&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:r}),!1;o.busy(!0);var a=o.createStateObject(t,i,n),s=o.getHashByState(a),l=o.getState(!1),c=o.getHashByState(l),u=o.getHash(),p=o.expectedStateId==a.id;return o.storeState(a),o.expectedStateId=a.id,o.recycleState(a),o.setTitle(a),s===c?(o.busy(!1),!1):(o.saveState(a),p||o.Adapter.trigger(e,"statechange"),!o.isHashEqual(s,u)&&!o.isHashEqual(s,o.getShortUrl(o.getLocationHref()))&&o.setHash(s,!1),o.busy(!1),!0)},o.replaceState=function(t,i,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),o.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==r&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:r}),!1;o.busy(!0);var a=o.createStateObject(t,i,n),s=o.getHashByState(a),l=o.getState(!1),c=o.getHashByState(l),u=o.getStateByIndex(-2);return o.discardState(l,a,u),s===c?(o.storeState(a),o.expectedStateId=a.id,o.recycleState(a),o.setTitle(a),o.saveState(a),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(a.data,a.title,a.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")})},void 0!==o.init&&o.init()}(window),function(e,t){"use strict";var i=e.console||t,n=e.document,r=e.navigator,o=!1,a=e.setTimeout,s=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,p=e.alert,d=e.History=e.History||{},f=e.history;try{o=e.sessionStorage,o.setItem("TEST","1"),o.removeItem("TEST")}catch(e){o=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,void 0!==d.init)throw new Error("History.js Core has already been loaded...");d.init=function(){return void 0!==d.Adapter&&(void 0!==d.initCore&&d.initCore(),void 0!==d.initHtml4&&d.initHtml4(),!0)},d.initCore=function(){if(void 0!==d.initCore.initialized)return!1;if(d.initCore.initialized=!0,d.options=d.options||{},d.options.hashChangeInterval=d.options.hashChangeInterval||100,d.options.safariPollInterval=d.options.safariPollInterval||500,d.options.doubleCheckInterval=d.options.doubleCheckInterval||500,d.options.disableSuid=d.options.disableSuid||!1,d.options.storeInterval=d.options.storeInterval||1e3,d.options.busyDelay=d.options.busyDelay||250,d.options.debug=d.options.debug||!1,d.options.initialTitle=d.options.initialTitle||n.title,d.options.html4Mode=d.options.html4Mode||!1,d.options.delayInit=d.options.delayInit||!1,d.intervalList=[],d.clearAllIntervals=function(){var e,t=d.intervalList;if(void 0!==t&&null!==t){for(e=0;e<t.length;e++)c(t[e]);d.intervalList=null}},d.debug=function(){(d.options.debug||!1)&&d.log.apply(d,arguments)},d.log=function(){var e,t,r,o,a,s=void 0!==i&&void 0!==i.log&&void 0!==i.log.apply,l=n.getElementById("log");for(s?(o=Array.prototype.slice.call(arguments),e=o.shift(),void 0!==i.debug?i.debug.apply(i,[e,o]):i.log.apply(i,[e,o])):e="\n"+arguments[0]+"\n",t=1,r=arguments.length;t<r;++t){if("object"==typeof(a=arguments[t])&&void 0!==u)try{a=u.stringify(a)}catch(e){}e+="\n"+a+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||p(e),!0},d.getInternetExplorerMajorVersion=function(){return d.getInternetExplorerMajorVersion.cached=void 0!==d.getInternetExplorerMajorVersion.cached?d.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i[0];);return e>4&&e}()},d.isInternetExplorer=function(){return d.isInternetExplorer.cached=void 0!==d.isInternetExplorer.cached?d.isInternetExplorer.cached:Boolean(d.getInternetExplorerMajorVersion())},d.options.html4Mode?d.emulated={pushState:!0,hashChange:!0}:d.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8)},d.enabled=!d.emulated.pushState,d.bugs={setHash:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<7)},d.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},d.cloneObject=function(e){var t,i;return e?(t=u.stringify(e),i=u.parse(t)):i={},i},d.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},d.getBaseHref=function(){var e=n.getElementsByTagName("base"),t=null,i="";return 1===e.length&&(t=e[0],i=t.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},d.getBaseUrl=function(){return d.getBaseHref()||d.getBasePageUrl()||d.getRootUrl()},d.getPageUrl=function(){return((d.getState(!1,!1)||{}).url||d.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},d.getBasePageUrl=function(){return d.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},d.getFullUrl=function(e,t){var i=e,n=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(i="/"===n?d.getRootUrl()+e.replace(/^\/+/,""):"#"===n?d.getPageUrl().replace(/#.*/,"")+e:"?"===n?d.getPageUrl().replace(/[\?#].*/,"")+e:t?d.getBaseUrl()+e.replace(/^(\.\/)+/,""):d.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},d.getShortUrl=function(e){var t=e,i=d.getBaseUrl(),n=d.getRootUrl();return d.emulated.pushState&&(t=t.replace(i,"")),t=t.replace(n,"/"),d.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},d.getLocationHref=function(e){return e=e||n,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},d.store={},d.idToState=d.idToState||{},d.stateToId=d.stateToId||{},d.urlToId=d.urlToId||{},d.storedStates=d.storedStates||[],d.savedStates=d.savedStates||[],d.normalizeStore=function(){d.store.idToState=d.store.idToState||{},d.store.urlToId=d.store.urlToId||{},d.store.stateToId=d.store.stateToId||{}},d.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i=d.getLastSavedState();return!i&&t&&(i=d.createStateObject()),e&&(i=d.cloneObject(i),i.url=i.cleanUrl||i.url),i},d.getIdByState=function(e){var t,i=d.extractId(e.url);if(!i)if(t=d.getStateString(e),void 0!==d.stateToId[t])i=d.stateToId[t];else if(void 0!==d.store.stateToId[t])i=d.store.stateToId[t];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0!==d.idToState[i]||void 0!==d.store.idToState[i];);d.stateToId[t]=i,d.idToState[i]=e}return i},d.normalizeState=function(e){var t,i;return e&&"object"==typeof e||(e={}),void 0!==e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=d.getFullUrl(e.url?e.url:d.getLocationHref()),t.hash=d.getShortUrl(t.url),t.data=d.cloneObject(e.data),t.id=d.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,i=!d.isEmptyObject(t.data),(t.title||i)&&!0!==d.options.disableSuid&&(t.hash=d.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=d.getFullUrl(t.hash),(d.emulated.pushState||d.bugs.safariPoll)&&d.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},d.createStateObject=function(e,t,i){var n={data:e,title:t,url:i};return n=d.normalizeState(n)},d.getStateById=function(e){return e=String(e),d.idToState[e]||d.store.idToState[e]||t},d.getStateString=function(e){var t,i;return t=d.normalizeState(e),i={data:t.data,title:e.title,url:e.url},u.stringify(i)},d.getStateId=function(e){var t;return t=d.normalizeState(e),t.id},d.getHashByState=function(e){var t;return t=d.normalizeState(e),t.hash},d.extractId=function(e){var t,i;return i=-1!=e.indexOf("#")?e.split("#")[0]:e,t=/(.*)\&_suid=([0-9]+)$/.exec(i),t&&t[1],(t?String(t[2]||""):"")||!1},d.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},d.extractState=function(e,t){var i,n,r=null;return t=t||!1,i=d.extractId(e),i&&(r=d.getStateById(i)),r||(n=d.getFullUrl(e),i=d.getIdByUrl(n)||!1,i&&(r=d.getStateById(i)),!r&&t&&!d.isTraditionalAnchor(e)&&(r=d.createStateObject(null,null,n))),r},d.getIdByUrl=function(e){return d.urlToId[e]||d.store.urlToId[e]||t},d.getLastSavedState=function(){return d.savedStates[d.savedStates.length-1]||t},d.getLastStoredState=function(){return d.storedStates[d.storedStates.length-1]||t},d.hasUrlDuplicate=function(e){var t;return(t=d.extractState(e.url))&&t.id!==e.id},d.storeState=function(e){return d.urlToId[e.url]=e.id,d.storedStates.push(d.cloneObject(e)),e},d.isLastSavedState=function(e){var t,i,n,r=!1;return d.savedStates.length&&(t=e.id,i=d.getLastSavedState(),n=i.id,r=t===n),r},d.saveState=function(e){return!d.isLastSavedState(e)&&(d.savedStates.push(d.cloneObject(e)),!0)},d.getStateByIndex=function(e){return void 0===e?d.savedStates[d.savedStates.length-1]:e<0?d.savedStates[d.savedStates.length+e]:d.savedStates[e]},d.getCurrentIndex=function(){return d.savedStates.length<1?0:d.savedStates.length-1},d.getHash=function(e){var t=d.getLocationHref(e);return d.getHashByUrl(t)},d.unescapeHash=function(e){var t=d.normalizeHash(e);return t=decodeURIComponent(t)},d.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},d.setHash=function(e,t){var i,r;return!1!==t&&d.busy()?(d.pushQueue({scope:d,callback:d.setHash,args:arguments,queue:t}),!1):(d.busy(!0),i=d.extractState(e,!0),i&&!d.emulated.pushState?d.pushState(i.data,i.title,i.url,!1):d.getHash()!==e&&(d.bugs.setHash?(r=d.getPageUrl(),d.pushState(null,null,r+"#"+e,!1)):n.location.hash=e),d)},d.escapeHash=function(t){var i=d.normalizeHash(t);return i=e.encodeURIComponent(i),d.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},d.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=d.unescapeHash(t)},d.setTitle=function(e){var t,i=e.title;i||(t=d.getStateByIndex(0))&&t.url===e.url&&(i=t.title||d.options.initialTitle);try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return n.title=i,d},d.queues=[],d.busy=function(e){if(void 0!==e?d.busy.flag=e:void 0===d.busy.flag&&(d.busy.flag=!1),!d.busy.flag){s(d.busy.timeout);var t=function(){var e,i,n;if(!d.busy.flag)for(e=d.queues.length-1;e>=0;--e)i=d.queues[e],0!==i.length&&(n=i.shift(),d.fireQueueItem(n),d.busy.timeout=a(t,d.options.busyDelay))};d.busy.timeout=a(t,d.options.busyDelay)}return d.busy.flag},d.busy.flag=!1,d.fireQueueItem=function(e){return e.callback.apply(e.scope||d,e.args||[])},d.pushQueue=function(e){return d.queues[e.queue||0]=d.queues[e.queue||0]||[],d.queues[e.queue||0].push(e),d},d.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),d.busy()?d.pushQueue(e):d.fireQueueItem(e),d},d.clearQueue=function(){return d.busy.flag=!1,d.queues=[],d},d.stateChanged=!1,d.doubleChecker=!1,d.doubleCheckComplete=function(){return d.stateChanged=!0,d.doubleCheckClear(),d},d.doubleCheckClear=function(){return d.doubleChecker&&(s(d.doubleChecker),d.doubleChecker=!1),d},d.doubleCheck=function(e){return d.stateChanged=!1,d.doubleCheckClear(),d.bugs.ieDoubleCheck&&(d.doubleChecker=a(function(){return d.doubleCheckClear(),d.stateChanged||e(),!0},d.options.doubleCheckInterval)),d},d.safariStatePoll=function(){var t,i=d.extractState(d.getLocationHref());if(!d.isLastSavedState(i))return t=i,t||(t=d.createStateObject()),d.Adapter.trigger(e,"popstate"),d},d.back=function(e){return!1!==e&&d.busy()?(d.pushQueue({scope:d,callback:d.back,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.back(!1)}),f.go(-1),!0)},d.forward=function(e){return!1!==e&&d.busy()?(d.pushQueue({scope:d,callback:d.forward,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.forward(!1)}),f.go(1),!0)},d.go=function(e,t){var i;if(e>0)for(i=1;i<=e;++i)d.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=e;--i)d.back(t)}return d},d.emulated.pushState){var h=function(){};d.pushState=d.pushState||h,d.replaceState=d.replaceState||h}else d.onPopState=function(t,i){var n,r,o=!1,a=!1;return d.doubleCheckComplete(),n=d.getHash(),n?(r=d.extractState(n||d.getLocationHref(),!0),r?d.replaceState(r.data,r.title,r.url,!1):(d.Adapter.trigger(e,"anchorchange"),d.busy(!1)),d.expectedStateId=!1,!1):(o=d.Adapter.extractEventData("state",t,i)||!1,a=o?d.getStateById(o):d.expectedStateId?d.getStateById(d.expectedStateId):d.extractState(d.getLocationHref()),a||(a=d.createStateObject(null,null,d.getLocationHref())),d.expectedStateId=!1,d.isLastSavedState(a)?(d.busy(!1),!1):(d.storeState(a),d.saveState(a),d.setTitle(a),d.Adapter.trigger(e,"statechange"),d.busy(!1),!0))},d.Adapter.bind(e,"popstate",d.onPopState),d.pushState=function(t,i,n,r){if(d.getHashByUrl(n)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:r}),!1;d.busy(!0);var o=d.createStateObject(t,i,n);return d.isLastSavedState(o)?d.busy(!1):(d.storeState(o),d.expectedStateId=o.id,f.pushState(o.id,o.title,o.url),d.Adapter.trigger(e,"popstate")),!0},d.replaceState=function(t,i,n,r){if(d.getHashByUrl(n)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:r}),!1;d.busy(!0);var o=d.createStateObject(t,i,n);return d.isLastSavedState(o)?d.busy(!1):(d.storeState(o),d.expectedStateId=o.id,f.replaceState(o.id,o.title,o.url),d.Adapter.trigger(e,"popstate")),!0};if(o){try{d.store=u.parse(o.getItem("History.store"))||{}}catch(e){d.store={}}d.normalizeStore()}else d.store={},d.normalizeStore();d.Adapter.bind(e,"unload",d.clearAllIntervals),d.saveState(d.storeState(d.extractState(d.getLocationHref(),!0))),o&&(d.onUnload=function(){var e,t,i;try{e=u.parse(o.getItem("History.store"))||{}}catch(t){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in d.idToState)d.idToState.hasOwnProperty(t)&&(e.idToState[t]=d.idToState[t]);for(t in d.urlToId)d.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=d.urlToId[t]);for(t in d.stateToId)d.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=d.stateToId[t]);d.store=e,d.normalizeStore(),i=u.stringify(e);try{o.setItem("History.store",i)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;o.length&&(o.removeItem("History.store"),o.setItem("History.store",i))}},d.intervalList.push(l(d.onUnload,d.options.storeInterval)),d.Adapter.bind(e,"beforeunload",d.onUnload),d.Adapter.bind(e,"unload",d.onUnload)),d.emulated.pushState||(d.bugs.safariPoll&&d.intervalList.push(l(d.safariStatePoll,d.options.safariPollInterval)),"Apple Computer, Inc."!==r.vendor&&"Mozilla"!==(r.appCodeName||"")||(d.Adapter.bind(e,"hashchange",function(){d.Adapter.trigger(e,"popstate")}),d.getHash()&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(e,"hashchange")})))},(!d.options||!d.options.delayInit)&&d.init()}(window)),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),c=0,p=0,d=0,f=0,h=0,g=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(p=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(p=-1*d,d=0),c=0===d?p:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(p=a.deltaX,0===d&&(c=-1*p)),0!==d||0!==p){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,d*=m,p*=m}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,d*=v,p*=v}if(f=Math.max(Math.abs(d),Math.abs(p)),(!o||f<o)&&(o=f,n(a,f)&&(o/=40)),n(a,f)&&(c/=40,p/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),p=Math[p>=1?"floor":"ceil"](p/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();h=t.clientX-b.left,g=t.clientY-b.top}return t.deltaX=p,t.deltaY=d,t.deltaFactor=o,t.offsetX=h,t.offsetY=g,t.deltaMode=0,s.unshift(t,c,p,d),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function i(t,i){function n(i){var o,s,c,u,p,h,g=!1,m=!1;if(H=i,void 0===V)p=t.scrollTop(),h=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),N=t.innerWidth()+ve,R=t.innerHeight(),t.width(N),V=e('<div class="jspPane" />').css("padding",me).append(t.children()),
q=e('<div class="jspContainer" />').css({width:N+"px",height:R+"px"}).append(V).appendTo(t);else{if(t.css("width",""),g=H.stickToBottom&&k(),m=H.stickToRight&&O(),u=t.innerWidth()+ve!=N||t.outerHeight()!=R,u&&(N=t.innerWidth()+ve,R=t.innerHeight(),q.css({width:N+"px",height:R+"px"})),!u&&be==U&&V.outerHeight()==W)return void t.width(N);be=U,V.css("width",""),t.width(N),q.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}V.css("overflow","auto"),U=i.contentWidth?i.contentWidth:V[0].scrollWidth,W=V[0].scrollHeight,V.css("overflow",""),z=U/N,$=W/R,X=$>1,Y=z>1,Y||X?(t.addClass("jspScrollable"),o=H.maintainPosition&&(K||te),o&&(s=j(),c=T()),r(),a(),l(),o&&(C(m?U-N:s,!1),w(g?W-R:c,!1)),_(),F(),A(),H.enableKeyboardNavigation&&L(),H.clickOnTrack&&d(),I(),H.hijackInternalLinks&&Q()):(t.removeClass("jspScrollable"),V.css({top:0,left:0,width:q.width()-ve}),P(),E(),M(),f()),H.autoReinitialise&&!ge?ge=setInterval(function(){n(H)},H.autoReinitialiseDelay):!H.autoReinitialise&&ge&&clearInterval(ge),p&&t.scrollTop(0)&&w(p,!1),h&&t.scrollLeft(0)&&C(h,!1),t.trigger("jsp-initialised",[Y||X])}function r(){X&&(q.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ie=q.find(">.jspVerticalBar"),ne=ie.find(">.jspTrack"),G=ne.find(">.jspDrag"),H.showArrows&&(se=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",B),le=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",B),H.arrowScrollOnHover&&(se.bind("mouseover.jsp",u(0,-1,se)),le.bind("mouseover.jsp",u(0,1,le))),c(ne,H.verticalArrowPositions,se,le)),oe=R,q.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){oe-=e(this).outerHeight()}),G.hover(function(){G.addClass("jspHover")},function(){G.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",B),G.addClass("jspActive");var i=t.pageY-G.position().top;return e("html").bind("mousemove.jsp",function(e){g(e.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",h),!1}),o())}function o(){ne.height(oe+"px"),K=0,re=H.verticalGutter+ne.outerWidth(),V.width(N-re-ve);try{0===ie.position().left&&V.css("margin-left",re+"px")}catch(e){}}function a(){Y&&(q.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),ce=q.find(">.jspHorizontalBar"),ue=ce.find(">.jspTrack"),Z=ue.find(">.jspDrag"),H.showArrows&&(fe=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",B),he=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",B),H.arrowScrollOnHover&&(fe.bind("mouseover.jsp",u(-1,0,fe)),he.bind("mouseover.jsp",u(1,0,he))),c(ue,H.horizontalArrowPositions,fe,he)),Z.hover(function(){Z.addClass("jspHover")},function(){Z.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",B),Z.addClass("jspActive");var i=t.pageX-Z.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",h),!1}),pe=q.innerWidth(),s())}function s(){q.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pe-=e(this).outerWidth()}),ue.width(pe+"px"),te=0}function l(){if(Y&&X){var t=ue.outerHeight(),i=ne.outerWidth();oe-=t,e(ce).find(">.jspCap:visible,>.jspArrow").each(function(){pe+=e(this).outerWidth()}),pe-=i,R-=i,N-=t,ue.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),o(),s()}Y&&V.width(q.outerWidth()-ve+"px"),W=V.outerHeight(),$=W/R,Y&&(de=Math.ceil(1/z*pe),de>H.horizontalDragMaxWidth?de=H.horizontalDragMaxWidth:de<H.horizontalDragMinWidth&&(de=H.horizontalDragMinWidth),Z.width(de+"px"),ee=pe-de,b(te)),X&&(ae=Math.ceil(1/$*oe),ae>H.verticalDragMaxHeight?ae=H.verticalDragMaxHeight:ae<H.verticalDragMinHeight&&(ae=H.verticalDragMinHeight),G.height(ae+"px"),J=oe-ae,m(K))}function c(e,t,i,n){var r,o="before",a="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==o?a=t:t==a&&(o=t,r=i,i=n,n=r),e[o](i)[a](n)}function u(e,t,i){return function(){return p(e,t,this,i),this.blur(),!1}}function p(t,i,n,r){n=e(n).addClass("jspActive");var o,a,s=!0,l=function(){0!==t&&ye.scrollByX(t*H.arrowButtonSpeed),0!==i&&ye.scrollByY(i*H.arrowButtonSpeed),a=setTimeout(l,s?H.initialDelay:H.arrowRepeatFreq),s=!1};l(),o=r?"mouseout.jsp":"mouseup.jsp",r=r||e("html"),r.bind(o,function(){n.removeClass("jspActive"),a&&clearTimeout(a),a=null,r.unbind(o)})}function d(){f(),X&&ne.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var i,n=e(this),r=n.offset(),o=t.pageY-r.top-K,a=!0,s=function(){var e=n.offset(),r=t.pageY-e.top-ae/2,c=R*H.scrollPagePercent,u=J*c/(W-R);if(0>o)K-u>r?ye.scrollByY(-c):g(r);else{if(!(o>0))return void l();r>K+u?ye.scrollByY(c):g(r)}i=setTimeout(s,a?H.initialDelay:H.trackClickRepeatFreq),a=!1},l=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",l)};return s(),e(document).bind("mouseup.jsp",l),!1}}),Y&&ue.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var i,n=e(this),r=n.offset(),o=t.pageX-r.left-te,a=!0,s=function(){var e=n.offset(),r=t.pageX-e.left-de/2,c=N*H.scrollPagePercent,u=ee*c/(U-N);if(0>o)te-u>r?ye.scrollByX(-c):v(r);else{if(!(o>0))return void l();r>te+u?ye.scrollByX(c):v(r)}i=setTimeout(s,a?H.initialDelay:H.trackClickRepeatFreq),a=!1},l=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",l)};return s(),e(document).bind("mouseup.jsp",l),!1}})}function f(){ue&&ue.unbind("mousedown.jsp"),ne&&ne.unbind("mousedown.jsp")}function h(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),G&&G.removeClass("jspActive"),Z&&Z.removeClass("jspActive")}function g(i,n){if(X){0>i?i=0:i>J&&(i=J);var r=new e.Event("jsp-will-scroll-y");if(t.trigger(r,[i]),!r.isDefaultPrevented()){var o=i||0,a=0===o,s=o==J,l=i/J,c=-l*(W-R);void 0===n&&(n=H.animateScroll),n?ye.animate(G,"top",i,m,function(){t.trigger("jsp-user-scroll-y",[-c,a,s])}):(G.css("top",i),m(i),t.trigger("jsp-user-scroll-y",[-c,a,s]))}}}function m(e){void 0===e&&(e=G.position().top),q.scrollTop(0),K=e||0;var i=0===K,n=K==J,r=e/J,o=-r*(W-R);(Se!=i||Ce!=n)&&(Se=i,Ce=n,t.trigger("jsp-arrow-change",[Se,Ce,we,xe])),y(i,n),V.css("top",o),t.trigger("jsp-scroll-y",[-o,i,n]).trigger("scroll")}function v(i,n){if(Y){0>i?i=0:i>ee&&(i=ee);var r=new e.Event("jsp-will-scroll-x");if(t.trigger(r,[i]),!r.isDefaultPrevented()){var o=i||0,a=0===o,s=o==ee,l=i/ee,c=-l*(U-N);void 0===n&&(n=H.animateScroll),n?ye.animate(Z,"left",i,b,function(){t.trigger("jsp-user-scroll-x",[-c,a,s])}):(Z.css("left",i),b(i),t.trigger("jsp-user-scroll-x",[-c,a,s]))}}}function b(e){void 0===e&&(e=Z.position().left),q.scrollTop(0),te=e||0;var i=0===te,n=te==ee,r=e/ee,o=-r*(U-N);(we!=i||xe!=n)&&(we=i,xe=n,t.trigger("jsp-arrow-change",[Se,Ce,we,xe])),S(i,n),V.css("left",o),t.trigger("jsp-scroll-x",[-o,i,n]).trigger("scroll")}function y(e,t){H.showArrows&&(se[e?"addClass":"removeClass"]("jspDisabled"),le[t?"addClass":"removeClass"]("jspDisabled"))}function S(e,t){H.showArrows&&(fe[e?"addClass":"removeClass"]("jspDisabled"),he[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){g(e/(W-R)*J,t)}function C(e,t){v(e/(U-N)*ee,t)}function x(t,i,n){var r,o,a,s,l,c,u,p,d,f=0,h=0;try{r=e(t)}catch(e){return}for(o=r.outerHeight(),a=r.outerWidth(),q.scrollTop(0),q.scrollLeft(0);!r.is(".jspPane");)if(f+=r.position().top,h+=r.position().left,r=r.offsetParent(),/^body|html$/i.test(r[0].nodeName))return;s=T(),c=s+R,s>f||i?p=f-H.horizontalGutter:f+o>c&&(p=f-R+o+H.horizontalGutter),isNaN(p)||w(p,n),l=j(),u=l+N,l>h||i?d=h-H.horizontalGutter:h+a>u&&(d=h-N+a+H.horizontalGutter),isNaN(d)||C(d,n)}function j(){return-V.position().left}function T(){return-V.position().top}function k(){var e=W-R;return e>20&&e-T()<10}function O(){var e=U-N;return e>20&&e-j()<10}function F(){q.unbind(Te).bind(Te,function(e,t,i,n){te||(te=0),K||(K=0);var r=te,o=K,a=e.deltaFactor||H.mouseWheelSpeed;return ye.scrollBy(i*a,-n*a,!1),r==te&&o==K})}function P(){q.unbind(Te)}function B(){return!1}function _(){V.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){x(e.target,!1)})}function E(){V.find(":input,a").unbind("focus.jsp")}function L(){function i(){var e=te,t=K;switch(n){case 40:ye.scrollByY(H.keyboardSpeed,!1);break;case 38:ye.scrollByY(-H.keyboardSpeed,!1);break;case 34:case 32:ye.scrollByY(R*H.scrollPagePercent,!1);break;case 33:ye.scrollByY(-R*H.scrollPagePercent,!1);break;case 39:ye.scrollByX(H.keyboardSpeed,!1);break;case 37:ye.scrollByX(-H.keyboardSpeed,!1)}return r=e!=te||t!=K}var n,r,o=[];Y&&o.push(ce[0]),X&&o.push(ie[0]),V.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||o.length&&e(t.target).closest(o).length){var a=te,s=K;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=t.keyCode,i();break;case 35:w(W-R),n=null;break;case 36:w(0),n=null}return!(r=t.keyCode==n&&a!=te||s!=K)}}).bind("keypress.jsp",function(t){return t.keyCode==n&&i(),t.target===this||o.length&&e(t.target).closest(o).length?!r:void 0}),H.hideFocus?(t.css("outline","none"),"hideFocus"in q[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in q[0]&&t.attr("hideFocus",!1))}function M(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),V.unbind(".jsp")}function I(){if(location.hash&&location.hash.length>1){var t,i,n=escape(location.hash.substr(1));try{t=e("#"+n+', a[name="'+n+'"]')}catch(e){return}t.length&&V.find(n)&&(0===q.scrollTop()?i=setInterval(function(){q.scrollTop()>0&&(x(t,!0),e(document).scrollTop(q.position().top),clearInterval(i))},50):(x(t,!0),e(document).scrollTop(q.position().top)))}}function Q(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate('a[href*="#"]',"click",function(t){var i,n,r,o,a,s,l=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),l===c){i=escape(this.href.substr(this.href.indexOf("#")+1));try{n=e("#"+i+', a[name="'+i+'"]')}catch(e){return}n.length&&(r=n.closest(".jspScrollable"),o=r.data("jsp"),o.scrollToElement(n,!0),r[0].scrollIntoView&&(a=e(window).scrollTop(),s=n.offset().top,(a>s||s>a+e(window).height())&&r[0].scrollIntoView()),t.preventDefault())}}))}function A(){var e,t,i,n,r,o=!1;q.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(a){var s=a.originalEvent.touches[0];e=j(),t=T(),i=s.pageX,n=s.pageY,r=!1,o=!0}).bind("touchmove.jsp",function(a){if(o){var s=a.originalEvent.touches[0],l=te,c=K;return ye.scrollTo(e+i-s.pageX,t+n-s.pageY),r=r||Math.abs(i-s.pageX)>5||Math.abs(n-s.pageY)>5,l==te&&c==K}}).bind("touchend.jsp",function(){o=!1}).bind("click.jsp-touchclick",function(){return r?(r=!1,!1):void 0})}function D(){var e=T(),i=j();t.removeClass("jspScrollable").unbind(".jsp"),V.unbind(".jsp"),t.replaceWith(je.append(V.children())),je.scrollTop(e),je.scrollLeft(i),ge&&clearInterval(ge)}var H,V,N,R,q,U,W,z,$,X,Y,G,J,K,Z,ee,te,ie,ne,re,oe,ae,se,le,ce,ue,pe,de,fe,he,ge,me,ve,be,ye=this,Se=!0,we=!0,Ce=!1,xe=!1,je=t.clone(!1,!1).empty(),Te=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(me=0,ve=0):(me=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ve=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(ye,{reinitialise:function(t){t=e.extend({},H,t),n(t)},scrollToElement:function(e,t,i){x(e,t,i)},scrollTo:function(e,t,i){C(e,i),w(t,i)},scrollToX:function(e,t){C(e,t)},scrollToY:function(e,t){w(e,t)},scrollToPercentX:function(e,t){C(e*(U-N),t)},scrollToPercentY:function(e,t){w(e*(W-R),t)},scrollBy:function(e,t,i){ye.scrollByX(e,i),ye.scrollByY(t,i)},scrollByX:function(e,t){v((j()+Math[0>e?"floor":"ceil"](e))/(U-N)*ee,t)},scrollByY:function(e,t){g((T()+Math[0>e?"floor":"ceil"](e))/(W-R)*J,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){g(e,t)},animate:function(e,t,i,n,r){var o={};o[t]=i,e.animate(o,{duration:H.animateDuration,easing:H.animateEase,queue:!1,step:n,complete:r})},getContentPositionX:function(){return j()},getContentPositionY:function(){return T()},getContentWidth:function(){return U},getContentHeight:function(){return W},getPercentScrolledX:function(){return j()/(U-N)},getPercentScrolledY:function(){return T()/(W-R)},getIsScrollableH:function(){return Y},getIsScrollableV:function(){return X},getContentPane:function(){return V},scrollToBottom:function(e){g(J,e)},hijackInternalLinks:e.noop,destroy:function(){D()}}),n(i)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var n=e(this),r=n.data("jsp");r?r.reinitialise(t):(e("script",n).filter('[type="text/javascript"],:not([type])').remove(),r=new i(n,t),n.data("jsp",r))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function(e,t){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function n(e,t,i){var n,r;for(n in i)i.hasOwnProperty(n)&&(r=n.replace(/ |$/g,t.eventNamespace),e.bind(r,i[n]))}function r(e,t,i){n(e,i,{focus:function(){t.addClass(i.focusClass)},blur:function(){t.removeClass(i.focusClass),t.removeClass(i.activeClass)},mouseenter:function(){t.addClass(i.hoverClass)},mouseleave:function(){t.removeClass(i.hoverClass),t.removeClass(i.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(i.activeClass)},"mouseup touchend":function(){t.removeClass(i.activeClass)}})}function o(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function a(e,t,i){i?e.addClass(t):e.removeClass(t)}function s(e,t,i){var n="checked",r=t.is(":"+n);t.prop?t.prop(n,r):r?t.attr(n,n):t.removeAttr(n),a(e,i.checkedClass,r)}function l(e,t,i){a(e,i.disabledClass,t.is(":disabled"))}function c(e,t,i){switch(i){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function u(e,n,r){var o,a,s;return r||(r={}),r=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},r),o=t("<div />"),a=t("<span />"),n.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&o.hide(),r.divClass&&o.addClass(r.divClass),n.wrapperClass&&o.addClass(n.wrapperClass),r.spanClass&&a.addClass(r.spanClass),s=i(e,"id"),n.useID&&s&&i(o,"id",n.idPrefix+"-"+s),r.spanHtml&&a.html(r.spanHtml),o=c(e,o,r.divWrap),a=c(e,a,r.spanWrap),l(o,e,n),{div:o,span:a}}function p(e,i){var n;return i.wrapperClass?(n=t("<span />").addClass(i.wrapperClass),n=c(e,n,"wrap")):null}function d(){var i,n,r,o;return o="rgb(120,2,153)",n=t('<div style="width:0;height:0;color:'+o+'">'),t("body").append(n),r=n.get(0),i=e.getComputedStyle?e.getComputedStyle(r,"").color:(r.currentStyle||r.style||{}).color,n.remove(),i.replace(/ /g,"")!==o}function f(e){return e?t("<span />").text(e).html():""}function h(){return navigator.cpuClass&&!navigator.product}function g(e){var t;return!!e[0].multiple||!(!(t=i(e,"size"))||t<=1)}function m(){return!1}function v(e,t){n(e,t,{"selectstart dragstart mousedown":m}),e.css({MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}function b(e,t,i){var n=e.val();""===n?n=i.fileDefaultHtml:(n=n.split(/[\/\\]+/),n=n[n.length-1]),t.text(n)}function y(e,t,i){var n,r;for(n=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),i();n.length;)r=n.pop(),r.el.style[r.name]=r.old}function S(e,t){var i;i=e.parents(),i.push(e[0]),i=i.not(":visible"),y(i,{visibility:"hidden",display:"block",position:"absolute"},t)}function w(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var C=!0,x=!1,j=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,a){var s,c,p,d,h;return c=a.submitDefaultHtml,t.is(":reset")&&(c=a.resetDefaultHtml),d=t.is("a, button")?function(){return t.html()||c}:function(){return f(i(t,"value"))||c},p=u(t,a,{divClass:a.buttonClass,spanHtml:d()}),s=p.div,r(t,s,a),h=!1,n(s,a,{"click touchend":function(){var n,r,o,a;h||t.is(":disabled")||(h=!0,t[0].dispatchEvent?(n=document.createEvent("MouseEvents"),n.initEvent("click",!0,!0),r=t[0].dispatchEvent(n),t.is("a")&&r&&(o=i(t,"target"),a=i(t,"href"),o&&"_self"!==o?e.open(a,o):document.location.href=a)):t.click(),h=!1)}}),v(s,a),{remove:function(){return s.after(t),s.remove(),t.unbind(a.eventNamespace),t},update:function(){o(s,a),l(s,t,a),t.detach(),p.span.html(d()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var i,a,c;return i=u(e,t,{divClass:t.checkboxClass}),a=i.div,c=i.span,r(e,a,t),n(e,t,{"click touchend":function(){s(c,e,t)}}),s(c,e,t),{remove:w(e,t),update:function(){o(a,t),c.removeClass(t.checkedClass),s(c,e,t),l(a,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,a){function s(){b(e,f,a)}var p,d,f,g;return p=u(e,a,{divClass:a.fileClass,spanClass:a.fileButtonClass,spanHtml:a.fileButtonHtml,spanWrap:"after"}),d=p.div,g=p.span,f=t("<span />").html(a.fileDefaultHtml),f.addClass(a.filenameClass),f=c(e,f,"after"),i(e,"size")||i(e,"size",d.width()/10),r(e,d,a),s(),h()?n(e,a,{click:function(){e.trigger("change"),setTimeout(s,0)}}):n(e,a,{change:s}),v(f,a),v(g,a),{remove:function(){return f.remove(),g.remove(),e.unwrap().unbind(a.eventNamespace)},update:function(){o(d,a),b(e,f,a),l(d,e,a)}}}},{match:function(e){return!!e.is("input")&&" color date datetime datetime-local email month number password search tel text time url week ".indexOf((" "+i(e,"type")+" ").toLowerCase())>=0},apply:function(e,t){var n,o;return n=i(e,"type"),e.addClass(t.inputClass),o=p(e,t),r(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),o&&e.unwrap()},update:m}}},{match:function(e){return e.is(":radio")},apply:function(e,a){var c,p,d;return c=u(e,a,{divClass:a.radioClass}),p=c.div,d=c.span,r(e,p,a),n(e,a,{"click touchend":function(){t.uniform.update(t(':radio[name="'+i(e,"name")+'"]'))}}),s(d,e,a),{remove:w(e,a),update:function(){o(p,a),s(d,e,a),l(p,e,a)}}}},{match:function(e){return!(!e.is("select")||g(e))},apply:function(e,i){var a,s,c,p;return i.selectAutoWidth&&S(e,function(){p=e.width()}),a=u(e,i,{divClass:i.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),s=a.div,c=a.span,i.selectAutoWidth?S(e,function(){y(t([c[0],s[0]]),{display:"block"},function(){var e;e=c.outerWidth()-c.width(),s.width(p+e),c.width(p)})}):s.addClass("fixedWidth"),r(e,s,i),n(e,i,{change:function(){c.html(e.find(":selected").html()),s.removeClass(i.activeClass)},"click touchend":function(){var t=e.find(":selected").html();c.html()!==t&&e.trigger("change")},keyup:function(){c.html(e.find(":selected").html())}}),v(c,i),{remove:function(){return c.remove(),e.unwrap().unbind(i.eventNamespace),e},update:function(){i.selectAutoWidth?(t.uniform.restore(e),e.uniform(i)):(o(s,i),e[0].selectedIndex=e[0].selectedIndex,c.html(e.find(":selected").html()),l(s,e,i))}}}},{match:function(e){return!(!e.is("select")||!g(e))},apply:function(e,t){var i;return e.addClass(t.selectMultiClass),i=p(e,t),r(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),i&&e.unwrap()},update:m}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var i;return e.addClass(t.textareaClass),i=p(e,t),r(e,e,t),{remove:function(){e.removeClass(t.textareaClass),i&&e.unwrap()},update:m}}}];h()&&!function(){return void 0!==e.XMLHttpRequest}()&&(C=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(i){var n=this;return i=t.extend({},t.uniform.defaults,i),x||(x=!0,d()&&(C=!1)),C?(i.resetSelector&&t(i.resetSelector).mouseup(function(){e.setTimeout(function(){t.uniform.update(n)},10)}),this.each(function(){var e,n,r,o=t(this);if(o.data("uniformed"))return void t.uniform.update(o);for(e=0;e<j.length;e+=1)if(n=j[e],n.match(o,i))return r=n.apply(o,i),o.data("uniformed",r),void t.uniform.elements.push(o.get(0))})):this},t.uniform.restore=t.fn.uniform.restore=function(e){void 0===e&&(e=t.uniform.elements),t(e).each(function(){var e,i,n=t(this);(i=n.data("uniformed"))&&(i.remove(),e=t.inArray(this,t.uniform.elements),e>=0&&t.uniform.elements.splice(e,1),n.removeData("uniformed"))})},t.uniform.update=t.fn.uniform.update=function(e){void 0===e&&(e=t.uniform.elements),t(e).each(function(){var e,i=t(this);(e=i.data("uniformed"))&&e.update(i,e.options)})}}(this,jQuery),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e,t){var i=document.createElement("div");return c(i,t),e.appendChild(i),i}function t(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function i(e,t){return Math.round(e/t)*t}function n(e,t){var i=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?i.top+o.y-r.clientTop:i.left+o.x-r.clientLeft}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e,t,i){i>0&&(c(e,t),setTimeout(function(){u(e,t)},i))}function a(e){return Math.max(Math.min(e,100),0)}function s(e){return Array.isArray(e)?e:[e]}function l(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function p(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function d(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return{x:e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function h(e,t){return 100/(t-e)}function g(e,t){return 100*t/(e[1]-e[0])}function m(e,t){return g(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function v(e,t){return t*(e[1]-e[0])/100+e[0]}function b(e,t){for(var i=1;e>=t[i];)i+=1;return i}function y(e,t,i){if(i>=e.slice(-1)[0])return 100;var n,r,o,a,s=b(i,e);return n=e[s-1],r=e[s],o=t[s-1],a=t[s],o+m([n,r],i)/h(o,a)}function S(e,t,i){if(i>=100)return e.slice(-1)[0];var n,r,o,a,s=b(i,t);return n=e[s-1],r=e[s],o=t[s-1],a=t[s],v([n,r],(i-o)*h(o,a))}function w(e,t,n,r){if(100===r)return r;var o,a,s=b(r,e);return n?(o=e[s-1],a=e[s],r-o>(a-o)/2?a:o):t[s-1]?e[s-1]+i(r-e[s-1],t[s-1]):r}function C(e,t,i){var n;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider: 'range' contains invalid value.");if(n="min"===e?0:"max"===e?100:parseFloat(e),!r(n)||!r(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(n),i.xVal.push(t[0]),n?i.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(i.xSteps[0]=t[1]),i.xHighestCompleteStep.push(0)}function x(e,t,i){if(!t)return!0;i.xSteps[e]=g([i.xVal[e],i.xVal[e+1]],t)/h(i.xPct[e],i.xPct[e+1]);var n=(i.xVal[e+1]-i.xVal[e])/i.xNumSteps[e],r=Math.ceil(Number(n.toFixed(3))-1),o=i.xVal[e]+i.xNumSteps[e]*r;i.xHighestCompleteStep[e]=o}function j(e,t,i,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t,this.direction=i;var r,o=[];for(r in e)e.hasOwnProperty(r)&&o.push([e[r],r]);for(o.length&&"object"==typeof o[0][0]?o.sort(function(e,t){return e[0][0]-t[0][0]}):o.sort(function(e,t){return e[0]-t[0]}),r=0;r<o.length;r++)C(o[r][1],o[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)x(r,this.xNumSteps[r],this)}function T(e,t){if(!r(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function k(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new j(t,e.snap,e.dir,e.singleStep)}function O(e,t){if(t=s(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function F(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function P(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function B(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function _(e,t){var i,n=[!1];if(!0===t||!1===t){for(i=1;i<e.handles;i++)n.push(t);n.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=t}e.connect=n}function E(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function L(e,t){if(!r(t))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function M(e,t){if(!r(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function I(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Q(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");L(e,e.start[1]-e.start[0])}e.events={tap:i||o,drag:n,fixed:r,snap:o,hover:a}}function A(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(!0)}else{if(e.tooltips=s(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function D(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function H(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function V(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var i in t)t.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+t[i])}else e.cssClasses=t}function N(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider: 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function R(e){var t,i={margin:0,limit:0,animate:!0,animationDuration:300,format:W};t={step:{r:!1,t:T},start:{r:!0,t:O},connect:{r:!0,t:_},direction:{r:!0,t:I},snap:{r:!1,t:F},animate:{r:!1,t:P},animationDuration:{r:!1,t:B},range:{r:!0,t:k},orientation:{r:!1,t:E},margin:{r:!1,t:L},limit:{r:!1,t:M},behaviour:{r:!0,t:Q},format:{r:!1,t:D},tooltips:{r:!1,t:A},cssPrefix:{r:!1,t:H},cssClasses:{r:!1,t:V},useRequestAnimationFrame:{r:!1,t:N}};var n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(t).forEach(function(r){if(void 0===e[r]&&void 0===n[r]){if(t[r].r)throw new Error("noUiSlider: '"+r+"' is required.");return!0}t[r].t(i,void 0===e[r]?n[r]:e[r])}),i.pips=e.pips;var r=[["left","top"],["right","bottom"]];return i.style=r[i.dir][i.ort],i.styleOposite=r[i.dir?0:1][i.ort],i}function q(i,r,l){function h(t,i){var n=e(t,r.cssClasses.origin);return e(n,r.cssClasses.handle).setAttribute("data-handle",i),n}function g(t,i){return!!i&&e(t,r.cssClasses.connect)}function m(t,i){return!!r.tooltips[i]&&e(t.firstChild,r.cssClasses.tooltip)}function v(e,t,i){if("range"===e||"steps"===e)return re.xVal;if("count"===e){var n,r=100/(t-1),o=0;for(t=[];(n=o++*r)<=100;)t.push(n);e="positions"}return"positions"===e?t.map(function(e){return re.fromStepping(i?re.getStep(e):e)}):"values"===e?i?t.map(function(e){return re.fromStepping(re.getStep(re.toStepping(e)))}):t:void 0}function b(e,i,n){function r(e,t){return(e+t).toFixed(7)/1}var o={},a=re.xVal[0],s=re.xVal[re.xVal.length-1],l=!1,c=!1,u=0;return n=t(n.slice().sort(function(e,t){return e-t})),n[0]!==a&&(n.unshift(a),l=!0),n[n.length-1]!==s&&(n.push(s),c=!0),n.forEach(function(t,a){var s,p,d,f,h,g,m,v,b,y,S=t,w=n[a+1];if("steps"===i&&(s=re.xNumSteps[a]),s||(s=w-S),!1!==S&&void 0!==w)for(s=Math.max(s,1e-7),p=S;p<=w;p=r(p,s)){for(f=re.toStepping(p),h=f-u,v=h/e,b=Math.round(v),y=h/b,d=1;d<=b;d+=1)g=u+d*y,o[g.toFixed(5)]=["x",0];m=n.indexOf(p)>-1?1:"steps"===i?2:0,!a&&l&&(m=0),p===w&&c||(o[f.toFixed(5)]=[p,m]),u=f}}),o}function y(e,t,i){function n(e,t){var i=t===r.cssClasses.value,n=i?d:f,o=i?u:p;return t+" "+n[r.ort]+" "+o[e]}function o(e,t,i){return'class="'+n(i[1],t)+'" style="'+r.style+": "+e+'%"'}function a(e,n){n[1]=n[1]&&t?t(n[0],n[1]):n[1],l+="<div "+o(e,r.cssClasses.marker,n)+"></div>",n[1]&&(l+="<div "+o(e,r.cssClasses.value,n)+">"+i.to(n[0])+"</div>")}
var s=document.createElement("div"),l="",u=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],p=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],d=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],f=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return c(s,r.cssClasses.pips),c(s,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){a(t,e[t])}),s.innerHTML=l,s}function S(e){var t=e.mode,i=e.density||1,n=e.filter||!1,r=e.values||!1,o=e.stepped||!1,a=v(t,r,o),s=b(i,t,a),l=e.format||{to:Math.round};return te.appendChild(y(s,n,l))}function w(){var e=G.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||G[t]:e.height||G[t]}function C(e,t,i,n){var o=function(t){return!te.hasAttribute("disabled")&&!p(te,r.cssClasses.tap)&&(t=x(t,n.pageOffset),!(e===ee.start&&void 0!==t.buttons&&t.buttons>1)&&(!n.hover||!t.buttons)&&(t.calcPoint=t.points[r.ort],void i(t,n)))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,o,!1),a.push([e,o])}),a}function x(e,t){e.preventDefault();var i,n,r=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),s=e;if(0===e.type.indexOf("MSPointer")&&(a=!0),r){if(s.touches.length>1)return!1;i=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY}return t=t||d(),(o||a)&&(i=e.clientX+t.x,n=e.clientY+t.y),s.pageOffset=t,s.points=[i,n],s.cursor=o||a,s}function j(e){var t=e-n(G,r.ort),i=100*t/w();return r.dir?100-i:i}function T(e){var t=100,i=!1;return J.forEach(function(n,r){if(!n.hasAttribute("disabled")){var o=Math.abs(ie[r]-e);o<t&&(i=r,t=o)}}),i}function k(e,t,i,n){var r=i.slice(),o=[!e,e],a=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach(function(e,i){var n=M(r,e,r[e]+t,o[i],a[i]);!1===n?t=0:(t=n-r[e],r[e]=n)}):o=a=[!0];var s=!1;n.forEach(function(e,n){s=D(e,i[e]+t,o[n],a[n])||s}),s&&n.forEach(function(e){O("update",e),O("slide",e)})}function O(e,t,i){Object.keys(ae).forEach(function(n){var o=n.split(".")[0];e===o&&ae[n].forEach(function(e){e.call(Z,oe.map(r.format.to),t,oe.slice(),i||!1,ie.slice())})})}function F(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&B(e,t)}function P(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return B(e,t);var i=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);k(i>0,100*i/t.baseSize,t.locations,t.handleNumbers)}function B(e,t){var i=G.querySelector("."+r.cssClasses.active);null!==i&&u(i,r.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(e){document.documentElement.removeEventListener(e[0],e[1])}),u(te,r.cssClasses.drag),A(),t.handleNumbers.forEach(function(e){O("set",e),O("change",e),O("end",e)})}function _(e,t){if(1===t.handleNumbers.length){var i=J[t.handleNumbers[0]];if(i.hasAttribute("disabled"))return!1;c(i.children[0],r.cssClasses.active)}e.preventDefault(),e.stopPropagation();var n=C(ee.move,document.documentElement,P,{startCalcPoint:e.calcPoint,baseSize:w(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:ie.slice()}),o=C(ee.end,document.documentElement,B,{handleNumbers:t.handleNumbers}),a=C("mouseout",document.documentElement,F,{handleNumbers:t.handleNumbers});if(document.documentElement.noUiListeners=n.concat(o,a),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,J.length>1&&c(te,r.cssClasses.drag);var s=function(){return!1};document.body.noUiListener=s,document.body.addEventListener("selectstart",s,!1)}t.handleNumbers.forEach(function(e){O("start",e)})}function E(e){e.stopPropagation();var t=j(e.calcPoint),i=T(t);return!1!==i&&(r.events.snap||o(te,r.cssClasses.tap,r.animationDuration),D(i,t,!0,!0),A(),O("slide",i,!0),O("set",i,!0),O("change",i,!0),O("update",i,!0),void(r.events.snap&&_(e,{handleNumbers:[i]})))}function L(e){var t=j(e.calcPoint),i=re.getStep(t),n=re.fromStepping(i);Object.keys(ae).forEach(function(e){"hover"===e.split(".")[0]&&ae[e].forEach(function(e){e.call(Z,n)})})}function M(e,t,i,n,o){return J.length>1&&(n&&t>0&&(i=Math.max(i,e[t-1]+r.margin)),o&&t<J.length-1&&(i=Math.min(i,e[t+1]-r.margin))),J.length>1&&r.limit&&(n&&t>0&&(i=Math.min(i,e[t-1]+r.limit)),o&&t<J.length-1&&(i=Math.max(i,e[t+1]-r.limit))),i=re.getStep(i),(i=a(i))!==e[t]&&i}function I(e){return e+"%"}function Q(e,t){ie[e]=t,oe[e]=re.fromStepping(t);var i=function(){J[e].style[r.style]=I(t),H(e),H(e+1)};window.requestAnimationFrame&&r.useRequestAnimationFrame?window.requestAnimationFrame(i):i()}function A(){ne.forEach(function(e){var t=ie[e]>50?-1:1,i=3+(J.length+t*e);J[e].childNodes[0].style.zIndex=i})}function D(e,t,i,n){return!1!==(t=M(ie,e,t,i,n))&&(Q(e,t),!0)}function H(e){if(K[e]){var t=0,i=100;0!==e&&(t=ie[e-1]),e!==K.length-1&&(i=ie[e]),K[e].style[r.style]=I(t),K[e].style[r.styleOposite]=I(100-i)}}function V(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=r.format.from(e))||isNaN(e)||D(t,re.toStepping(e),!1,!1))}function N(e,t){var i=s(e),n=void 0===ie[0];t=void 0===t||!!t,i.forEach(V),r.animate&&!n&&o(te,r.cssClasses.tap,r.animationDuration),ne.forEach(function(e){D(e,ie[e],!0,!1)}),A(),ne.forEach(function(e){O("update",e),null!==i[e]&&t&&O("set",e)})}function q(e){N(r.start,e)}function U(){var e=oe.map(r.format.to);return 1===e.length?e[0]:e}function W(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&u(te,r.cssClasses[e]);for(;te.firstChild;)te.removeChild(te.firstChild);delete te.noUiSlider}function z(){return ie.map(function(e,t){var i=re.getNearbySteps(e),n=oe[t],r=i.thisStep.step,o=null;!1!==r&&n+r>i.stepAfter.startValue&&(r=i.stepAfter.startValue-n),o=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=re.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]})}function $(e,t){ae[e]=ae[e]||[],ae[e].push(t),"update"===e.split(".")[0]&&J.forEach(function(e,t){O("update",t)})}function X(e){var t=e&&e.split(".")[0],i=t&&e.substring(t.length);Object.keys(ae).forEach(function(e){var n=e.split(".")[0],r=e.substring(n.length);t&&t!==n||i&&i!==r||delete ae[e]})}function Y(e,t){var i=U(),n=["margin","limit","range","animate","snap","step","format"];n.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var o=R(l);n.forEach(function(t){void 0!==e[t]&&(r[t]=o[t])}),o.spectrum.direction=re.direction,re=o.spectrum,r.margin=o.margin,r.limit=o.limit,ie=[],N(e.start||i,t)}var G,J,K,Z,ee=f(),te=i,ie=[],ne=[],re=r.spectrum,oe=[],ae={};if(te.noUiSlider)throw new Error("Slider was already initialized.");return function(t){c(t,r.cssClasses.target),0===r.dir?c(t,r.cssClasses.ltr):c(t,r.cssClasses.rtl),0===r.ort?c(t,r.cssClasses.horizontal):c(t,r.cssClasses.vertical),G=e(t,r.cssClasses.base)}(te),function(e,t){J=[],K=[],K.push(g(t,e[0]));for(var i=0;i<r.handles;i++)J.push(h(t,i)),ne[i]=i,K.push(g(t,e[i+1]))}(r.connect,G),Z={destroy:W,steps:z,on:$,off:X,get:U,set:N,reset:q,__moveHandles:function(e,t,i){k(e,t,ie,i)},options:l,updateOptions:Y,target:te,pips:S},function(e){e.fixed||J.forEach(function(e,t){C(ee.start,e.children[0],_,{handleNumbers:[t]})}),e.tap&&C(ee.start,G,E,{}),e.hover&&C(ee.move,G,L,{hover:!0}),e.drag&&K.forEach(function(t,i){if(!1!==t&&0!==i&&i!==K.length-1){var n=J[i-1],o=J[i],a=[t];c(t,r.cssClasses.draggable),e.fixed&&(a.push(n.children[0]),a.push(o.children[0])),a.forEach(function(e){C(ee.start,e,_,{handles:[n,o],handleNumbers:[i-1,i]})})}})}(r.events),N(r.start),r.pips&&S(r.pips),r.tooltips&&function(){var e=J.map(m);$("update",function(t,i,n){if(e[i]){var o=t[i];!0!==r.tooltips[i]&&(o=r.tooltips[i].to(n[i])),e[i].innerHTML=o}})}(),Z}function U(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var i=R(t,e),n=q(e,i,t);return e.noUiSlider=n,n}j.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e%t)throw new Error("noUiSlider: 'limit' and 'margin' must be divisible by step.");return 2===this.xPct.length&&g(this.xVal,e)},j.prototype.toStepping=function(e){return e=y(this.xVal,this.xPct,e)},j.prototype.fromStepping=function(e){return S(this.xVal,this.xPct,e)},j.prototype.getStep=function(e){return e=w(this.xPct,this.xSteps,this.snap,e)},j.prototype.getNearbySteps=function(e){var t=b(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},j.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(l);return Math.max.apply(null,e)},j.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var W={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{create:U}}),function(){"use strict";function e(e){return e.split("").reverse().join("")}function t(e,t){return e.substring(0,t.length)===t}function i(e,t){return e.slice(-1*t.length)===t}function n(e,t,i){if((e[t]||e[i])&&e[t]===e[i])throw new Error(t)}function r(e){return"number"==typeof e&&isFinite(e)}function o(e,t){var i=Math.pow(10,t);return(Math.round(e*i)/i).toFixed(t)}function a(t,i,n,a,s,l,c,u,p,d,f,h){var g,m,v,b=h,y="",S="";return l&&(h=l(h)),!!r(h)&&(!1!==t&&0===parseFloat(h.toFixed(t))&&(h=0),h<0&&(g=!0,h=Math.abs(h)),!1!==t&&(h=o(h,t)),h=h.toString(),-1!==h.indexOf(".")?(m=h.split("."),v=m[0],n&&(y=n+m[1])):v=h,i&&(v=e(v).match(/.{1,3}/g),v=e(v.join(e(i)))),g&&u&&(S+=u),a&&(S+=a),g&&p&&(S+=p),S+=v,S+=y,s&&(S+=s),d&&(S=d(S,b)),S)}function s(e,n,o,a,s,l,c,u,p,d,f,h){var g,m="";return f&&(h=f(h)),!(!h||"string"!=typeof h)&&(u&&t(h,u)&&(h=h.replace(u,""),g=!0),a&&t(h,a)&&(h=h.replace(a,"")),p&&t(h,p)&&(h=h.replace(p,""),g=!0),s&&i(h,s)&&(h=h.slice(0,-1*s.length)),n&&(h=h.split(n).join("")),o&&(h=h.replace(o,".")),g&&(m+="-"),m+=h,""!==(m=m.replace(/[^0-9\.\-.]/g,""))&&(m=Number(m),c&&(m=c(m)),!!r(m)&&m))}function l(e){var t,i,r,o={};for(t=0;t<p.length;t+=1)if(i=p[t],void 0===(r=e[i]))"negative"!==i||o.negativeBefore?"mark"===i&&"."!==o.thousand?o[i]=".":o[i]=!1:o[i]="-";else if("decimals"===i){if(!(r>=0&&r<8))throw new Error(i);o[i]=r}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof r)throw new Error(i);o[i]=r}else{if("string"!=typeof r)throw new Error(i);o[i]=r}return n(o,"mark","thousand"),n(o,"prefix","negative"),n(o,"prefix","negativeBefore"),o}function c(e,t,i){var n,r=[];for(n=0;n<p.length;n+=1)r.push(e[p[n]]);return r.push(i),t.apply("",r)}function u(e){if(!(this instanceof u))return new u(e);"object"==typeof e&&(e=l(e),this.to=function(t){return c(e,a,t)},this.from=function(t){return c(e,s,t)})}var p=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=u}();var jQ=jQuery.noConflict(!0),BCSfFilter=function(){this.version="v2",this.prefix="pf",this.queryParams={},this.internalClick=!1,this.selectFilter=!1,this.imutableFilterTree=["page","sort","limit","display","_"],this.hasFilterOptionParam=!1,this.scrollData=[],this.shopName="",this.shopDomain="",this.fileUrl="",this.defaultCurrency="",this.moneyFormat="",this.collectionId="",this.collectionTags="",this.currentTags="",this.defaultSorting="",this.swatchExtension="",this.productAvailable=!0,this.variantAvailable=!0,this.loadProductFirst=!1,this.searchTermKey="q",this.suggestionCache={},this.currentTerm="",this["class"]={filterOption:"bc-sf-filter-option-block",filterBlockTitle:"bc-sf-filter-block-title",filterBlockContent:"bc-sf-filter-block-content",selectFilterOptionButton:"bc-sf-filter-select-button",filterOptionItem:"bc-sf-filter-option-item",filterOptionLabel:"bc-sf-filter-option-label",filterOptionRange:"bc-sf-filter-option-range",filterRefineWrapper:"bc-sf-filter-selection-wrapper",filterSelectedItems:"bc-sf-filter-selected-items",filterSelectedItemsMobile:"bc-sf-filter-selected-items-mobile",filterOptionHidden:"bc-sf-filter-option-hidden",filterOptionOpenList:"bc-sf-filter-option-open-list",filterOptionCloseList:"bc-sf-filter-option-close-list",clearButton:"bc-sf-filter-clear",clearAllButton:"bc-sf-filter-clear-all",collectionHeader:"bc-sf-filter-collection-header",collectionDescription:"bc-sf-filter-collection-description",filterOptionTooltip:"bc-sf-filter-option-tooltip",searchBox:"bc-sf-search-box",searchResultHeader:"bc-sf-search-result-header",searchResultNumber:"bc-sf-search-result-number",searchSuggestion:"bc-sf-search-suggestion",searchSuggestionWrapper:"bc-sf-search-suggestion-wrapper",searchSuggestionHeader:"bc-sf-search-suggestion-header",searchSuggestionItem:"bc-sf-search-suggestion-item",searchSuggestionMobile:"bc-sf-search-suggestion-mobile",searchSuggestionLoading:"bc-sf-search-suggestion-loading",mobileButtonOpen:"bc-sf-filter-tree-mobile-button-open"},this.selector={filterWrapper:"#bc-sf-filter-wrapper",filterTree:"#bc-sf-filter-tree",filterTreeHorizontal:"#bc-sf-filter-tree-h",filterTreeMobile:"#bc-sf-filter-tree-mobile",filterTreeMobileButton:"#bc-sf-filter-tree-mobile-button",filterOptionOpenValue:"bc-sf-filter-filter-option-open",filterOptionSubmitOpenValue:"bc-sf-filter-filter-option-s-open",products:"#bc-sf-filter-products",searchBoxMobile:"#bc-sf-search-box-mobile",topShowLimit:"#bc-sf-filter-top-show-limit",topSorting:"#bc-sf-filter-top-sorting",topDisplayType:"#bc-sf-filter-top-display-type",pagination:"#bc-sf-filter-bottom-pagination,#bc-sf-filter-top-pagination",bottomPagination:"#bc-sf-filter-bottom-pagination",loadMore:"#bc-sf-filter-load-more",loadMoreButtonContainer:"#bc-sf-filter-load-more-button-container",loadMoreLoading:"#bc-sf-filter-load-more-loading",topNotification:"#bc-sf-filter-top-notification",breadcrumb:"#bc-sf-filter-breadcrumb",scrollToTop:"#bc-sf-filter-scroll-to-top"},this.template={filterOptionWrapper:'<div class="{{class.filterOption}} {{blockTypeClass}} {{blockId}}" data-block-id="{{blockId}}"><div class="{{class.filterBlockTitle}}"><h3><span>{{blockTitle}}</span></h3>{{tooltip}}{{clearButton}}</div><div class="{{class.filterBlockContent}}">{{blockContent}}</div></div>',filterOptionHorizontalWrapper:'<div class="{{class.filterOption}} {{blockTypeClass}} {{blockId}}" data-block-id="{{blockId}}"><div class="{{class.filterBlockTitle}}" id={{blockTitleId}}><a href="javascript:;"><span>{{blockTitle}}{{tooltip}}</span><div></div></a></div><div class="{{class.filterBlockContent}}" id={{blockContentId}}><div class="{{class.filterBlockContent}}-inner">{{blockContent}}{{btnApply}}{{clearButton}}</div></div></div>',filterOptionLabel:'<span></span><span class="bc-sf-filter-option-value">{{itemValue}}</span><span class="bc-sf-filter-option-amount">{{itemAmount}}</span>',filterOptionSingleList:'<ul class="bc-sf-filter-option-single-list">{{itemList}}</ul>',filterOptionSingleListItem:'<li><a href="{{itemLink}}" onClick="{{itemFunc}}" class="{{class.filterOptionItem}} {{class.filterOptionLabel}} {{itemSelected}}">{{itemLabel}}</a></li>',filterOptionMultipleList:'<ul class="bc-sf-filter-option-multiple-list">{{itemList}}</ul>',filterOptionMultipleListItem:'<li><input type="checkbox" onClick="{{itemFunc}}" class="{{itemSelected}}" /><a href="javascript:;" onClick="{{itemFunc}}" class="{{class.filterOptionItem}} {{class.filterOptionLabel}} {{itemSelected}}">{{itemLabel}}</a></li>',filterOptionBox:'<ul class="bc-sf-filter-option-box">{{itemList}}</ul>',filterOptionBoxItem:'<li><a href="javascript:;" onClick="{{itemFunc}}" class="{{class.filterOptionItem}} {{class.filterOptionLabel}} {{itemSelected}}">{{itemLabel}}</a></li>',filterOptionRange:'<div><div class="bc-sf-filter-option-range-amount" id="{{rangeAmountId}}"><input class="bc-sf-filter-option-range-amount-min" type="text" /><div class="bc-sf-filter-option-range-amount-split"> - </div><input class="bc-sf-filter-option-range-amount-max" type="text" /></div><div class="bc-sf-filter-option-range-slider {{itemSelected}}" id="{{rangeSliderId}}" data-id="{{itemParentId}}" data-value="{{itemValue}}" data-parent-label="{{itemParentLabel}}"></div></div>',filterOptionRange2:'<div><div class="bc-sf-filter-option-range-amount" id="{{rangeAmountId}}">{{itemLabel}}</div><div class="bc-sf-filter-option-range-slider {{itemSelected}}" id="{{rangeSliderId}}" data-id="{{itemParentId}}" data-value="{{itemValue}}" data-parent-label="{{itemParentLabel}}"></div></div>',filterOptionRangeLabel:"<span>{{minValue}}</span> <span>-</span> <span>{{maxValue}}</span>",filterOptionSwatch:'<ul class="bc-sf-filter-option-swatch {{swatchStyle}}">{{itemList}}</ul>',filterOptionSwatchItem:'<li><a href="javascript:;" title="{{itemTitle}}" onClick="{{itemFunc}}" class="{{class.filterOptionItem}} {{itemSelected}}" title="{{itemTitle}}"><span class="bc-sf-filter-option-swatch-image" style="background-color: {{itemValue}}; background-image: url({{itemImageValue}}); border: {{itemBorder}}"></span>{{itemLabel}}</a></li>',filterOptionSwatchHorizontalItem:'<li><a href="javascript:;" title="{{itemTitle}}" onClick="{{itemFunc}}" class="{{class.filterOptionItem}} {{class.filterOptionLabel}} {{itemSelected}}"><span style="background-color: {{itemValue}}; background-image: url({{itemImageValue}}); border: {{itemBorder}}"></span></a><span data-id="{{itemParentId}}" data-value="{{itemValue}}" data-parent-label="{{itemParentLabel}}" title="{{itemTitle}}" onClick="{{itemFunc}}" class="{{itemSelected}}">{{itemLabel}}</span></li>',filterOptionRating:'<ul class="bc-sf-filter-option-rating">{{itemList}}</ul>',filterOptionRatingItem:'<li><a href="{{itemLink}}" onClick="{{itemFunc}}" class="{{class.filterOptionItem}} {{class.filterOptionLabel}} {{itemSelected}}">{{itemLabel}}</span></a></li>',filterOptionRatingStar:"{{itemStars}}<span>{{label.ratingUp}}</span>",filterOptionRatingIconStar:'<i class="bc-sf-filter-icon-star">&#xe801;</i>',filterOptionRatingIconStarActive:'<i class="bc-sf-filter-icon-star bc-sf-filter-icon-star-active ">&#xe800;</i>',filterRefineWrapper:'<div class="{{class.filterRefineWrapper}}"><div class="{{class.filterBlockTitle}}"><h3><span>{{label}}</span></h3></div><div class="{{class.filterSelectedItems}}">{{selectedItems}}</div></div>',filterRefineItem:'<div class="selected-item {{class.filterOptionLabel}}"><a href="{{itemLink}}"><span class="selected-type"><span>{{itemType}}</span>: <strong>{{itemLabel}}</strong></span><span class="{{class.clearButton}}"></span></a></div>',filterRefineHorizontalWrapper:'<div class="bc-sf-filter-pc {{class.filterRefineWrapper}}"><span>{{label}}</span><div class="{{class.filterSelectedItems}}">{{selectedItems}}</div></div>',filterRefineHorizontalItem:'<div class="selected-item"><a href="{{itemLink}}"><span class="{{class.filterOptionLabel}} selected-type">{{itemLabel}}</span><span class="{{class.clearButton}}"></span></a></div>',filterTreeMobileButton:'<button id="bc-sf-filter-tree-mobile-button" type="button">{{label}}</button>',clearAllButton:'<a href="javascript:;" class="{{class.clearAllButton}}" onClick="clearAllFilterOptions(event)">{{label.clearAll}}</a>',loadMoreButton:'<div id="bc-sf-filter-load-more-button-container"><a href="javascript:;" class="bc-sf-filter-load-more-button">{{label.loadMore}}</a></div>',loadMoreLoading:'<div id="bc-sf-filter-load-more-loading">{{loadingIcon}}</div>',loading:'<div id="bc-sf-filter-loading"></div>',error:'<div id="bc-sf-filter-error">{{content}}<div class="btn-wrapper"><button>Close</button></div></div>',noResult:'<div id="bc-sf-filter-message"><p><em>{{content}}</em></p></div>',scrollToTop:'<a href="javascript:;" id="bc-sf-filter-scroll-to-top"><span>Back to top</span></a>'},this.defaultSettings={general:{limit:16,showSingleOption:!0,activeFilterScrollbar:!0,activeFilterScrollbarPC:!1,showMoreType:"",activeScrollToTop:!1,styleScrollToTop:"style1",showLoading:!1,showLoadMoreLoading:!0,showMobileLoading:!1,positionShowInfiniteLoading:700,showRefineBy:!0,showOutOfStockOption:!1,showFilterOptionCount:!0,capitalizeFilterOptionValues:!0,forceCapitalizeFilterOptionValues:!1,capitalizeFirstLetterFilterOptionValues:!1,collapseOnMobileByDefault:!1,refineByHorizontalPosition:"bottom",keepScrollState:!0,keepToggleState:!1,rangeStyle:"style1",decimalPriceRange:0,removePriceDecimal:!1,decimalDelimiter:".",roundPriceSlider:!1,oneValueRangeSlider:!1,sortManualValues:!1,requestInstantly:!1,productAvailable:!1,variantAvailable:!1,availableAfterFiltering:!1,showUnavailableSelection:!1,loadProductFirst:!1,changeMobileButtonLabel:!1,vendorParam:"pf_v_vendor",priceMode:"",breakpointMobile:"767",startViewMore:{list:5,box:6,swatch:7},filterTreeMobileStyle:"",ratingSelectionStyle:"text",paginationType:"default",sortingList:["relevance","best-selling","manual","price-ascending","price-descending","title-ascending","title-descending","created-descending","created-ascending"],customSortingList:"",extraSortingList:"",sortingAvailableFirst:!1,showLimitList:"4,8,12,16",defaultDisplay:"grid",imageExtension:["jpg","JPG","png","PNG","jpeg","JPEG","gif","GIF"],colorOptionsArr:[],swatchStyle:"",swatchImageVersion:"1111111",removePrefixFromSwatchFile:!0,selectionHorizontalPlace:"#bc-sf-filter-tree-h",enableFilterOptionBoxStyle:!0,enableFilter:!0,enableSeo:!0},search:{enableSearch:!0,enableSuggestion:!0,suggestionBlocks:[{type:"suggestions",label:"Suggestions",status:"active",number:3},{type:"collections",label:"Collections",status:"active",number:2},{type:"pages",label:"Pages",status:"active",number:2},{type:"products",label:"Products",status:"active",number:3}],suggestionMinLength:1,suggestionPosition:"",suggestionWidth:"auto",suggestionTypes:[],suggestionStyle:"",suggestionStyle2MainContainerSelector:"header:first",suggestionStyle2ReverseProductBlock:!1,suggestionStyle2ProductPerRow:3,suggestionMobileStyle:"style1",showSuggestionLoading:!0,showSuggestionProductVendor:!0,showSuggestionProductPrice:!0,showSuggestionProductSalePrice:!0,showSuggestionProductImage:!0,showSuggestionProductSku:!1,showSearchBtnMobile:!1,enableDefaultResult:!0,enableFuzzy:!0,productAvailable:!1,removePriceDecimal:!1,highlightSuggestionResult:!0,openProductNewTab:!1,suggestionMode:"prod",termKey:"q",skipFields:[],reduceMinMatch:!1,fontSizeSuggestionHeader:"",bgSuggestionHeader:"",colorSuggestionHeader:""},label:{}},window.suggestionCallback=function(){}};BCSfFilter.prototype.init=function(){this.initAppConfig(),this.initLabel(),this.initGlobalVariable(),this.initHistory()},BCSfFilter.prototype.initFilter=function(){this.updateApiParams(!1),this.getFilterData("init")},BCSfFilter.prototype.initAppConfig=function(){var e=bcSfFilterConfig.shop,t=bcSfFilterConfig.general;this.shopName=e.name,this.shopDomain=e.domain,this.defaultCurrency=e.currency,this.moneyFormat=e.money_format,this.fileUrl=t.file_url,this.collectionId=t.collection_id,this.collectionTags=t.collection_tags,this.collectionCount=t.collection_count,this.currentTags=t.current_tags,this.defaultSorting=t.default_sort_by.trim(),this.swatchExtension=t.swatch_extension},BCSfFilter.prototype.initGlobalVariable=function(){this.productAvailable=this.getSettingValue("general.productAvailable"),this.variantAvailable=this.getSettingValue("general.variantAvailable"),this.getSettingValue("general.productAndVariantAvailable")&&(this.productAvailable=!0,this.variantAvailable=!0),this.loadProductFirst=this.getSettingValue("general.loadProductFirst"),this.searchTermKey=this.getSettingValue("search.termKey"),this.mobileStyle=this.getSettingValue("general.filterTreeMobileStyle"),this.suggestionTypes=this.getSettingValue("search.suggestionTypes")},BCSfFilter.prototype.initLabel=function(){this.defaultSettings.label={refine:this.getLabel("label","refine","Refine By"),refineMobile:this.getLabel("label","refine_mobile","Refine By"),refineMobileCollapse:this.getLabel("label","refine_mobile_collapse","Hide Filter"),clear:this.getLabel("label","clear","Clear"),clearAll:this.getLabel("label","clear_all","Clear All"),apply:this.getLabel("label","apply","Apply"),close:this.getLabel("label","close","Close"),loadMore:this.getLabel("label","load_more","Load more Products"),collectionAll:"All",viewMore:"View More",viewLess:"View Less",under:"Under",above:"Above",ratingStar:"Star",ratingStars:"Stars",ratingUp:"& Up",showResult:"Show Results",showLimit:"Show",sorting:{"best-selling":this.getLabel("label","sorting_best_selling","Best Selling"),manual:this.getLabel("label","sorting_featured","Featured"),"price-ascending":this.getLabel("label","sorting_price_ascending","Lowest Price"),"price-descending":this.getLabel("label","sorting_price_descending","Highest Price"),"title-ascending":this.getLabel("label","sorting_title_ascending","Alphabetically, A-Z"),"title-descending":this.getLabel("label","sorting_title_descending","Alphabetically, Z-A"),"created-descending":this.getLabel("label","sorting_date_descending","Date, New to Old"),"created-ascending":this.getLabel("label","sorting_date_ascending","Date, Old to New"),"published-descending":this.getLabel("label","sorting_date_descending","Date, New to Old"),"published-ascending":this.getLabel("label","sorting_date_ascending","Date, Old to New"),"sale-descending":this.getLabel("label","sorting_sale_descending","% Off"),relevance:this.getLabel("label","sorting_relevance","Relevance")},search:{generalTitle:this.getLabel("label","search_general_title","Search"),resultHeader:this.getLabel("label","search_result_header",'Search Results for "{{ terms }}"'),resultEmpty:this.getLabel("label","search_result_empty","Your search for {{ terms }} didn't match any results"),resultNumber:this.getLabel("label","search_result_number",'Showing {{ count }} results for "{{ terms }}"')},suggestion:{placeholder:this.getLabel("label_suggestion","suggestion_placeholder","Search"),popularHeader:this.getLabel("label_suggestion","suggestion_popular_header","Popular Suggestions"),productHeader:this.getLabel("label_suggestion","suggestion_product_header","Products"),didYouMeanHeader:this.getLabel("label_suggestion","suggestion_did_you_mean_header","Did you mean"),viewAll:this.getLabel("label_suggestion","suggestion_view_all","View all {{ count }} product(s)"),suggestQuery:this.getLabel("label_suggestion","suggestion_suggest_query","Showing results for {{ terms }}."),didYouMean:this.getLabel("label_suggestion","suggestion_did_you_mean","Did you mean: {{ terms }}?")},error:{noFilterResult:this.getLabel("label_error","error_no_filter_result","Sorry, no products matched your selection"),noSearchResult:this.getLabel("label_error","error_no_search_result","Sorry, no products matched the keyword"),noProducts:this.getLabel("label_error","error_no_products","No products found in this collection"),noSuggestionProducts:'Sorry, nothing found for "{{ terms }}"',noSuggestionResult:'Sorry, nothing found for "{{ terms }}"'}}},BCSfFilter.prototype.initHistory=function(){var e=this;History.Adapter.bind(window,"statechange",function(){e.internalClick||(e.updateApiParams(!1),e.getFilterData("history")),e.internalClick=!1})},BCSfFilter.prototype.destroy=function(){bcsffilter=void 0},BCSfFilter.prototype.updateApiParams=function(e){var t=this.getFilterParams(e);t=this.setDefaultParams(t),this.queryParams=t},BCSfFilter.prototype.getFilterParams=function(e){var t={};if(e=void 0===e||!1===e?window.location.search:"?"+e.split("?")[1],e.length)for(var i,n=0,r=e.substr(1).split("&");n<r.length;n++)if(i=r[n].split("="),i.length>1){var o=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]);t.hasOwnProperty(o)?t[o].push(a):t[o]=this.findIndexArray(o,this.imutableFilterTree)>-1||"q"==o||o.indexOf("_and_condition")>-1?a:[a],o.indexOf("pf_")>-1&&(this.hasFilterOptionParam=!0)}return t},BCSfFilter.prototype.setDefaultParams=function(e){e.shop=e.hasOwnProperty("shop")?e.shop:this.shopDomain,e.page=e.hasOwnProperty("page")?parseInt(e.page):1;var t=this.getSettingValue("general.limit");return"default"==this.getSettingValue("general.paginationType")?e.limit=e.hasOwnProperty("limit")?e.limit:t:e.limit=(e.hasOwnProperty("limit")?e.limit:t)*e.page,this.isSearchPage()&&(this.defaultSorting="relevance"),e.sort=e.hasOwnProperty("sort")?e.sort:this.defaultSorting,e.display=e.hasOwnProperty("display")?e.display:this.getSettingValue("general.defaultDisplay"),e},BCSfFilter.prototype.changeAddressBar=function(e,t,i){var n="?"+e.split("?")[1],r=n.substr(1).split("&");1!=r.length&&!1!==this.checkExistFilterOptionParam()||(e=r.length>1&&!1===this.checkExistFilterOptionParam()?e.replace("&_="+this.prefix,""):e.replace("?_="+this.prefix,""));var o=document.title;void 0===t||void 0===i||"collection"!=t||this.isSearchPage()||(o=this.textify(i)+" - "+this.shopName),History.pushState({param:this.queryParams},o,e)},BCSfFilter.prototype.prepareRequestParams=function(e){var t=mergeObject({},this.queryParams);t=this.prepareFilterParams(t,e),t=this.prepareSearchParams(t,e),this.queryParams=t},BCSfFilter.prototype.prepareFilterParams=function(e,t){if(this.queryParams.hasOwnProperty("collection_scope"))e.collection_scope=Array.isArray(this.queryParams.collection_scope)?this.queryParams.collection_scope[0]:this.queryParams.collection_scope;else if(this.isSearchPage())e.collection_scope=0;else if(e.collection_scope=parseInt(this.collectionId),"history"==t){var i=History.getState().data;i.hasOwnProperty("param")&&i.param.hasOwnProperty("collection_scope")?e.collection_scope=this.collectionId=parseInt(i.param.collection_scope):e.collection_scope=this.collectionId=parseInt(bcSfFilterConfig.general.collection_id)}return 1==this.getSettingValue("general.availableAfterFiltering")?(e.product_available=!0===this.checkExistFilterOptionParam()||this.productAvailable,e.variant_available=!0===this.checkExistFilterOptionParam()||this.variantAvailable):(e.product_available=this.productAvailable,e.variant_available=this.variantAvailable),void 0!==this.collectionTags&&null!==this.collectionTags&&(e.tag=this.collectionTags),this.getSettingValue("general.showOutOfStockOption")&&(e.zero_options=!0),e.build_filter_tree=!(void 0!==t&&this.imutableFilterTree.indexOf(t)>-1),e.check_cache=!1===this.checkExistFilterOptionParam()&&1==e.page&&e.sort==this.defaultSorting&&e.limit==this.getSettingValue("general.limit")&&!this.isSearchPage()&&!this.isVendorPage(),""!=this.getSettingValue("general.priceMode")&&(e.price_mode=this.getSettingValue("general.priceMode")),this.getSettingValue("general.sortingAvailableFirst")&&(e.sort_first="available"),this.isVendorPage()&&e.hasOwnProperty("q")&&(e[this.getSettingValue("general.vendorParam")]=[e.q],delete e.q),e},BCSfFilter.prototype.prepareSearchParams=function(e){return this.isSearchPage()&&(e.q=this.getSearchTerm(),"q"!=this.searchTermKey&&delete e[this.searchTermKey],this.getSettingValue("search.enableFuzzy")||(e.fuzzy=!1),this.getSettingValue("search.reduceMinMatch")&&(e.reduce_min_match=!0)),e},BCSfFilter.prototype.beforeGetFilterData=function(){var e=this;this.getSettingValue("general.keepScrollState")&&jQ("."+this["class"].filterOption).each(function(){if(jQ(this).find(".jspScrollable").length>0){var t=jQ(this).find(".jspScrollable").eq(0).data("jsp");void 0!==t&&e.scrollData.push({id:jQ(this).data("block-id"),position:t.getContentPositionY()})}})},BCSfFilter.prototype.getFilterData=function(e,t){var t=void 0!==t?t:0,i=this;this.showLoading(),this.beforeGetFilterData(e),this.prepareRequestParams(e),this.queryParams.callback="BCSfFilterCallback",this.queryParams.event_type=e;var n=this.isSearchPage()?this.getApiUrl("search"):this.getApiUrl("filter"),r=document.createElement("script");r.type="text/javascript";var o=(new Date).getTime();r.src=n+"?t="+o+"&"+jQ.param(this.queryParams),r.id="bc-sf-filter-script",r.async=!0,r.addEventListener("error",function(){"function"==typeof document.getElementById(r.id).remove?document.getElementById(r.id).remove():document.getElementById(r.id).outerHTML="",t<3?(t++,i.getFilterData("resend",t)):(i.buildDefaultElements(e),i.showError("Oops, we cannot fetch products at this moment. Please try again later."))}),document.getElementsByTagName("head")[0].appendChild(r),r.onload=function(){"function"==typeof document.getElementById(r.id).remove?document.getElementById(r.id).remove():document.getElementById(r.id).outerHTML=""}},BCSfFilter.prototype.afterGetFilterData=function(e,t){if(this.hideLoading(),["infinite","load_more"].indexOf(this.getSettingValue("general.paginationType"))>-1&&this.getSettingValue("general.showLoadMoreLoading")&&!1===this.getSettingValue("general.showLoading")&&this.hideLoadMoreLoading(),
"load_more"==this.getSettingValue("general.paginationType")&&(e.products.length<this.queryParams.limit?jQ(this.getSelector("loadMore")).hide():(jQ(this.getSelector("loadMore")).show(),jQ(this.getSelector("loadMoreButtonContainer")).show())),"collection"==t){var i=bcsffilter["class"].filterOptionOpenList,n=bcsffilter["class"].filterOptionCloseList;jQ("."+i).length>0&&jQ("."+i).remove(),jQ("."+n).length>0&&jQ("."+n).remove()}e.hasOwnProperty("errorMessage")||(this.catchError(e,t),this.buildAll(e,this.queryParams.build_filter_tree,t))},BCSfFilter.prototype.buildAll=function(e,t,i){var n=this.selector.pagination,r=e.total_product;if(!0===t&&e.hasOwnProperty("filter")&&(this.buildFilterTree(e.filter.options),this.getSettingValue("general.showRefineBy")&&this.buildFilterSelection(e),this.buildFilterTreeMobile(),this.buildFilterTreeMobileButton(e),this.buildAdditionalFilterEvent()),r>0){this.buildProductList(e.products,i);var o=this.getSettingValue("general.paginationType");"default"==o?this.buildPagination(r):(jQ(n).empty(),"load_more"==o&&this.buildLoadMoreButton(r)),this.buildToolbar(),this.buildToolbarEvent(e),jQ(this.selector.filterWrapper).show();var a=this.selector.topNotification;jQ(a).length>0&&jQ(a).empty()}jQ(this.selector.products).removeAttr("data-bc-sort"),jQ(n).show(),this.buildAdditionalElements(e,i),this.buildScrollToTop(),"collection"==i&&this.buildPageInfo(e),this.isSearchPage()&&(this.buildSearchResultHeader(e),this.buildSearchResultNumber(e)),this.buildRobotsMetaTag(e),this.selectFilter=!1},BCSfFilter.prototype.prepareFilterOptionData=function(e){return e},BCSfFilter.prototype.beforeBuildFilterTree=function(e){return jQ(this.selector.filterTree).html(""),jQ(this.selector.filterTreeHorizontal).html(""),e=this.removeVendorOptionInVendorPage(e)},BCSfFilter.prototype.removeVendorOptionInVendorPage=function(e){var t=this,i=e.filter(function(e){return e.filterOptionId==t.getSettingValue("general.vendorParam")});if(this.isVendorPage()&&void 0!==i[0]){var n=this.findIndexArray(this.getSettingValue("general.vendorParam"),e,"filterOptionId");e.splice(n,1)}return e},BCSfFilter.prototype.buildFilterTree=function(e){if(jQ(this.selector.filterTree).length>0&&jQ(this.selector.filterTreeHorizontal).length>0){e=this.beforeBuildFilterTree(e);var t=this;jQ.each(e,function(e,i){if("active"==i.status)switch(i=t.prepareFilterOptionData(i),i.displayType){case"list":"single"==i.selectType?t.buildFilterOptionSingleList(i):t.buildFilterOptionMultipleList(i);break;case"box":t.buildFilterOptionBox(i);break;case"range":t.buildFilterOptionRange(i);break;case"swatch":t.buildFilterOptionSwatch(i);break;case"rating":t.buildFilterOptionRating(i)}}),this.afterBuildFilterTree(e),this.buildFilterTreeCallback(e)}},BCSfFilter.prototype.afterBuildFilterTree=function(){jQ(this.selector.filterTree).children().wrapAll('<div id="bc-sf-filter-options-wrapper"></div>'),this.buildFilterOptionBoxStyle(),this.triggerOpenHorizontalFilterEvent(),this.buildFilterShowMore(),this.checkIsFullWidthMobile()||this.collapseFilterOption()},BCSfFilter.prototype.buildFilterTreeCallback=function(){var e=this;jQ(window).on("resize",function(){e.isMobile()&&e.isMobileDevice()||("style2"!=e.mobileStyle&&"style3"!=e.mobileStyle||(e.removeFilterTreeMobileStyle(),e.buildFilterShowMore()),closeFilterMobile())})},BCSfFilter.prototype.triggerOpenHorizontalFilterEvent=function(){if(0==jQ("#"+this.selector.filterOptionOpenValue).length&&jQ("body").append('<input type="hidden" id="'+this.selector.filterOptionOpenValue+'" />'),0==jQ("#"+this.selector.filterOptionSubmitOpenValue).length&&jQ("body").append('<input type="hidden" id="'+this.selector.filterOptionSubmitOpenValue+'" />'),""!=jQ("#"+this.selector.filterOptionOpenValue).val()&&jQ("#"+this.selector.filterOptionOpenValue).val()!=jQ("#"+this.selector.filterOptionSubmitOpenValue).val()){var e=jQ("#"+this.selector.filterOptionOpenValue).val();jQ("#"+e).stop().toggle(),1==jQ("#"+e).siblings().children().hasClass("selected")?jQ("#"+e).siblings().children().removeClass("selected"):jQ("#"+e).siblings().children().addClass("selected");var t=jQ("#"+e).parent().data("block-id");this.setOpenPositionFilterOptionContent(t)}},BCSfFilter.prototype.addFilterTreeItem=function(e,t,i,n){if(n!=this.selector.filterTree&&n!=this.selector.filterTreeHorizontal&&jQ(n).html(""),void 0===n)var n="vertical"==i?this.selector.filterTree:this.selector.filterTreeHorizontal;void 0!==t&&"before"==t?jQ(n).prepend(e):jQ(n).append(e)},BCSfFilter.prototype.buildFilterTreeClass=function(e,t){var i=this["class"];if(void 0!==t){if(i.hasOwnProperty(t)){var n=new RegExp("{{class."+t+"}}","g");e=e.replace(n,i[t])}}else for(var r in i){var n=new RegExp("{{class."+r+"}}","g");e=e.replace(n,i[r])}return e},BCSfFilter.prototype.buildFilterOption=function(e,t,i){var n=t.label,r=this["class"].filterOption+"-"+this.slugify(n),o="vertical"==i?this.getTemplate("filterOptionWrapper"):this.getTemplate("filterOptionHorizontalWrapper");o=o.replace(/{{blockTitle}}/g,n),o=o.replace(/{{blockTitleId}}/g,this["class"].filterBlockTitle+"-"+this.slugify(n)),o=o.replace(/{{blockTypeClass}}/g,this["class"].filterOption+"-"+t.displayType),o=o.replace(/{{blockId}}/g,r),o=o.replace(/{{blockContent}}/g,e),o=o.replace(/{{blockContentId}}/g,this["class"].filterBlockContent+"-"+this.slugify(n)),o=o.replace(/{{btnApply}}/g,"collection"==t.filterType||"review_ratings"==t.filterType?"":'<button class="'+this["class"].selectFilterOptionButton+'" data-id="'+r+'">'+this.getSettingValue("label.apply")+"</button>"),o=o.replace(/{{tooltip}}/g,this.buildFilterOptionTooltip(t));var a="",s="vertical"==i?this.getSettingValue("label.clear"):this.getSettingValue("label.clearAll");if(this.queryParams.hasOwnProperty(t.filterOptionId)&&this.queryParams[t.filterOptionId]&&(a='<a href="javascript:;" class="'+this["class"].clearButton+'" onClick="clearFilterOption(event, this, \''+t.filterOptionId+"')\">"+s+"</a>"),o=o.replace(/{{clearButton}}/g,a),""!==(o=this.buildFilterTreeClass(o))){var l=jQ(o);l.attr({"data-id":t.filterOptionId,"data-type":t.filterType,"data-display-type":t.displayType,"data-select-type":t.selectType,"data-title":n,"data-prefix":t.prefix});var c=!!t.hasOwnProperty("isCollapseMobile")&&t.isCollapseMobile;this.getSettingValue("general.collapseOnMobileByDefault")&&(c=!0),l.attr("data-collapse-mobile",c);var u=null;["list","box","swatch"].indexOf(t.displayType)>-1&&(u="scrollbar"),t.hasOwnProperty("showMoreType")&&t.showMoreType&&(u=t.showMoreType),""!=this.getSettingValue("general.showMoreType")&&["list"].indexOf(t.displayType)>-1&&(u=this.getSettingValue("general.showMoreType")),u&&l.attr({"data-show-more-type":u}),this.getSettingValue("general.requestInstantly")&&l.find("."+this["class"].selectFilterOptionButton).hide(),t.hasOwnProperty("useAndCondition")&&t.useAndCondition&&l.attr("data-and-condition",!0),this.addFilterTreeItem(jQ(l)[0].outerHTML,"after",i),this.checkShowFilterOption(t)||jQ("."+r).addClass(this["class"].filterOptionHidden)}},BCSfFilter.prototype.buildFilterOptionItem=function(e,t,i,n,r,o,a,s,l,c,u){var p=!!c.hasOwnProperty("keepValuesStatic")&&c.keepValuesStatic;if("review_ratings"==n&&"text"==this.getSettingValue("general.ratingSelectionStyle"))var d=this.getReviewRatingsLabel(l.from);else var d=this.customizeFilterOptionLabel(t,c.prefix,n);if(!0===p)var f=null;else var f=l.hasOwnProperty("doc_count")?l.doc_count:0;if(e=e.replace(/{{itemLabel}}/g,this.buildFilterOptionLabel(t,f,c)),e=e.replace(/{{itemLink}}/g,this.buildFilterOptionLink(r,i,n,a,s,p)),e=e.replace(/{{itemValue}}/g,encodeURIParamValue(i)),e=e.replace(/{{itemTitle}}/g,d),"vertical"==u||"both"==u)var h="onInteractWithFilterOptionValue(event, this, '"+n+"', '"+a+"', '"+s+"', '"+p+"')";else if(this.getSettingValue("general.requestInstantly")||"collection"==n)var h="onInteractWithFilterOptionValue(event, this, '"+n+"', '"+a+"', '"+s+"', '"+p+"')";else var h="onSelectFilterOptionItem(event, this)";e=e.replace(/{{itemFunc}}/g,h),e=this.checkFilterOptionSelected(r,i,n,a)?e.replace(/{{itemSelected}}/g,"selected"):e.replace(/{{itemSelected}}/g,"");var g=jQ(e);return g.children().attr({"data-id":r,"data-value":encodeURIParamValue(i),"data-parent-label":o,"data-title":d,"data-count":f}),this.getSettingValue("general.enableSeo")&&"collection"!=n&&g.children().attr("rel","nofollow"),"collection"==n&&g.children().attr("data-collection-scope",l.key),jQ(g)[0].outerHTML},BCSfFilter.prototype.buildFilterOptionSingleList=function(e){e.hasOwnProperty("values")&&("all"==e.valueType||this.getSettingValue("general.sortManualValues")||"all"!=e.valueType&&e.sortManualValues)&&(e.values=this.sortFilterOptionValue(e));var t="",i=e.filterType,n=e.displayType,r=e.selectType,o=e.filterOptionId,a=e.label;if("collection"==e.filterType&&e.activeCollectionAll&&-1==this.findIndexArray("all",e.values,"handle")){var s={doc_count:null,handle:"all",key:0,label:this.getSettingValue("label.collectionAll"),tags:null};e.values.unshift(s)}for(var l in e.values)t+=this.buildFilterOptionSingleListData(i,o,a,n,r,e.values[l],e,"both");if(""!=t){var c=this.getTemplate("filterOptionSingleList");c=c.replace(/{{itemList}}/g,t),this.buildFilterOption(c,e,"vertical"),this.buildFilterOption(c,e)}},BCSfFilter.prototype.buildFilterOptionSingleListData=function(e,t,i,n,r,o,a,s){if(this.checkShowFilterOptionItem(o,a)){var l=(!!a.hasOwnProperty("keepValuesStatic")&&a.keepValuesStatic,o.key),c=o.key;"collection"==e&&(l=o.label,c=o.handle+":"+o.key);var u=this.getTemplate("filterOptionSingleListItem");return u=this.buildFilterOptionItem(u,l,c,e,t,i,n,r,o,a,s)}return""},BCSfFilter.prototype.buildFilterOptionMultipleList=function(e){e.hasOwnProperty("values")&&("all"==e.valueType||this.getSettingValue("general.sortManualValues")||"all"!=e.valueType&&e.sortManualValues)&&(e.values=this.sortFilterOptionValue(e)),"percent_sale"==e.filterType&&e.values.reverse();var t=horizontalContent="",i=e.filterType,n=e.filterOptionId,r=e.label,o=e.displayType,a=e.selectType;for(var s in e.values)t+=this.buildFilterOptionMultipleListData(i,n,r,o,a,e.values[s],e,"vertical"),horizontalContent+=this.buildFilterOptionMultipleListData(i,n,r,o,a,e.values[s],e,"horizontal");if(""!=t&&""!=horizontalContent){var l=this.getTemplate("filterOptionMultipleList"),c=l.replace(/{{itemList}}/g,t),u=l.replace(/{{itemList}}/g,horizontalContent);this.buildFilterOption(c,e,"vertical"),this.buildFilterOption(u,e)}},BCSfFilter.prototype.buildFilterOptionMultipleListData=function(e,t,i,n,r,o,a,s){if(this.checkShowFilterOptionItem(o,a)){var l=o.key,c=o.key;"price"==e||"percent_sale"==e?(c=c.replace(/\*/g,"").replace(/\-/g,":"),r="multiple"):"stock"==e&&(l=o.label,c="in-stock"==o.key);var u=this.getTemplate("filterOptionMultipleListItem");return u=this.buildFilterOptionItem(u,l,c,e,t,i,n,r,o,a,s)}return""},BCSfFilter.prototype.buildFilterOptionBox=function(e){e.hasOwnProperty("values")&&("all"==e.valueType||this.getSettingValue("general.sortManualValues")||"all"!=e.valueType&&e.sortManualValues)&&(e.values=this.sortFilterOptionValue(e));var t=horizontalContent="",i=e.filterType,n=e.displayType,r=e.selectType,o=e.filterOptionId,a=e.label;for(var s in e.values)t+=this.buildFilterOptionBoxData(i,o,a,n,r,e.values[s],e,"vertical"),horizontalContent+=this.buildFilterOptionBoxData(i,o,a,n,r,e.values[s],e,"horizontal");if(""!=t&&""!=horizontalContent){var l=this.getTemplate("filterOptionBox"),c=l.replace(/{{itemList}}/g,t),u=l.replace(/{{itemList}}/g,horizontalContent);this.buildFilterOption(c,e,"vertical"),this.buildFilterOption(u,e)}},BCSfFilter.prototype.buildFilterOptionBoxData=function(e,t,i,n,r,o,a,s){if(this.checkShowFilterOptionItem(o,a)){var l=o.key,c=o.key,u=this.getTemplate("filterOptionBoxItem");return u=this.buildFilterOptionItem(u,l,c,e,t,i,n,r,o,a,s)}return""},BCSfFilter.prototype.buildFilterOptionBoxStyle=function(e){if(!0===this.getSettingValue("general.enableFilterOptionBoxStyle")){var t=void 0!==e?e.find(".bc-sf-filter-option-box"):jQ(this.selector.filterTree).find(".bc-sf-filter-option-box");if(t.length){var i,n=t.length;for(i=0;i<n;i++)if(t.eq(i).children("li").length>1){var r,o=t.eq(i),a=0,s=o.children("li").length;for(r=0;r<s;r++)a=Math.round(Math.max(a,o.children("li").eq(r).find(".bc-sf-filter-option-value").outerWidth(!0)));if(0!==a){var l=Math.floor(t.width()/(a+8)),c=100/l-2;o.children("li").css({width:c-2+"%"})}}}}},BCSfFilter.prototype.buildFilterOptionSwatch=function(e){e.hasOwnProperty("values")&&("all"==e.valueType||this.getSettingValue("general.sortManualValues")||"all"!=e.valueType&&e.sortManualValues)&&(e.values=this.sortFilterOptionValue(e));var t=horizontalContent="",i=e.filterType,n=e.displayType,r=e.selectType,o=e.filterOptionId,a=e.label;for(var s in e.values)t+=this.buildFilterOptionSwatchData(i,o,a,n,r,e.values[s],e,"vertical"),horizontalContent+=this.buildFilterOptionSwatchData(i,o,a,n,r,e.values[s],e,"horizontal");if(""!=t&&""!=horizontalContent){var l=this.getTemplate("filterOptionSwatch"),c=l.replace(/{{itemList}}/g,t).replace(/{{swatchStyle}}/g,this.buildSwatchStyle(e,"vertical")),u=l.replace(/{{itemList}}/g,horizontalContent).replace(/{{swatchStyle}}/g,this.buildSwatchStyle(e,"horizontal"));this.buildFilterOption(c,e,"vertical"),this.buildFilterOption(u,e)}},BCSfFilter.prototype.buildFilterOptionSwatchData=function(e,t,i,n,r,o,a,s){if(this.checkShowFilterOptionItem(o,a)){var l=o.key,c=o.key,u=l;"collection"==e&&(c=o.label,l=o.handle,u=c);var p=this.getSettingValue("general.colorOptionsArr"),d=t.replace("pf_t_","").replace("pf_opt_","");if(""!=p&&void 0!==p.filter(function(e){return t.indexOf(e)>-1})[0]&&(d="color"),this.getSettingValue("general.removePrefixFromSwatchFile")&&a.prefix){var f=a.prefix.replace(/\\/g,"");u=u.replace(f,"")}u=this.slugify(u);var h=this.getTemplate("filterOptionSwatchItem");h=this.buildFilterOptionItem(h,c,l,e,t,i,n,r,o,a,s);var g=getFilePath(d+"-"+u,this.swatchExtension,this.getSettingValue("general.swatchImageVersion"));h=h.replace(/{{itemImageValue}}/g,g);var m=a.hasOwnProperty("borderSwatch")&&""!=a.borderSwatch?a.borderSwatch:"none";return h=h.replace(/{{itemBorder}}/g,m)}return""},BCSfFilter.prototype.buildSwatchStyle=function(e){if(""!=this.getSettingValue("general.swatchStyle"))return this.getSettingValue("general.swatchStyle");var t="circle-list";return this.checkIsFullWidthMobile()&&(t="circle-list"),e.hasOwnProperty("swatchStyle")&&(t=e.swatchStyle),t},BCSfFilter.prototype.buildFilterOptionRange=function(e){e.hasOwnProperty("values")&&null!==e.values&&2==Object.keys(e.values).length?e.filterType.indexOf("price")>-1?this.buildFilterOptionPriceRange(e):this.buildFilterOptionCustomRange(e):this.buildFilterOptionAdvancedRange(e)},BCSfFilter.prototype.buildFilterOptionPriceRange=function(e){if(e&&e.hasOwnProperty("values")&&2==Object.keys(e.values).length){var t=(e.filterType,e.displayType,e.selectType,e.filterOptionId),i=e.label,n=e.values;if(n.hasOwnProperty("min")&&n.hasOwnProperty("max")&&null!==n.min&&null!==n.max){var r=parseFloat(n.min),o=parseFloat(n.max);if(this.getSettingValue("general.roundPriceSlider")&&(r=Math.floor(r),o=Math.ceil(o,100)),e.hasOwnProperty("sliderStep")&&null!==e.sliderStep&&parseInt(e.sliderStep),this.checkShowFilterOptionRange(r,o,e)){var a=this["class"].filterOptionRange,s=a+"-slider-"+t+"-v",l=a+"-amount-"+t+"-v",c=a+"-slider-"+t+"-h",u=a+"-amount-"+t+"-h",p=r,d=o;if(this.queryParams.hasOwnProperty(t)){var f=this.queryParams[t][0].split(":");f&&2==f.length&&(p=f[0],d=f[1])}var h="style2"==this.getSettingValue("general.rangeStyle")?this.getTemplate("filterOptionRange2"):this.getTemplate("filterOptionRange"),g=this.getTemplate("filterOptionRangeLabel").replace("{{minValue}}",this.formatMoney(100*p)).replace("{{maxValue}}",this.formatMoney(100*d)),m=p+":"+d,v=p!=r||d!=o?"selected":"";h=h.replace(/{{itemLabel}}/g,g).replace(/{{itemParentId}}/g,t).replace(/{{itemValue}}/g,m).replace(/{{itemParentLabel}}/g,i).replace(/{{itemSelected}}/g,v);var b=h.replace(/{{rangeAmountId}}/g,l).replace(/{{rangeSliderId}}/g,s),y=h.replace(/{{rangeAmountId}}/g,u).replace(/{{rangeSliderId}}/g,c),S=jQ(b),w=jQ(y),C='<input type="hidden" class="'+a+"-"+t+'-set" />';S.append(C),w.append(C),this.buildFilterOption(jQ(S)[0].outerHTML,e,"vertical"),this.buildFilterOption(jQ(w)[0].outerHTML,e),this.buildFilterOptionPriceRangeSlider(s,l,p,d,r,o,e),this.buildFilterOptionPriceRangeSlider(c,u,p,d,r,o,e)}}}},BCSfFilter.prototype.buildFilterOptionPriceRangeSlider=function(e,t,i,n,r,o,a){var s=this,l=document.getElementById(e),c=a.hasOwnProperty("sliderRange")&&null!==a.sliderRange?parseInt(a.sliderRange):4,u=a.hasOwnProperty("sliderStep")&&null!==a.sliderStep?parseInt(a.sliderStep):1,p=a.hasOwnProperty("sliderDelimiter")&&null!==a.sliderDelimiter?a.sliderDelimiter:"",d=this["class"].filterOptionRange;if(c>0)if(o-r<u&&this.getSettingValue("general.oneValueRangeSlider"))r-=1e-4,o+=1e-4,noUiSlider.create(l,{start:[i,n],connect:!0,behaviour:"tap",animate:!0,animationDuration:300,step:u,range:{min:r,max:o}}),jQ(l).attr("disabled"," disabled");else{for(var f=[],h=0;h<c;h++)f.push(h*(100/c));f.push(100),noUiSlider.create(l,{start:[i,n],connect:!0,behaviour:"tap",animate:!0,animationDuration:300,step:u,range:{min:r,max:o},pips:{mode:"positions",values:f,density:c,format:wNumb({decimals:s.getSettingValue("general.decimalPriceRange"),thousand:p})}}),this.getSettingValue("general.enableSliderRuler")||jQ("#"+e).addClass("no-ruler"),jQ("#"+e).addClass("has-pips"),l.noUiSlider.on("update",function(){var t=jQ("#"+e+" .noUi-pips").find(".noUi-marker").last();t.hasClass("noUi-marker-normal")&&(t.removeClass("noUi-marker-normal"),t.addClass("noUi-marker-large"),t.after('<div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 100.00000%">'+Math.ceil(o)+"</div>"))})}else noUiSlider.create(l,{start:[i,n],connect:!0,behaviour:"tap",animate:!0,animationDuration:300,step:u,range:{min:r,max:o}});if(this.slidePriceEvent(e,t,r,o,a),"style1"==this.getSettingValue("general.rangeStyle")){var g=d+"-amount-min",m=d+"-amount-max",v=this.formatMoney(100*i),b=this.formatMoney(100*n);v=this.removeCurrencySymbol(v),b=this.removeCurrencySymbol(b),this.getSettingValue("general.removePriceDecimal")&&(v=this.removeDecimal(v),b=this.removeDecimal(b)),jQ("#"+t).find("."+g).val(v),jQ("#"+t).find("."+m).val(b),jQ("#"+t).on("change","."+g,function(){var e=jQ(this).val(),i=jQ("#"+t+" ."+m).val();l.noUiSlider.set([e,i])}),jQ("#"+t).on("change","."+m,function(){var e=jQ(this).val(),i=jQ("#"+t+" ."+g).val();l.noUiSlider.set([i,e])})}this.setRangeValueEvent(e,r,o,a)},BCSfFilter.prototype.slidePriceEvent=function(e,t){var i=this,n=document.getElementById(e),r=this["class"].filterOptionRange;n.noUiSlider.on("slide",function(e){if("style2"==i.getSettingValue("general.rangeStyle"))jQ("#"+t).html(i.formatMoney(e[0])+" - "+i.formatMoney(e[1]));else{var n=i.formatMoney(e[0]),o=i.formatMoney(e[1]);n=i.removeCurrencySymbol(n),o=i.removeCurrencySymbol(o),i.getSettingValue("general.removePriceDecimal")&&(n=i.removeDecimal(n),o=i.removeDecimal(o)),jQ("#"+t).find("."+r+"-amount-min").val(n),jQ("#"+t).find("."+r+"-amount-max").val(o)}})},BCSfFilter.prototype.buildFilterOptionCustomRange=function(e){if(e&&e.hasOwnProperty("values")&&2==Object.keys(e.values).length){var t=(e.filterType,e.displayType,e.selectType,e.filterOptionId),i=e.label,n=e.values;if(n.hasOwnProperty("min")&&n.hasOwnProperty("max")&&null!==n.min&&null!==n.max){var r=parseFloat(n.min),o=parseFloat(n.max);if(getNumberDecimals(r)>2&&(r=parseFloat(r.toFixed(2))),getNumberDecimals(o)>2&&(o=parseFloat(o.toFixed(2))),e.hasOwnProperty("sliderStep")&&null!==e.sliderStep&&parseInt(e.sliderStep),this.checkShowFilterOptionRange(r,o,e)){var a=this["class"].filterOptionRange,s=a+"-slider-"+t+"-v",l=a+"-amount-"+t+"-v",c=a+"-slider-"+t+"-h",u=a+"-amount-"+t+"-h",p=r,d=o;if(this.queryParams.hasOwnProperty(t)){var f=this.queryParams[t][0].split(":");f&&2==f.length&&(p=f[0],d=f[1])}var h=this.getTemplate("filterOptionRange"),g=this.getTemplate("filterOptionRangeLabel").replace("{{minValue}}",p).replace("{{maxValue}}",d),m=p+":"+d,v=p!=r||d!=o?"selected":"",b=h.replace(/{{itemLabel}}/g,g).replace(/{{itemParentId}}/g,t).replace(/{{itemValue}}/g,m).replace(/{{itemParentLabel}}/g,i).replace(/{{itemSelected}}/g,v);b=b.replace(/{{rangeAmountId}}/g,l).replace(/{{rangeSliderId}}/g,s);var y=h.replace(/{{itemLabel}}/g,g).replace(/{{itemParentId}}/g,t).replace(/{{itemValue}}/g,m).replace(/{{itemParentLabel}}/g,i).replace(/{{itemSelected}}/g,v);y=y.replace(/{{rangeAmountId}}/g,u).replace(/{{rangeSliderId}}/g,c);var S=jQ(b),w=jQ(y);this.buildFilterOption(jQ(S)[0].outerHTML,e,"vertical"),this.buildFilterOption(jQ(w)[0].outerHTML,e),this.buildFilterOptionCustomRangeSlider(s,l,p,d,r,o,e),this.buildFilterOptionCustomRangeSlider(c,u,p,d,r,o,e)}}}},BCSfFilter.prototype.buildFilterOptionCustomRangeSlider=function(e,t,i,n,r,o,a){var s=(a.filterOptionId,document.getElementById(e)),l=a.hasOwnProperty("sliderRange")&&null!==a.sliderRange?parseInt(a.sliderRange):4,c=a.hasOwnProperty("sliderStep")&&null!==a.sliderStep?parseFloat(a.sliderStep):1,u=a.hasOwnProperty("sliderDelimiter")&&null!==a.sliderDelimiter?a.sliderDelimiter:"",p=0;c<=.1&&(p=1),c<=.01&&(p=2),c<=.001&&(p=3);var d=this["class"].filterOptionRange;if((o-r<c||null==r||null==o)&&this.getSettingValue("general.oneValueRangeSlider"))r-=1e-4,o+=1e-4,noUiSlider.create(s,{start:[i,n],connect:!0,behaviour:"tap",animate:!0,animationDuration:300,step:c,range:{min:r,max:o}}),jQ(s).attr("disabled"," disabled");else{if(l>0){for(var f=[],h=0;h<l;h++)f.push(h*(100/l));f.push(100),noUiSlider.create(s,{start:[i,n],connect:!0,behaviour:"tap",animate:!0,animationDuration:300,step:c,range:{min:r,max:o},pips:{mode:"positions",values:f,density:l,format:wNumb({decimals:p,thousand:u})}}),this.getSettingValue("general.enableSliderRuler")||jQ("#"+e).addClass("no-ruler"),jQ("#"+e).addClass("has-pips"),s.noUiSlider.on("update",function(){var t=jQ("#"+e+" .noUi-pips").find(".noUi-marker").last();t.hasClass("noUi-marker-normal")&&(t.removeClass("noUi-marker-normal"),t.addClass("noUi-marker-large"),t.after('<div class="noUi-value noUi-value-horizontal noUi-value-large" style="left: 100.00000%">'+Math.ceil(o)+"</div>"))})}else noUiSlider.create(s,{start:[i,n],connect:!0,behaviour:"tap",animate:!0,animationDuration:300,step:c,range:{min:r,max:o}});if(this.slideCustomEvent(e,r,o,a),"style1"==this.getSettingValue("general.rangeStyle")){var g=d+"-amount-min",m=d+"-amount-max",v=i,b=n;jQ("#"+t).find("."+g).val(v),jQ("#"+t).find("."+m).val(b),jQ("#"+t).on("change","."+g,function(){var e=jQ(this).val(),i=jQ("#"+t+" ."+m).val();s.noUiSlider.set([e,i])}),jQ("#"+t).on("change","."+m,function(){var e=jQ(this).val(),i=jQ("#"+t+" ."+g).val();s.noUiSlider.set([i,e])})}this.setRangeValueEvent(e,r,o,a)}},BCSfFilter.prototype.slideCustomEvent=function(e,t){var i=document.getElementById(e),n=this["class"].filterOptionRange;i.noUiSlider.on("slide",function(e){jQ("#"+t).find("."+n+"-amount-min").val(parseFloat(e[0])),jQ("#"+t).find("."+n+"-amount-max").val(parseFloat(e[1]))})},BCSfFilter.prototype.setRangeValueEvent=function(e,t,i,n){var r=this;document.getElementById(e).noUiSlider.on("set",function(o){if(o[0]==t&&o[1]==i?(jQ("#"+e).removeClass("selected"),jQ("#"+e).attr("data-value","")):(jQ("#"+e).addClass("selected"),jQ("#"+e).attr("data-value",encodeURIParamValue(parseFloat(o[0])+":"+parseFloat(o[1])))),r.isMobile()&&"style2"==r.mobileStyle)r.buildFilterSelectionMobile();else if(r.getSettingValue("general.requestInstantly")||e.indexOf("-v")>-1){var a="undefined"!=typeof event?event:new Event("build");onInteractWithFilterOptionValue(a,jQ(this.target),n.filterType,n.displayType,n.selectType)}else r.selectFilter=!0})},BCSfFilter.prototype.buildFilterOptionAdvancedRange=function(){},BCSfFilter.prototype.buildFilterOptionAdvancedRangeSlider=function(){},BCSfFilter.prototype.buildFilterOptionRating=function(e){var t="",i=e.filterType,n=e.displayType,r=e.selectType,o=e.filterOptionId,a=e.label;e.values.reverse();for(var s in e.values)s>0&&(t+=this.buildFilterOptionRatingData(i,o,a,n,r,e.values[s],e,"both"));if(""!=t){var l=this.getTemplate("filterOptionRating");l=l.replace(/{{itemList}}/g,t),this.buildFilterOption(l,e,"vertical"),this.buildFilterOption(l,e)}},BCSfFilter.prototype.buildFilterOptionRatingData=function(e,t,i,n,r,o,a,s){if(this.checkShowFilterOptionItem(o,a)){var l=parseInt(o.key.replace("-*","")),c=this.buildRatingStars(o.from),u=this.getTemplate("filterOptionRatingStar").replace(/{{itemStars}}/g,c).replace(/{{label.ratingUp}}/g,this.getSettingValue("label.ratingUp")),p=this.getTemplate("filterOptionRatingItem");return p=this.buildFilterOptionItem(p,u,l,e,t,i,n,r,o,a,s)}return""},BCSfFilter.prototype.buildRatingStars=function(e){for(var t="",i=1;i<=5;i++)t+=i<=e?this.getTemplate("filterOptionRatingIconStarActive"):this.getTemplate("filterOptionRatingIconStar");return t},BCSfFilter.prototype.buildFilterViewMore=function(){},BCSfFilter.prototype.collapseFilterOption=function(){var e=this;if(this.isMobile()){0==jQ(".bc-sf-filter-option-open-list").length&&jQ("body").append('<input type="hidden" class="bc-sf-filter-option-open-list" />'),0==jQ(".bc-sf-filter-option-close-list").length&&jQ("body").append('<input type="hidden" class="bc-sf-filter-option-close-list" />');var t=""!=jQ(".bc-sf-filter-option-open-list").val()?jQ(".bc-sf-filter-option-open-list").val().split(","):[],i=""!=jQ(".bc-sf-filter-option-close-list").val()?jQ(".bc-sf-filter-option-close-list").val().split(","):[];0==t.length&&0==i.length&&jQ("."+this["class"].filterOption).each(function(){var n="true"==jQ(this).attr("data-collapse-mobile"),r=jQ(this).closest("."+e["class"].filterOption).attr("data-id");n?-1==i.indexOf(r)&&(i.push(r),t.length>0&&t.indexOf(r)>-1&&t.splice(t.indexOf(r),1)):-1==t.indexOf(r)&&(t.push(r),i.length>0&&i.indexOf(r)>-1&&i.splice(i.indexOf(r),1))}),jQ(".bc-sf-filter-option-open-list").val(t.join(",")),jQ(".bc-sf-filter-option-close-list").val(i.join(",")),jQ("."+this["class"].filterOption).each(function(){var n=jQ(this).closest("."+e["class"].filterOption).attr("data-id");i.indexOf(n)>-1?(jQ(this).find("."+e["class"].filterBlockTitle+" h3 span").addClass("up"),jQ(this).find("."+e["class"].filterBlockContent).hide()):t.indexOf(n)>-1&&(jQ(this).find("."+e["class"].filterBlockTitle+" h3 span").removeClass("up"),jQ(this).find("."+e["class"].filterBlockContent).show())})}},BCSfFilter.prototype.checkShowFilterOption=function(e){if("disabled"==e.status||e.hasOwnProperty("values")&&0==e.values.length)return!1;if("percent_sale"==e.filterType&&void 0!==e.values.filter(function(e){return"*-100"==e.key&&e.doc_count>0})[0])return!0;if(!0===e.keepValuesStatic)return!0;if(!this.getSettingValue("general.showOutOfStockOption")&&!0===this.getSettingValue("general.showSingleOption")&&"range"!=e.displayType){if(e.hasOwnProperty("values")&&e.values.length>1){var t=0;for(var i in e.values)if(e.values[i].doc_count>0&&t++,t>1)return!0}return!1}return!0},BCSfFilter.prototype.checkShowFilterOptionItem=function(e,t){return!(null===e||!e.hasOwnProperty("key")||!(e.hasOwnProperty("doc_count")&&(e.doc_count>0||null===e.doc_count)||t.hasOwnProperty("keepValuesStatic")&&t.keepValuesStatic||this.getSettingValue("general.showOutOfStockOption")))},BCSfFilter.prototype.checkShowFilterOptionRange=function(e,t,i){var n=i.hasOwnProperty("sliderStep")&&null!==i.sliderStep?parseInt(i.sliderStep):1;return!!(!this.getSettingValue("general.oneValueRangeSlider")&&t-e>n||this.getSettingValue("general.oneValueRangeSlider"))},BCSfFilter.prototype.buildFilterSelection=function(e){var t=this.buildFilterSelectionData(e),i=t[0],n=t[1],r=this.buildClearAllButton();if(""!=i){var o=this.getTemplate("filterRefineWrapper");o=o.replace(/{{label}}/g,this.getSettingValue("label.refine")),o=o.replace(/{{selectedItems}}/g,i),o=this.buildFilterTreeClass(o),this.addFilterTreeItem(o,"before","vertical"),jQ(this.selector.filterTree).find("."+this["class"].filterRefineWrapper+" ."+this["class"].filterBlockTitle).append(r)}var a=this.getSettingValue("general.selectionHorizontalPlace");if("#bc-sf-filter-tree-h"!=a&&jQ(a).empty(),""!=n){var s=this.getTemplate("filterRefineHorizontalWrapper");s=s.replace(/{{label}}/g,this.getSettingValue("label.refine")),s=s.replace(/{{selectedItems}}/g,n),s=this.buildFilterTreeClass(s),"top"==this.getSettingValue("general.refineByHorizontalPosition")?this.addFilterTreeItem(s,"before","horizontal",a):this.addFilterTreeItem(s,"after","horizontal",a),jQ(".bc-sf-filter-pc."+this["class"].filterRefineWrapper).append(r)}},BCSfFilter.prototype.buildFilterSelectionData=function(e){function t(e,t,i,n){return e=e.replace(/{{itemType}}/g,t),e=e.replace(/{{itemLabel}}/g,i),e=e.replace(/{{itemLink}}/g,n)}var i=this,n=horizontalContent="",r=this.getTemplate("filterRefineItem"),o=this.getTemplate("filterRefineHorizontalItem"),a=e.filter.options,s=window.location.search;if(""!=s){for(var l=s.split("&"),c=[],u=0;u<l.length;u++){var p=l[u];if(-1==p.indexOf("_=pf")){c.push(p);var d=p.split("=")[0],f=a.filter(function(e){return e.filterOptionId==d})[0];if(void 0!==f){var h=decodeURIComponent(p.split("=")[1]),g=h,m=i.buildClearFilterOptionLink(d,b,h),v=f.prefix;void 0!==v&&null!==v&&!1!==v&&(v=v.replace(/\\/g,""),h=h.replace(v,"").trim());var b=f.label,y=f.filterType,S=f.displayType;if(g=this.customizeFilterOptionLabel(g,v,y),""!=h)if("range"==S){var w=h.split(":");if("price"==y){var C=i.formatMoney(100*w[0]),x=i.formatMoney(100*w[1]);i.getSettingValue("general.removePriceDecimal")&&(C=i.removeDecimal(C),x=i.removeDecimal(x)),g=C+" - "+x}else g=w[0]+" - "+w[1]}else switch(y){case"price":g=i.getPriceLabel(h);break;case"percent_sale":g=i.getPercentSaleLabel(h);break;case"stock":g="true"===h?f.values[0].label:f.values[1].label;break;case"review_ratings":g=i.getReviewRatingsLabel(h)}n+=t(r,b,g,m),horizontalContent+=t(o,b,g,m)}}}0==jQ("#bc-sf-filter-params").length?jQ("body").append('<input type="hidden" id="bc-sf-filter-params" value="'+c.join("|")+'" />'):jQ("#bc-sf-filter-params").attr("value",c.join("|"))}return[n,horizontalContent]},BCSfFilter.prototype.checkFilterOptionSelected=function(e,t,i){if("collection"==i&&(t=t.split(":")[0]),"collection"!=i||this.isSearchPage()){if("stock"==i){if(this.queryParams.hasOwnProperty(e)){var n=this.queryParams[e];if(n.indexOf(t.toString())>-1)return!0}}else if(this.queryParams.hasOwnProperty(e)){var n=this.queryParams[e];if(Array.isArray(n)){for(var r=0;r<n.length;r++)if(n[r]==t)return!0}else if(n==t)return!0}}else if(decodeURIComponent(window.location.pathname).split("/").slice(2).join("/")==t)return!0;return!1},BCSfFilter.prototype.buildClearAllButton=function(){var e=this.getTemplate("clearAllButton");return e=e.replace(/{{label.clearAll}}/g,this.getSettingValue("label.clearAll")),e=this.buildFilterTreeClass(e,"clearAllButton")},BCSfFilter.prototype.onChangeData=function(e,t,i){this.updateApiParams(e),this.getFilterData(t),this.changeAddressBar(e,t,i)},BCSfFilter.prototype.buildAdditionalFilterEvent=function(){this.buildApplyEvent(),this.buildTitleClickEvent(),this.buildMouseUpEvent(),this.buildToggleEvent(),this.buildClearEvent(),this.buildTooltipEvent()},BCSfFilter.prototype.buildMouseUpEvent=function(e){var t=this;jQ(document).mouseup(function(i){var n=jQ(t.selector.filterTreeHorizontal).find("."+t["class"].filterBlockContent);n.is(i.target)||0!==n.has(i.target).length||t.buildSubmitEvent(e,!0,i)})},BCSfFilter.prototype.buildApplyEvent=function(e){var t=this;jQ("."+this["class"].selectFilterOptionButton).click(function(i){t.buildSubmitEvent(e,!0,i)})},BCSfFilter.prototype.buildSubmitEvent=function(e,t,i){var n=jQ(this.selector.filterTreeHorizontal).find("."+this["class"].filterBlockContent).filter(function(){return"block"==jQ(this).css("display")}).eq(0),r=jQ(n[0]).parent();jQ("#"+this.selector.filterOptionOpenValue).val(jQ(n[0]).attr("id"));var o=r.data("type"),a=r.data("display-type"),s=r.data("select-type"),l=r.attr("data-id"),c=[];r.find(".noUi-target").length>0&&r.find(".noUi-target").hasClass("selected")?c.push(r.find(".noUi-target").attr("data-value")):jQ(n).find("ul").children().each(function(){jQ(this).children().first().hasClass("selected")&&c.push(jQ(this).children().first().attr("data-value"))});var u=this.buildSubmitLink(l,c,o,a,s);!1!==u&&!0===this.selectFilter&&(jQ("#"+this.selector.filterOptionSubmitOpenValue).val(jQ(n[0]).attr("id")),this.internalClick=!0,this.onChangeData(u,o,c,l));var p=jQ(this.selector.filterTreeHorizontal).find("."+this["class"].filterBlockTitle);(!t||t&&!p.is(i.target)&&0===p.has(i.target).length)&&(jQ(this.selector.filterTreeHorizontal).find("."+this["class"].filterBlockContent).hide(),
jQ(this.selector.filterTreeHorizontal).find("."+this["class"].filterBlockTitle).children("a").removeClass("selected"))},BCSfFilter.prototype.buildTitleClickEvent=function(){var e=this;jQ(this.selector.filterTreeHorizontal).find("."+this["class"].filterBlockTitle+" a").on("click",function(t){t.stopPropagation(),jQ(e.selector.filterTreeHorizontal).find("."+e["class"].filterBlockContent).not(jQ(this).parent().siblings()[0]).hide(),jQ(e.selector.filterTreeHorizontal).find("."+e["class"].filterBlockTitle).not(jQ(this).parent()[0]).children("a").removeClass("selected"),1==jQ(this).hasClass("selected")?jQ(this).removeClass("selected"):jQ(this).addClass("selected"),jQ(this).parent().siblings().stop().toggle();var i=jQ(this).closest("."+e["class"].filterOption).data("block-id");e.setOpenPositionFilterOptionContent(i),"collection"!=jQ(this).closest("."+e["class"].filterOption).attr("data-type")&&(jQ(this).hasClass("selected")?jQ("#"+e.selector.filterOptionOpenValue).val(jQ(this).parent().siblings().attr("id")):jQ("#"+e.selector.filterOptionOpenValue).val(null))})},BCSfFilter.prototype.setOpenPositionFilterOptionContent=function(e){if(void 0!==e){var t=jQ(this.selector.filterTreeHorizontal).find("."+e),i=jQ(this.selector.filterTreeHorizontal).offset().top,n=t.offset().top+t.outerHeight(!0),r=n-i-5;t.children("."+this["class"].filterBlockContent).css("top",r+"px"),this.buildFilterShowMore()}},BCSfFilter.prototype.buildToggleEvent=function(){var e=this,t=this["class"].filterOptionOpenList,i=this["class"].filterOptionCloseList,n=this["class"].filterOption,r=jQ("."+t).length>0?jQ("."+t).val().split(","):[],o=jQ("."+i).length>0?jQ("."+i).val().split(","):[];jQ(this.selector.filterTree+" ."+this["class"].filterBlockTitle+" h3").on("click",function(a){a.preventDefault();var s=jQ(this).closest("."+n).attr("data-id");jQ(this).children().hasClass("up")?(e.getSettingValue("general.keepToggleState")&&(r.push(s),o.length>0&&o.indexOf(s)>-1&&o.splice(o.indexOf(s),1)),jQ(this).children().removeClass("up"),jQ(this).parent().siblings().slideDown(function(){"range"!=jQ(this).parent().attr("data-display-type")&&(e.buildFilterOptionBoxStyle(jQ(this)),e.buildFilterScrollbar(this))})):(e.getSettingValue("general.keepToggleState")&&(o.push(s),r.length>0&&r.indexOf(s)>-1&&r.splice(o.indexOf(s),1)),jQ(this).children().addClass("up"),jQ(this).parent().siblings().slideUp()),jQ("."+t).val(r.join(",")),jQ("."+i).val(o.join(","))})},BCSfFilter.prototype.buildClearEvent=function(){var e=this;jQ("."+this["class"].filterSelectedItems+" a").click(function(t){jQ("#"+e.selector.filterOptionOpenValue).val(null),t.preventDefault(),e.internalClick=!0;var i=jQ(this).attr("href");e.onChangeData(i,"clearFilterOptionItem")})},BCSfFilter.prototype.buildFilterOptionLink=function(e,t,i,n,r,o){var a="";if(""!=(a=this.buildFilterOptionCustomLink(e,t,i,n,r,o)))return a;if("collection"==i){var s=t.split(":"),l=s[1];t=s[0]}if("collection"!=i||this.isSearchPage())if(""!==t&&null!==t){var c="&"+e+"="+encodeURIParamValue(t);if("range"!=n&&"single"!=r||!this.queryParams.hasOwnProperty(e)){var u=window.location.href+"&";if(u.indexOf(c+"&")>-1)a=u.replace(c+"&","&"),"&"==a[a.length-1]&&(a=a.slice(0,-1));else{var a=window.location.href;0===window.location.search.length?a+="?_="+this.prefix:(a=window.location.href,this.queryParams.hasOwnProperty("_")||(a+="&_="+this.prefix)),a+=c}}else{var p="&"+e+"="+encodeURIParamValue(this.queryParams[e][0]);a=window.location.href.replace(p,c)}}else a=window.location.href.replace("&"+e+"="+encodeURIParamValue(this.queryParams[e]),"");else{var o=void 0!==o?o:null,d=window.location.pathname;if("/"==d.slice(-1)&&(d=d.substring(0,d.length-1)),"pf_cs_collection"==e)a=window.location.href.indexOf(t)>-1?d.replace(t,"")+t.split("/")[0]:"/"+d.split("/")[1]+"/"+t;else if(""!=d){var f="",h=d.split("/");3==h.length?f=h.slice(0,-1).join("/")+"/"+t:h.length>3&&(f=h.slice(0,-2).join("/")+"/"+t),a=!0===o?window.location.href.split("?")[0]:window.location.href,a=a.replace(d,f)}}"collection"==i&&this.isSearchPage()&&(a=a.replace("&collection_scope="+this.queryParams.collection_scope,""),a+="&collection_scope="+l);var g="&"+e+"_and_condition=true";return-1==a.indexOf(g)?jQ('[data-id="'+e+'"]').attr("data-and-condition")&&(a+=g):-1==a.indexOf(e+"=")&&(a=a.replace(g,"")),a=removePageParamFromUrl(a),a=this.customizeFilterOptionLink(a,e,t,i,n,r,o)},BCSfFilter.prototype.buildSubmitLink=function(e,t,i,n,r){var o=newParamValue="";if(this.queryParams.hasOwnProperty(e))for(var a=0;a<this.queryParams[e].length;a++)o+="&"+e+"="+encodeURIParamValue(this.queryParams[e][a]);for(var s=0;s<t.length;s++)newParamValue+="&"+e+"="+t[s];if(o!=newParamValue){if(""!=o)var l=window.location.href.replace(o,newParamValue);else{var l=window.location.href;0===window.location.search.length?l+="?_="+this.prefix:(l=window.location.href,this.queryParams.hasOwnProperty("_")||(l+="&_="+this.prefix)),l+=newParamValue}var c="&"+e+"_and_condition=true";return-1==l.indexOf(c)?jQ('[data-id="'+e+'"]').attr("data-and-condition")&&(l+=c):-1==l.indexOf(e+"=")&&(l=l.replace(c,"")),l=removePageParamFromUrl(l),l=this.customizeSubmitLink(l,e,t,i,n,r)}return!1},BCSfFilter.prototype.buildFilterOptionCustomLink=function(){return""},BCSfFilter.prototype.customizeFilterOptionLink=function(e){return e},BCSfFilter.prototype.customizeSubmitLink=function(e){return e},BCSfFilter.prototype.buildClearFilterOptionLink=function(e,t,i){if(Array.isArray(i)){for(var n="",r=0;r<i.length;r++)n+="&"+e+"="+encodeURIParamValue(i[r]);var o=window.location.href.replace(n,"")}else var a=new RegExp("&"+e+"="+encodeURIParamValue(i).replace(/(?=[() ])/g,"\\")+"&","g"),o=(window.location.href+"&").replace(a,"&");return-1==o.indexOf(e+"=")&&o.indexOf(e+"_and_condition")>-1&&(o=o.replace("&"+e+"_and_condition=true","")),e.indexOf("pf_c_")>-1&&(o=removeCollectionScopeParamFromUrl(o)),"&"==o[o.length-1]&&(o=o.slice(0,-1)),o=removePageParamFromUrl(o)},BCSfFilter.prototype.getPriceLabel=function(e){if(0==e.indexOf(":"))return this.getSettingValue("label.under")+" "+this.formatMoney(100*parseFloat(e.substr(1)));if(e.indexOf(":")==e.length-1)return this.getSettingValue("label.above")+" "+this.formatMoney(100*parseFloat(e.slice(0,-1)));if(2==e.split(":").length){var t=e.split(":");return this.formatMoney(100*parseFloat(t[0]))+" - "+this.formatMoney(100*parseFloat(t[1]))}},BCSfFilter.prototype.getPercentSaleLabel=function(e){return e=this.removeDecimal(e),0==e.indexOf(":")?this.getSettingValue("label.under")+" "+e.substr(1)+"%":e.indexOf(":")==e.length-1?this.getSettingValue("label.above")+" "+e.slice(0,-1)+"%":2==e.split(":").length?e.split(":")[0]+"% - "+e.split(":").pop()+"%":void 0},BCSfFilter.prototype.buildFilterTreeMobileButton=function(e){var t=!1;if(e.hasOwnProperty("filter")&&e.filter.hasOwnProperty("options")&&e.filter.options.length>0)for(var i=e.filter.options,n=0;n<i.length;n++)if(this.checkShowFilterOption(i[n])){t=!0;break}if(t){var r=this.getSelector("filterTreeMobile"),o=this.getSelector("filterTreeMobileButton"),a=!1,s=this["class"].mobileButtonOpen,l=this.getSettingValue("label.refineMobile");jQ(o).hasClass(s)&&(a=!0,l=this.getSettingValue("label.refineMobileCollapse"));var c=this.getTemplate("filterTreeMobileButton").replace(/{{label}}/g,l);jQ(r).html(c),a&&jQ(o).addClass(s),this.buildFilterTreeMobileButtonEvent()}},BCSfFilter.prototype.buildFilterTreeMobileButtonEvent=function(){var e=this,t=this.getSelector("filterTree"),i=this.getSelector("filterTreeMobileButton");jQ(i).unbind("click"),jQ(i).on("click",function(){var i=e.mobileStyle;if("style2"==i||"style3"==i)jQ(t).toggleClass("bc-sf-filter-tree-mobile-open"),e.buildFilterTreeMobile(),e.removeScrollbar(jQ("."+e["class"].filterBlockContent));else{if(e.getSettingValue("general.changeMobileButtonLabel")){var n=e["class"].mobileButtonOpen;jQ(this).toggleClass(n);var r=jQ(this).hasClass(n)?e.getSettingValue("label.refineMobileCollapse"):e.getSettingValue("label.refineMobile");jQ(this).text(r)}jQ(t).slideToggle(function(){jQ(t).toggleClass("bc-sf-filter-tree-mobile-open"),e.buildFilterOptionBoxStyle(jQ(this)),e.buildFilterScrollbar()})}})},BCSfFilter.prototype.getFilterTreeMobileTemplate=function(e){switch(e){case"style2":case"style3":return{toolbar:'<div id="bc-sf-filter-mobile-toolbar"><div class="bc-sf-filter-mobile-toolbar-header">'+bcsffilter.getSettingValue("label.refineMobile")+'</div><div class="bc-sf-filter-mobile-toolbar-items"><div class="bc-sf-filter-mobile-toolbar-left"></div><div class="bc-sf-filter-mobile-toolbar-right"></div></div></div>',footer:'<div id="bc-sf-filter-mobile-footer"><button type="button" onClick="showResultMobile(true)">'+bcsffilter.getSettingValue("label.showResult")+"</button></div>"};default:return""}},BCSfFilter.prototype.buildFilterTreeMobile=function(){var e=this.mobileStyle;if(this.isMobile()&&""!=e){jQ(this.selector.filterTree).addClass("bc-sf-filter-tree-mobile-"+e),"style2"!=e&&"style3"!=e||jQ(this.selector.filterTree).addClass("bc-sf-filter-tree-mobile-full-width");var t=this.getFilterTreeMobileTemplate(e);switch(e){case"style2":this.buildFilterTreeMobileStyle2(t);break;case"style3":this.buildFilterTreeMobileStyle3(t)}}},BCSfFilter.prototype.removeFilterTreeMobileStyle=function(){var e=this.mobileStyle;if(""!=e)switch(jQ(this.selector.filterTree).removeClass("bc-sf-filter-tree-mobile-"+e),closeFilterMobile(),e){case"style2":this.removeFilterTreeMobileStyle2();break;case"style3":this.removeFilterTreeMobileStyle3()}},BCSfFilter.prototype.buildFilterTreeMobileStyle2=function(e){jQ("#bc-sf-filter-mobile-toolbar").remove(),jQ("#bc-sf-filter-mobile-footer").remove(),jQ(this.selector.filterTree).prepend(e.toolbar).append(e.footer),jQ("."+this["class"].filterBlockContent).addClass("no-scrollbar"),this.buildToolbarFilterTreeMobile("close"),this.buildFilterSelectionMobile(),this.buildFilterOptionTitleEvent()},BCSfFilter.prototype.removeFilterTreeMobileStyle2=function(){jQ(this.selector.filterTree).children("#bc-sf-filter-mobile-toolbar").remove(),jQ(this.selector.filterTree).children("#bc-sf-filter-mobile-footer").remove(),jQ("."+this["class"].filterSelectedItemsMobile).remove(),jQ("."+this["class"].filterBlockContent).removeClass("no-scrollbar")},BCSfFilter.prototype.buildFilterTreeMobileStyle3=function(e){this.buildFilterTreeMobileStyle2(e);var t=this,i=this["class"].filterOptionOpenList;0==jQ("."+i).length&&jQ("body").append('<input type="hidden" class="'+i+'" />');var n=""!=jQ("."+i).val()?jQ("."+i).val().split(","):[];jQ("."+this["class"].filterOption).each(function(){var e=jQ(this).closest("."+t["class"].filterOption).attr("data-id");n.indexOf(e)>-1&&(jQ(this).find("."+t["class"].filterBlockContent).show(function(){t.buildFilterOptionBoxStyle(jQ(this))}),jQ(this).find("."+t["class"].filterBlockContent).siblings("."+t["class"].filterOptionShowSearchBox+"-wrapper").length>0&&jQ(this).find("."+t["class"].filterBlockContent).siblings("."+t["class"].filterOptionShowSearchBox+"-wrapper").show())})},BCSfFilter.prototype.removeFilterTreeMobileStyle3=function(){this.removeFilterTreeMobileStyle2()},BCSfFilter.prototype.buildToolbarFilterTreeMobile=function(e){"open"==e?(jQ(".bc-sf-filter-mobile-toolbar-left").html('<a class="bc-sf-filter-mobile-apply" onclick="applyFilterOption()">'+this.getSettingValue("label.apply")+"</a>"),"collection"!=jQ(".bc-sf-filter-option-block-active").data("type")?jQ(".bc-sf-filter-mobile-toolbar-right").html('<a class="'+this["class"].clearButton+'" onClick="clearFilterOptionMobile()">'+this.getSettingValue("label.clear")+"</a>"):jQ(".bc-sf-filter-mobile-toolbar-right").empty()):(jQ(".bc-sf-filter-mobile-toolbar-left").html('<a href="javascript:;" class="bc-sf-filter-close-btn" onClick="closeFilterMobile()">'+this.getSettingValue("label.close")+"</a>"),this.checkExistFilterOptionParam()?jQ(".bc-sf-filter-mobile-toolbar-right").html(this.buildClearAllButton()):jQ(".bc-sf-filter-mobile-toolbar-right").empty())},BCSfFilter.prototype.buildFilterSelectionMobile=function(){var e="",t=this;if(jQ(this.selector.filterTree+" ."+this["class"].filterOption).each(function(){var i=jQ(this).data("type");if(!t.isCollectionParam(i)){var n="",r=jQ(this).attr("data-id");if(jQ(this).find("a.selected").length>0)jQ(this).find("a.selected").each(function(){""!=n&&(n+=", "),n+=jQ(this).data("title"),e+="&"+r+"="+jQ(this).attr("data-value")});else if(jQ(this).find("."+t["class"].filterOptionRange+"-slider").hasClass("selected")){var o=jQ(this).find("."+t["class"].filterOptionRange+"-slider").attr("data-value"),a=o.split(":");if("price"==i){var s=t.formatMoney(100*a[0]),l=t.formatMoney(100*a[1]);t.getSettingValue("general.removePriceDecimal")&&(s=t.removeDecimal(s),l=t.removeDecimal(l));var c=s+" - "+l}else var c=a[0]+" - "+a[1];n+=c,e+="&"+r+"="+encodeURIParamValue(o)}jQ(this).find("."+t["class"].filterBlockTitle+" p").remove(),jQ(this).find("."+t["class"].filterBlockTitle).append('<p class="'+t["class"].filterSelectedItemsMobile+'">'+n+"</p>")}}),this.isSearchPage){var i=this.getSearchTerm();null!==i&&""!=i&&(e+="&"+this.searchTermKey+"="+i)}jQ("#bc-sf-filter-params").remove(),jQ(this.selector.filterTree).append('<input type="hidden" id="bc-sf-filter-params" value="'+e+'"/>')},BCSfFilter.prototype.buildFilterOptionTitleEvent=function(){switch(this.mobileStyle){case"style2":this.buildFilterOptionTitleEventStyle2();break;case"style3":this.buildFilterOptionTitleEventStyle3()}},BCSfFilter.prototype.buildFilterOptionTitleEventStyle2=function(){var e=this,t=this.selector.filterTree,i=jQ(t).find("#bc-sf-filter-options-wrapper"),n=jQ(t).find("."+this["class"].filterBlockTitle);n.unbind("click"),n.click(function(){i.css("opacity",.5);var n=this;jQ("."+e["class"].filterBlockContent).hide(),jQ(this).children().css("white-space","nowrap"),i.animate({width:"toggle"},"fast",function(){jQ(t+" ."+e["class"].filterOption).hide(),jQ(t).find("."+e["class"].filterBlockTitle).hide(),jQ(n).parent().show(),jQ(n).parent().addClass("bc-sf-filter-option-block-active"),jQ(n).siblings().show(),i.css("opacity",1),e.buildToolbarFilterTreeMobile("open")}),i.animate({width:"toggle"},"fast",function(){e.buildFilterOptionBoxStyle(jQ(n).siblings("."+e["class"].filterBlockContent))})})},BCSfFilter.prototype.buildFilterOptionTitleEventStyle3=function(){var e=this,t=this.selector.filterTree,i=(jQ(t).find("#bc-sf-filter-options-wrapper"),jQ(t).find("."+this["class"].filterBlockTitle)),n=this["class"].filterOptionOpenList,r=jQ("."+n).length>0?jQ("."+n).val().split(","):[];i.unbind("click"),i.click(function(){var t=jQ(this).parent().attr("data-id");"block"==jQ(this).siblings("."+e["class"].filterBlockContent).css("display")?(jQ(this).siblings().slideUp(),r.length>0&&r.indexOf(t)>-1&&r.splice(r.indexOf(t),1)):(jQ(this).siblings().slideDown(),r.push(t),e.buildFilterOptionBoxStyle(jQ(this).siblings("."+e["class"].filterBlockContent))),jQ("."+n).val(r.join(","))})},BCSfFilter.prototype.checkIsFullWidthMobile=function(){return!(!this.isMobile()||"style2"!=this.mobileStyle&&"style3"!=this.mobileStyle)},BCSfFilter.prototype.buildToolbarEvent=function(e){this.buildPaginationEvent(e),this.buildSortingEvent(),this.buildShowLimitEvent(),this.buildDisplayTypeEvent()},BCSfFilter.prototype.buildPaginationEvent=function(e){switch(parseInt(this.queryParams.page),this.getSettingValue("general.paginationType")){case"default":this.buildDefaultPaginationEvent(e);break;case"load_more":this.buildLoadMoreEvent(e);break;default:this.buildInfiniteLoadingEvent(e)}},BCSfFilter.prototype.buildDefaultPaginationEvent=function(){var e=this,t=this.getSelector("pagination");parseInt(this.queryParams.page),jQ(t).find("a").unbind("click"),jQ(t).find("a").on("click",function(t){t.preventDefault(),e.internalClick=!0;var i=jQ(this).attr("href");e.onChangeData(i,"page"),jQ("body,html").animate({scrollTop:jQ(e.getSelector("products")).position().top},600)})},BCSfFilter.prototype.buildInfiniteLoadingEvent=function(e){var t=this,i=parseInt(this.queryParams.page),n=0,r=!1,o=this.getSelector("bottomPagination");jQ(o).length>0&&jQ(window).scroll(function(a){a.preventDefault(),a.stopPropagation();var s=jQ(window).height()*(jQ(window).height()/jQ(document).outerHeight()),l=parseInt(jQ(o).offset().top),c=parseInt(jQ(window).scrollTop())+s+t.getSettingValue("general.positionShowInfiniteLoading");jQ(window).scrollTop()+jQ(window).height()+s>=jQ(document).outerHeight()-100&&(r=!0),0==n&&e.products.length>0&&(c>=l||c<l&&r)&&(t.showLoadMoreLoading(),n=1,i++,t.internalClick=!0,t.queryParams.limit=t.getSettingValue("general.limit"),t.queryParams.page=i,t.getFilterData("page"))})},BCSfFilter.prototype.buildLoadMoreEvent=function(){var e=this,t=parseInt(this.queryParams.page);jQ(this.getSelector("loadMore")).find("a").off("click").on("click",function(){jQ(e.getSelector("loadMoreButtonContainer")).hide(),e.showLoadMoreLoading(),t++,e.internalClick=!0,e.queryParams.limit=e.getSettingValue("general.limit"),e.queryParams.page=t,e.getFilterData("page")})},BCSfFilter.prototype.buildSortingEvent=function(){var e=this;jQ(this.getSelector("topSorting")+" select").change(function(t){onInteractWithToolbar(t,"sort",e.queryParams.sort,jQ(this).val())})},BCSfFilter.prototype.buildShowLimitEvent=function(){var e=this;jQ(this.getSelector("topShowLimit")+" select").change(function(t){onInteractWithToolbar(t,"limit",e.queryParams.limit,jQ(this).val())})},BCSfFilter.prototype.buildDisplayTypeEvent=function(){var e=this;jQ(this.getSelector("topDisplayType")+" a").click(function(t){t.preventDefault(),e.internalClick=!0,jQ(this).parent().children().removeClass("active"),jQ(this).addClass("active");var i=jQ(this).attr("href");e.onChangeData(i,"display")})},BCSfFilter.prototype.buildToolbarLink=function(e,t,i){var n=window.location.href,r=e+"="+t,o=e+"="+i;if(n.indexOf("?"+e+"=")>-1?n=n.replace("?"+r,"?"+o):n.indexOf("&"+e+"=")>-1?n=n.replace("&"+r,"&"+o):0===window.location.search.length?n+="?"+o:n=n.replace("?","?"+o+"&"),"page"==e&&1==i&&(n=n.replace("?page=1&","?").replace("?page=1","")),this.queryParams.hasOwnProperty("page")&&"page"!=e){var a="&page="+this.queryParams.page;n=n.replace(a,"")}return n},BCSfFilter.prototype.showLoading=function(){(!this.isMobile()&&this.getSettingValue("general.showLoading")||this.isMobile()&&this.getSettingValue("general.showMobileLoading"))&&(0==jQ("#bc-sf-filter-loading").length&&jQ("body").append(this.getTemplate("loading")),jQ("#bc-sf-filter-loading").show())},BCSfFilter.prototype.hideLoading=function(){(!this.isMobile()&&this.getSettingValue("general.showLoading")||this.isMobile()&&this.getSettingValue("general.showMobileLoading"))&&jQ("#bc-sf-filter-loading").hide()},BCSfFilter.prototype.showLoadMoreLoading=function(){if(this.getSettingValue("general.showLoadMoreLoading")&&!1===this.getSettingValue("general.showLoading")){var e=this.getTemplate("loadMoreLoading").replace("{{loadingIcon}}",'<div id="bc-sf-filter-load-more-icon"></div>');jQ(this.getSelector("loadMore")).append(e),jQ(this.getSelector("loadMore")).show()}},BCSfFilter.prototype.hideLoadMoreLoading=function(){this.getSettingValue("general.showLoadMoreLoading")&&jQ(this.getSelector("loadMoreLoading")).remove()},BCSfFilter.prototype.showError=function(){},BCSfFilter.prototype.buildPagination=function(){},BCSfFilter.prototype.buildLoadMoreButton=function(){if(0==jQ(this.getSelector("loadMoreButtonContainer")).length){var e=this.getTemplate("loadMoreButton").replace("{{label.loadMore}}",this.getSettingValue("label.loadMore"));jQ(this.getSelector("loadMore")).prepend(e)}},BCSfFilter.prototype.buildToolbar=function(){this.buildFilterShowLimit(),this.buildFilterSorting(),this.buildFilterDisplayType()},BCSfFilter.prototype.buildFilterShowLimit=function(){},BCSfFilter.prototype.buildFilterSorting=function(){},BCSfFilter.prototype.buildFilterDisplayType=function(){},BCSfFilter.prototype.getSortingList=function(){var e=this.getSettingValue("general.sortingList"),t=this.getSettingValue("general.customSortingList");if(""!=t)var e=t.trim().split("|");if(!this.isSearchPage()){var i=this.findIndexArray("relevance",e);i>=0&&e.splice(i,1)}var n=this.getSettingValue("general.extraSortingList");n&&(e=e.concat(n.split("|")));for(var r={},o=0;o<e.length;o++){var a=this.getSettingValue("label.sorting."+e[o]);n.length>0&&n.indexOf(e[o])>-1&&(a=this.getLabel("label",e[o].replace(/-/g,"_"))),r[e[o]]=a}return r},BCSfFilter.prototype.buildScrollToTop=function(){if(1==this.getSettingValue("general.activeScrollToTop")){var e=this.getSelector("scrollToTop");if(0==jQ(e).length){var t=this.getTemplate("scrollToTop");jQ("body").append(t)}"style1"!=this.getSettingValue("general.styleScrollToTop")&&jQ(e).addClass(this.getSettingValue("general.styleScrollToTop")),jQ(e).click(function(){jQ("html,body").stop().animate({scrollTop:0})}),jQ(window).scroll(function(){jQ(window).scrollTop()>100?jQ(e).show():jQ(e).hide()})}},BCSfFilter.prototype.buildPageInfo=function(e){function t(e,t){i.buildBreadcrumb(e,t),i.buildCollectionDetail(e,t),i.buildDocumentInfo(e,t)}var i=this,n=window.location.pathname;if("/"!=n){var r={collection:{description:"",handle:bcSfFilterConfig.general.collection_handle,title:this.getSettingValue("label.collectionAll")}};if("/collections/all"==n)t(r,e);else if(this.isVendorPage()){var o={collection:{description:"",handle:"",title:getParam("q")}};t(o,e)}else if("/search"!=n){var a=window.location.href.split("?")[0]+"?view=desc";jQ.ajax({method:"GET",url:a,dataType:"json",success:function(i){t(i,e)},error:function(){t(r,e)}})}}},BCSfFilter.prototype.buildBreadcrumb=function(){},BCSfFilter.prototype.buildCollectionDetail=function(e){if(void 0!==e&&e.hasOwnProperty("collection")){var t=e.collection,i=t.hasOwnProperty("title")&&""!=t.title?t.title:null,n=t.hasOwnProperty("description")&&""!=t.description?t.description:null,r=this["class"].collectionHeader,o=this["class"].collectionDescription;i?(jQ("."+r).html(i).show(),jQ("#"+r).html(i).show()):(jQ("."+r).hide(),jQ("#"+r).hide()),n?(jQ("."+o).html(n).show(),jQ("#"+o).html(n).show()):(jQ("."+o).hide(),jQ("#"+o).hide())}},BCSfFilter.prototype.buildDocumentInfo=function(e){if(void 0!==e&&e.hasOwnProperty("collection")){var t=e.collection.title;void 0!==this.collectionTags&&null!==this.collectionTags&&(t+=" - "+this.collectionTags[0]),t+=" - "+this.shopName,document.title=t}},BCSfFilter.prototype.buildRobotsMetaTag=function(){if(this.getSettingValue("general.enableSeo")){var e='meta[content="noindex,nofollow"]';if(this.checkExistFilterOptionParam()){if(0===jQ("head").find(e).length){var t=document.createElement("meta");t.name="robots",t.content="noindex,nofollow",document.head.appendChild(t)}}else jQ("head").find(e).length>0&&jQ("head").find(e).remove()}},BCSfFilter.prototype.buildAdditionalElements=function(){},BCSfFilter.prototype.buildDefaultElements=function(){},BCSfFilter.prototype.buildSearchResultHeader=function(e){var t=this.getSearchTerm();if(null!==t&&""!=t){t=this.escape(t);var i=e.total_product>0?this.getSettingValue("label.search.resultHeader"):this.getSettingValue("label.search.resultEmpty")}else var i=this.getSettingValue("label.search.generalTitle");jQ("."+this["class"].searchResultHeader).html(i.replace(/{{ terms }}/g,t))},BCSfFilter.prototype.buildSearchResultNumber=function(e){var t="",i=this.getSearchTerm();null!==i&&""!=i&&(i=this.escape(i),t=this.getSettingValue("label.search.resultNumber"),t=t.replace(/{{ count }}/g,"<strong>"+e.total_product+"</strong>").replace(/{{ terms }}/g,"<strong>"+i+"</strong>")),jQ("."+this["class"].searchResultNumber).html(t)},BCSfFilter.prototype.getSearchTerm=function(){return getParam(this.searchTermKey)},BCSfFilter.prototype.buildSuggestion=function(e,t,i,n){var r=this;e=this.escape(e);var o="";if(getValueInObjectArray("all_empty",t))o+=this.buildSuggestionNoResult(e,i),jQ(i).append(o);else{var a=this.getSettingValue("search.suggestionBlocks");if(r.isSuggestionStyle2()&&"products"!=a[0].type){var s=a.findIndex(function(e){return"products"==e.type}),l=a[s];a.splice(s,1),r.getSettingValue("search.suggestionStyle2ReverseProductBlock")?a.push(l):a.unshift(l)}for(var c=0;c<a.length;c++){var u=a[c];if(u.hasOwnProperty("status")&&"active"==u.status){var p=this.findIndexArray(u.type,t,"key");if(p>-1&&t[p].hasOwnProperty("values")){var d=t[p],f='<li class="bc-sf-search-suggestion-group" data-group="'+u.type+'" aria-label="'+a[c].label+'"><ul>';switch(u.type){case"suggestions":f+=this.buildSuggestionPopular(e,d.values,i,u,t);break;case"products":f+=this.buildSuggestionProductList(e,d.values,i,u,t);break;case"pages":f+=this.buildSuggestionPage(e,d.values,i,u,t);break;case"collections":f+=this.buildSuggestionCollection(e,d.values,i,u,t)}f+="</ul></li>",jQ(i).append(f)}}}var h=this.buildSuggestionViewAll(e,t,i);jQ(i).append(h)}this.buildSuggestionWrapper(i,n)},BCSfFilter.prototype.buildSuggestionWrapper=function(e,t){var i=this,n=getSuggestionPosition(t);if(i.isSuggestionStyle2()){var r=i.getSettingValue("search.suggestionStyle2MainContainerSelector")||"header:first";jQ(r).css("position","relative")}var o=this["class"].searchSuggestionWrapper,a="bc-sf-search-suggestion-popover";if(!jQ(e).parent().hasClass(o)){var s=this.checkIsFullWidthSuggestionMobile(t)?this["class"].searchSuggestionMobile:"";jQ(e).wrap('<div class="'+o+" "+s+'"></div>'),jQ(e).parent().prepend('<div class="'+a+'" data-direction="'+n+'"></div>')}i.isSuggestionStyle2()&&jQ("."+i["class"].searchSuggestionWrapper).length>0&&jQ("."+i["class"].searchSuggestionWrapper).addClass(i["class"].searchSuggestionWrapper+"-"+i.getSettingValue("search.suggestionStyle")).addClass(i["class"].searchSuggestionWrapper+"-"+i.getSettingValue("search.suggestionStyle")+"-width-fullwidth").addClass(i["class"].searchSuggestion+"-products-per-row-"+i.getSettingValue("search.suggestionStyle2ProductPerRow")).addClass(i["class"].searchSuggestion+"-reverse-product-block-"+i.getSettingValue("search.suggestionStyle2ReverseProductBlock")),jQ(e).siblings().show();var l=this.checkIsFullWidthSuggestionMobile(t)?"top":"top+12";if("left"==n){jQ(e).parent().position({my:"left "+l,at:"left bottom",of:jQ(t)[0]});var c=function(){jQ("."+a).position({my:"left+20 top-8"+l,at:"left bottom",of:jQ(t)[0]})}}else{jQ(e).parent().position({my:"right "+l,at:"right bottom",of:jQ(t)[0]});var c=function(){jQ("."+a).position({my:"right-20 top-8",at:"right bottom",of:jQ(t)[0]})}}if(c(),i.isSuggestionStyle2())jQ(window).resize(function(){c()});else{var u=this.getSuggestionWidth(t);jQ(e).parent().outerWidth(u)}},BCSfFilter.prototype.buildSuggestionPopular=function(e,t,i,n){var r="";if(Object.keys(t).length>0){var r=this.buildSuggestionHeader(n.label,"popular");for(var o in t)if(o<n.number){var a=this.highlightSuggestionResult(t[o],e);r+='<li class="'+this["class"].searchSuggestionItem+'" aria-label="'+this.escape(n.label)+": "+this.escape(t[o])+'">',r+='<a href="'+this.buildSearchLink(t[o])+'">'+a+"</a>",r+="</li>"}}return r},BCSfFilter.prototype.buildSuggestionProductList=function(e,t,i,n,r){var o="";o+=this.buildSuggestionHeader(n.label,"product");var a=this.buildSuggestionDidYouMean(e,r,i);if(""!=a&&(o+='<li class="'+this["class"].searchSuggestionItem+' bc-sf-search-suggestion-dym" aria-label="Did you mean">'+a+"</li>"),Object.keys(t).length>0)for(var s=0,l=0;l<t.length&&s<n.number;l++){var c=t[l],u=this.customizeSuggetionProductTitle(c.title,e,t);u=this.highlightSuggestionResult(u,e);var p=this.buildProductItemUrl(c,!1),d=c.images_info.length>0?this.optimizeImage(c.images_info[0].src,"200x"):bcSfFilterConfig.general.no_image_url,f=null!==c.skus&&c.skus.length>0?c.skus[0]:"",h=this["class"].searchSuggestion,g=this.getSettingValue("search.openProductNewTab")?'target="_blank"':"";o+='<li class="'+this["class"].searchSuggestionItem+" "+this["class"].searchSuggestionItem+'-product" aria-label="'+this.escape(n.label)+": "+this.escape(c.title)+'">',o+='<a href="'+p+'" '+g+">",this.getSettingValue("search.showSuggestionProductImage")&&(o+='<div class="'+h+'-left"><img src="'+d+'" /></div>'),o+='<div class="'+h+'-right">',o+='<div class="'+h+'-product-title">'+u+"</div>",this.getSettingValue("search.showSuggestionProductSku")&&(o+='<div class="'+h+'-product-sku">SKU: '+f+"</div>"),this.getSettingValue("search.showSuggestionProductVendor")&&(o+='<div class="'+h+'-product-vendor">'+c.vendor+"</div>"),o+=this.buildSuggestionProductPrice(c),o+="</div>",o+="</a>",o+="</li>",s++}return o},BCSfFilter.prototype.customizeSuggetionProductTitle=function(e){return e},BCSfFilter.prototype.buildSuggestionProductPrice=function(e){var t=e.compare_at_price_min>e.price_min,i=this.formatMoney(100*e.price_min),n=this.formatMoney(100*e.compare_at_price_min);this.getSettingValue("search.removePriceDecimal")&&(i=this.removeDecimal(i),n=this.removeDecimal(n));var r="";return this.getSettingValue("search.showSuggestionProductPrice")&&(r+='<div class="'+this["class"].searchSuggestion+'-product-price">',t&&this.getSettingValue("search.showSuggestionProductSalePrice")?(r+="<s>"+n+"</s>  ",r+='<span class="bc-sf-product-sale-price">'+i+"</span>"):r+='<span class="bc-sf-product-regular-price">'+i+"</span>",r+="</div>"),r},BCSfFilter.prototype.buildSuggestionPage=function(e,t,i,n){var r="";if(Object.keys(t).length>0){var r=this.buildSuggestionHeader(n.label,"page");for(var o in t)if(o<n.number){var a=this.highlightSuggestionResult(t[o].title,e);r+='<li class="'+this["class"].searchSuggestionItem+'" aria-label="'+this.escape(n.label)+": "+this.escape(t[o].title)+'">',r+='<a href="'+t[o].url+'">'+a+"</a>",r+="</li>"}}return r},BCSfFilter.prototype.buildSuggestionCollection=function(e,t,i,n){var r="";if(Object.keys(t).length>0){var r=bcsffilter.buildSuggestionHeader(n.label,"collection");for(var o in t)if(o<n.number){var a=bcsffilter.highlightSuggestionResult(t[o].title,e);r+='<li class="'+bcsffilter["class"].searchSuggestionItem+'" aria-label="'+this.escape(n.label)+": "+this.escape(t[o].title)+'">',r+='<a href="/collections/'+t[o].handle+'">'+a+"</a>",r+="</li>"}}return r},BCSfFilter.prototype.buildSuggestionDidYouMean=function(e,t){var i="";if(void 0!==t&&Object.keys(t).length>0){var n=getValueInObjectArray("suggest_query",t),r=getValueInObjectArray("total_product",t),o=getValueInObjectArray("prev_total_product",t);""!==o&&r>0&&(r=o);var a=getValueInObjectArray("did_you_mean",t),s="";if(""!=a&&a.length>0)for(var l=0;l<a.length;l++)s+='<a href="'+this.buildSearchLink(a[l])+'">'+a[l]+"</a>",l<a.length-1&&(s+="<span>,</span> ");n!=e&&(0==r&&(i+="<p>"+this.getSettingValue("label.error.noSuggestionProducts").replace(/{{ terms }}/g,"<strong>"+e+"</strong>")+"</p>"),""!=n&&(i+="<p>"+this.getSettingValue("label.suggestion.suggestQuery").replace(/{{ terms }}/g,'<a href="'+this.buildSearchLink(n)+'">'+n+"</a>")+"</p>"),""!=s&&(i+="<p>"+this.getSettingValue("label.suggestion.didYouMean").replace(/{{ terms }}/g,s)+"</p>"))}return i},BCSfFilter.prototype.buildSuggestionViewAll=function(e,t){var i=this["class"].searchSuggestionHeader,n="",r=getValueInObjectArray("total_product",t),o=getValueInObjectArray("suggest_total_product",t);return""!==o&&(r=o),r>getValueInObjectArray("products",this.getSettingValue("search.suggestionBlocks"),"type","number")&&r>0&&(n+='<li class="'+i+"-view-all "+i+'" aria-label="View All">',n+='<a href="'+this.buildSearchLink(e)+'">'+this.getSettingValue("label.suggestion.viewAll").replace(/{{ count }}/g,r)+"</a>",n+="</li>"),n},BCSfFilter.prototype.buildSuggestionHeader=function(e,t){var i=this["class"].searchSuggestionHeader;return'<li class="'+i+"-"+t+" "+i+'" aria-label="'+this.escape(e)+'">'+e+"</li>"},BCSfFilter.prototype.highlightSuggestionResult=function(e,t){function i(e){return new RegExp(e.replace(/([\(\)\{\}\[\]\.\+\-\=\\\/])/g,"\\$&"),"ig")}if(this.getSettingValue("search.highlightSuggestionResult")&&t.length>1)for(var n=t.split(" "),r=0;r<n.length;r++){var o=i(n[r]),a=e.match(o);if(null!==a&&a.length>0){a=a.filter(function(e,t){return a.indexOf(e)==t&&""!=e});for(var s in a)if(a[s].length>1){var o=i(a[s]);e=e.replace(o,"<b>"+a[s]+"</b>")}}}return e},BCSfFilter.prototype.buildSuggestionNoResult=function(e){var t=this.getSettingValue("label.error.noSuggestionResult").replace(/{{ terms }}/g,e),i='<li class="bc-sf-search-suggestion-no-result" aria-label="No Results">';return i+="<span>"+t+"</span>",i+="</li>"},BCSfFilter.prototype.buildSuggestionStyle=function(){jQ("."+this["class"].searchSuggestionHeader).css({"font-size":this.getSettingValue("search.fontSizeSuggestionHeader"),background:this.getSettingValue("search.bgSuggestionHeader"),color:this.getSettingValue("search.colorSuggestionHeader")})},BCSfFilter.prototype.buildSearchLink=function(e){return"/search?"+this.searchTermKey+"="+encodeURIParamValue(e)},BCSfFilter.prototype.initSearchBox=function(e){if(this.getSettingValue("search.enableSuggestion")){var t=this
;void 0===e?jQ('input[name="'+this.searchTermKey+'"]').each(function(e){if(!jQ(this)[0].hasAttribute("data-no-bc-search")){var i="bc-sf-search-box-"+e;jQ(this).attr("id",i),t.buildSearchBox("#"+i)}}):this.buildSearchBox(e),this.isMobile()&&(window.onpageshow=function(e){e.persisted&&window.location.reload()},"style1"==this.getSettingValue("search.suggestionMobileStyle")&&this.buildSuggestionMobile())}},BCSfFilter.prototype.beforeBuildSearchBox=function(){},BCSfFilter.prototype.buildSearchBox=function(e){this.beforeBuildSearchBox(e);var t=this;if(jQ(e).length>0){var i;i=t.isSuggestionStyle2()?t.getSettingValue("search.suggestionStyle2MainContainerSelector")||"header:first":"body";var n=this.currentTerm=getParam(this.searchTermKey);jQ(e).val(n),jQ(e).autocomplete({appendTo:i,minLength:t.getSettingValue("search.suggestionMinLength"),delay:200,source:function(i,n){window.suggestionCallback=n,t.currentTerm=i.term;var r=i.term.toLowerCase().trim().replace(/\s+/g," ");if(""!=r){var o=getSuggestionInstance(e);if(t.showSuggestionLoading(o,e),r in t.suggestionCache)return void suggestionCallback(t.suggestionCache[r]);t.getSuggestionData(r,0,"suggest")}},classes:{"ui-autocomplete":t["class"].searchSuggestion},response:function(i,n){var r=n.content,o=getValueInObjectArray("query",r),a=getValueInObjectArray("event_type",r),s=getValueInObjectArray("suggest_query",r),l=getValueInObjectArray("local_cache",r);25==Object.keys(t.suggestionCache).length&&(t.suggestionCache={}),o in t.suggestionCache||"suggest_dym"==a||(t.suggestionCache[o]=r),""==s||"suggest"!=a||l||t.getSuggestionData(s,0,"suggest_dym",o),t.hideSuggestionLoading(e)},focus:function(){return!1},open:function(i){t.openSuggestionEvent(e,i)},close:function(i){t.closeSuggestionEvent(e,i)},select:function(){return!1}}).on("click",function(i){t.clickSearchBoxEvent(e,i)}).on("focus",function(i){t.focusSearchBoxEvent(e,i)}).on("keyup",function(i){t.typeSearchBoxEvent(e,i)}).addClass(t["class"].searchBox).attr("data-search-box",e),jQ(e).autocomplete("instance")._renderMenu=function(i,n){return i.attr("data-search-box",e),t.buildSuggestion(this.term,n,i,e)},jQ(e).autocomplete("instance")._resizeMenu=function(){var i=this.menu.element,n=this.element;t.buildStyleSuggestion(i,n,e)},t.clickOutsideSuggestionEvent(e)}this.setSuggestionPosition(e)},BCSfFilter.prototype.buildSuggestionMobile=function(){var e=this.selector.searchBoxMobile;if(0==jQ(e).length){var t='<button type="button" class="bc-sf-search-btn-close-suggestion" onclick="closeSuggestionMobile(\''+e+"', true);\"><-</button>",i=this.getSettingValue("search.showSearchBtnMobile")?'<a href="javascript:;" class="bc-sf-search-submit-mobile" onclick="submitSearchFormMobile(this, event)"><span>Submit</span></a>':"",n='<button type="button" class="bc-sf-search-btn-clear-suggestion" onclick="clearSuggestionMobile(\''+e+"');\">X</button>";jQ("body").append('<div class="bc-sf-search-suggestion-mobile-top-panel"><form action="/search" method="get">'+t+i+'<input type="text" name="'+this.searchTermKey+'" placeholder="'+this.getSettingValue("label.suggestion.placeholder")+'" id="'+e.substr(1)+'" />'+n+"</form></div>"),this.buildSearchBox(e)}},BCSfFilter.prototype.beforeOpenSuggestionMobile=function(){},BCSfFilter.prototype.openSuggestionMobile=function(e){this.beforeOpenSuggestionMobile(e),jQ("body").addClass("bc-sf-search-suggestion-mobile-open"),this.showSearchBoxMobile(e);var t=this.selector.searchBoxMobile;jQ(t).autocomplete("search"),jQ("."+this["class"].searchSuggestion+'[data-search-box="'+t+'"]').parent().show(),jQ("html,body").scrollTop(),this.afterOpenSuggestionMobile()},BCSfFilter.prototype.afterOpenSuggestionMobile=function(){},BCSfFilter.prototype.showSearchBoxMobile=function(e){this.clickOutsideSuggestionMobileEvent(),this.scrollSuggestionMobileEvent(),""==jQ(e).val()?hideClearSuggestionBtn():showClearSuggestionBtn();var t=this.selector.searchBoxMobile;jQ(t).is(":focus")||(jQ(".bc-sf-search-suggestion-mobile-top-panel").show(),jQ("[tabindex=-1]").removeAttr("tabindex").addClass("bc-sf-search-no-tabindex"),setTimeout(function(){jQ(t).focus()},100),this.afterShowSearchBoxMobile())},BCSfFilter.prototype.afterShowSearchBoxMobile=function(){},BCSfFilter.prototype.clickOutsideSuggestionMobileEvent=function(){var e=this;jQ(document).on("touchstart",function(t){var i=jQ(".bc-sf-search-suggestion-mobile-top-panel"),n=jQ(".bc-sf-search-suggestion-wrapper");0!=n.length&&"none"!=n.css("display")||!i.is(t.target)||closeSuggestionMobile(e.selector.searchBoxMobile,!0)})},BCSfFilter.prototype.afterCloseSuggestionMobile=function(){},BCSfFilter.prototype.clickSearchBoxEvent=function(e){""!=jQ(e).val()&&(this.checkIsFullWidthSuggestionMobile(e)?(jQ(this.selector.searchBoxMobile).val(jQ(e).val()),this.openSuggestionMobile(e)):jQ(e).data("ui-autocomplete")&&jQ(e).autocomplete("search",jQ(e).val()))},BCSfFilter.prototype.focusSearchBoxEvent=function(e,t){this.checkIsFullWidthSuggestionMobile(e)&&e!=this.selector.searchBoxMobile&&(this.showSearchBoxMobile(e),this.clickSearchBoxEvent(e,t))},BCSfFilter.prototype.typeSearchBoxEvent=function(e,t){this.currentTerm=t.target.value,this.checkIsFullWidthSuggestionMobile(e)&&(jQ("."+this["class"].searchSuggestion+'[data-search-box="'+e+'"]').parent().show(),""==t.target.value?(closeSuggestionMobile(e),hideClearSuggestionBtn()):showClearSuggestionBtn())},BCSfFilter.prototype.openSuggestionEvent=function(){jQ("."+this["class"].searchSuggestionItem+" a").on("touchstart",function(){isScrolling=!1}).on("touchmove",function(){isScrolling=!0}).on("touchend",function(){isScrolling||(window.location=jQ(this).attr("href"))})},BCSfFilter.prototype.closeSuggestionEvent=function(e){"test"==this.getSettingValue("search.suggestionMode")||this.checkIsFullWidthSuggestionMobile(e)?jQ("."+this["class"].searchSuggestion).show():jQ("."+this["class"].searchSuggestion+'[data-search-box="'+e+'"]').siblings().hide()},BCSfFilter.prototype.checkIsFullWidthSuggestionMobile=function(){return!(!this.isMobile()||"style1"!=this.getSettingValue("search.suggestionMobileStyle"))},BCSfFilter.prototype.clickOutsideSuggestionEvent=function(e){if(!this.checkIsFullWidthSuggestionMobile(e)){var t=this;jQ(document).bind("click",function(i){jQ(e).data("ui-autocomplete")&&void 0!==jQ(e).autocomplete("instance")&&(jQ(i.target).parents().addBack().is("."+t["class"].searchSuggestion)||jQ(i.target).parents().addBack().is("."+t["class"].searchBox)||jQ(e).autocomplete("close"))})}},BCSfFilter.prototype.scrollSuggestionMobileEvent=function(){var e=this.selector.searchBoxMobile;jQ(document).on("touchmove",function(){jQ(e).is(":focus")&&jQ(e).blur()})},BCSfFilter.prototype.buildStyleSuggestion=function(e,t,i){var n=this.getSuggestionWidth(i);this.setSuggestionWidth(i,n),this.customizeSuggestionStyle(e,t,i),this.customizeSuggestion(e,t,i)},BCSfFilter.prototype.customizeSuggestionStyle=function(e){var t=this;if(t.isSuggestionStyle2()){var i=function(e){var t=0;return e.each(function(e,i){t+=jQ(i).outerHeight(!0)}),t};if(jQ("."+t["class"].searchSuggestionWrapper).length>0){var n=20;if(jQ(e).find('.bc-sf-search-suggestion-group[data-group="products"]').length>0){var r=jQ(e).find('.bc-sf-search-suggestion-group[data-group="products"]');jQ(e).find('.bc-sf-search-suggestion-group[data-group="pages"]').find("."+t["class"].searchSuggestionItem).length>0&&(n+=i(jQ(e).find('.bc-sf-search-suggestion-group[data-group="pages"]').find("."+t["class"].searchSuggestionItem))),jQ(e).find('.bc-sf-search-suggestion-group[data-group="collections"]').find("."+t["class"].searchSuggestionItem).length>0&&(n+=i(jQ(e).find('.bc-sf-search-suggestion-group[data-group="collections"]').find("."+t["class"].searchSuggestionItem))),jQ(e).find('.bc-sf-search-suggestion-group[data-group="suggestions"]').find("."+t["class"].searchSuggestionItem).length>0&&(n+=i(jQ(e).find('.bc-sf-search-suggestion-group[data-group="suggestions"]').find("."+t["class"].searchSuggestionItem))),r.css("min-height",n+"px")}}}},BCSfFilter.prototype.isSuggestionStyle2=function(){var e=this;return void 0!==e.getSettingValue("search.suggestionStyle")&&"style2"==e.getSettingValue("search.suggestionStyle")&&!(e.isMobile()&&e.isMobileDevice())},BCSfFilter.prototype.getSuggestionWidth=function(e){if("auto"==this.getSettingValue("search.suggestionWidth")||this.isMobile())var t=jQ(e).outerWidth();else var t=this.getSettingValue("search.suggestionWidth");return t},BCSfFilter.prototype.setSuggestionPosition=function(e){var t=this,i=getSuggestionPosition(e),n=this.checkIsFullWidthSuggestionMobile(e)?"top":"top+12";t.isSuggestionStyle2()||("left"==i?jQ(e).autocomplete("option","position",{my:"left "+n,at:"left bottom",collision:"none"}):jQ(e).autocomplete("option","position",{my:"right "+n,at:"right bottom",collision:"none"}))},BCSfFilter.prototype.setSuggestionWidth=function(e,t){jQ("ul."+this["class"].searchSuggestion+'[data-search-box="'+e+'"]').outerWidth(t)},BCSfFilter.prototype.customizeSuggestion=function(){},BCSfFilter.prototype.prepareSuggestionParams=function(e,t){var i={};i.shop=this.shopDomain,i.t=(new Date).getTime(),this.getSettingValue("search.enableDefaultResult")||(i.enable_default_result=!1),this.getSettingValue("search.enableFuzzy")||(i.fuzzy=!1),this.getSettingValue("search.reduceMinMatch")&&(i.reduce_min_match=!0),1==this.getSettingValue("search.productAvailable")&&(i.product_available=!0);var n=this.getSettingValue("search.skipFields");n.length>0&&(param.skipFields=n),i.callback="BCSfSuggestionCallback",i.event_type=t;var r="suggest_dym"==t?["products"]:this.getSettingValue("search.suggestionTypes");return i.suggest_types=r,i},BCSfFilter.prototype.beforeGetSuggestionData=function(){},BCSfFilter.prototype.getSuggestionData=function(e,t,i,n){var t=void 0!==t?t:0,n=void 0!==n?n:"",r=this;this.beforeGetSuggestionData(i),e=this.customizeSearchTerm(e);var o=this.prepareSuggestionParams(e,i);""!=n&&(o.prev_query=n);var a=document.createElement("script");a.type="text/javascript",a.src=this.getApiUrl("suggestion")+"?q="+e+"&"+jQ.param(o),a.async=!0,a.addEventListener("error",function(){this.remove(),t<3&&(t++,r.getSuggestionData(e,t,i,n))}),document.getElementsByTagName("head")[0].appendChild(a),a.onload=function(){this.remove()}},BCSfFilter.prototype.customizeSearchTerm=function(e){return encodeURIParamValue(e.trim())},BCSfFilter.prototype.showSuggestionLoading=function(e,t){var i=this;if(this.getSettingValue("search.showSuggestionLoading")){jQ(e).children().hide();var n=this["class"].searchSuggestionLoading;if(0==jQ("."+n).length){this.buildSuggestionWrapper(e,t);var r=n+"-img",o='<li class="'+n+'"><ul><li><div class="'+r+'"></div></li><li><div class="'+r+'"></div></li><li><div class="'+r+'"></div></li></ul></li>';if(jQ(e).prepend(o),jQ(e).show(),!i.isSuggestionStyle2()){var a=this.getSuggestionWidth(t);jQ(e).outerWidth(a);var s=getSuggestionPosition(t),l=this.checkIsFullWidthSuggestionMobile(t)?"top":"top+12";"left"==s?jQ(e).position({my:"left "+l,at:"left bottom",of:jQ(t)[0]}):jQ(e).position({my:"right "+l,at:"right bottom",of:jQ(t)[0]})}}jQ("."+n).show()}},BCSfFilter.prototype.hideSuggestionLoading=function(){this.getSettingValue("search.showSuggestionLoading")&&jQ("."+this["class"].searchSuggestionLoading).hide()},BCSfFilter.prototype.prepareProductData=function(e){return e},BCSfFilter.prototype.buildProductList=function(e,t){(0==this.loadProductFirst||this.isSearchPage()||this.isVendorPage()||this.isTagPage()||"best-selling"==this.defaultSorting||1==this.getSettingValue("general.productAndVariantAvailable")||1==this.loadProductFirst&&("init"!=t||window.location.search.length>0))&&(e=this.prepareProductData(e),this.buildProductListData(e,t),this.buildExtrasProductList(e,t))},BCSfFilter.prototype.buildProductListData=function(e,t){("default"==this.getSettingValue("general.paginationType")||"default"!=this.getSettingValue("general.paginationType")&&"page"!=t)&&(jQ(this.getSelector("products")).html(""),jQ(window).unbind("scroll"));for(var i="",n=e.length,r=0;r<n;r++){switch(this.queryParams.display){case"list":var o=this.buildProductListItem(e[r],r+1,n);break;case"collage":var o=this.buildProductCollageItem(e[r],r+1,n);break;default:var o=this.buildProductGridItem(e[r],r+1,n)}i+=this.buildProductItemAdvanced(e[r],o)}jQ(this.getSelector("products")).append(i)},BCSfFilter.prototype.buildExtrasProductList=function(){},BCSfFilter.prototype.buildProductGridItem=function(){return""},BCSfFilter.prototype.buildProductListItem=function(){return""},BCSfFilter.prototype.buildProductCollageItem=function(){return""},BCSfFilter.prototype.buildProductItemUrl=function(e,t){var i=window.location.search.substring(1),n=window.location.pathname,r="object"==typeof e&&e.hasOwnProperty("handle")?e.handle:e,t=void 0===t||t;if(t){if("/"==n||this.isSearchPage()||this.isVendorPage())return"/collections/all/products/"+r;if(this.isTagPage()){var o=n.split("/");return o.length>=4?"/collections/"+o[2]+"/products/"+r:"/collections/all/products/"+r}if(i.indexOf("cache:")>-1){var a="all",s=i.split("&")[0].split("?")[0].split("collections/");return s.length>1&&(a=s[1].indexOf("/")>-1?s[1].split("/")[0]:s[1]),"/collections/"+(a=a.replace(/[`~!@#$%^&*()_|+\=?;:'",.<>\{\}\[\]\\\/]/g,""))+"/products/"+r}var o=n.split("/");return void 0!==o[2]?"/collections/"+o[2]+"/products/"+r:window.location.pathname+"/products/"+r}return"/products/"+r},BCSfFilter.prototype.buildProductItemVendorUrl=function(e){return window.location.protocol+"//"+window.location.hostname+"/collections/vendors?q="+encodeURIParamValue(e)},BCSfFilter.prototype.buildProductItemAdvanced=function(e,t){return t},BCSfFilter.prototype.getFeaturedImage=function(e,t){var t=void 0!==t?t:"large",i=this.optimizeImage(bcSfFilterConfig.general.no_image_url,t);return e.length>0&&(i="object"==typeof e[0]?this.optimizeImage(e[0].src,t):this.optimizeImage(e[0],t)),i},BCSfFilter.prototype.optimizeImage=function(e,t){null===e&&(e=bcSfFilterConfig.general.no_image_url);for(var t=void 0!==t?t:"large",i=this.getSettingValue("general.imageExtension"),n=0;n<i.length;n++)e=e.replace("."+i[n]+"?","_"+t+"."+i[n]+"?");return e},BCSfFilter.prototype.getProductMetafield=function(e,t,i){if(e.hasOwnProperty("metafields")){var n=e.metafields.filter(function(e){return e.namespace==t&&e.key==i});if(void 0!==n[0])return n[0].value}return null},BCSfFilter.prototype.buildFilterOptionLabel=function(e,t,i){e=this.customizeFilterOptionLabel(e,i.prefix,i.filterType);var n=this.getTemplate("filterOptionLabel").replace(/{{itemValue}}/g,e);return this.getSettingValue("general.showFilterOptionCount")&&"box"!=i.displayType&&!0!==i.keepValuesStatic&&null!==t&&(t>0&&0==this.getSettingValue("general.showOutOfStockOption")||1==this.getSettingValue("general.showOutOfStockOption"))?n.replace(/{{itemAmount}}/g,"("+t+")"):n.replace(/{{itemAmount}}/g,"")},BCSfFilter.prototype.customizeFilterOptionLabel=function(e,t,i){return"price"!=i&&"percent_sale"!=i||(e=e.replace(/\*/g,"").replace(/\-/g,":"),e="price"==i?this.getPriceLabel(e):this.getPercentSaleLabel(e)),void 0!==t&&null!==t&&!1!==t&&(t=t.replace(/\\/g,""),e=e.replace(t,"").trim()),e.indexOf("bc-sf-filter-icon-star")>-1?e:this.getSettingValue("general.forceCapitalizeFilterOptionValues")?capitalize(e,!0):this.getSettingValue("general.capitalizeFilterOptionValues")?capitalize(e):this.getSettingValue("general.capitalizeFirstLetterFilterOptionValues")?capitalize(e,!0,!0):e},BCSfFilter.prototype.buildFilterOptionTooltip=function(e){var t="";if(!this.isMobile()&&e.hasOwnProperty("tooltip")&&e.tooltip){var i=this.escape(stripScriptTag(e.tooltip));t='<span class="'+this["class"].filterOptionTooltip+'" data-bc-tooltip-title="'+i+'">',t+='<span class="bc-sf-filter-tooltip-arrow"></span>',t+="</span>",t+='<div class="bc-sf-filter-tooltip-wrapper"><div class="bc-sf-filter-qtip-content">'+i+"</div></div>"}return t},BCSfFilter.prototype.buildTooltipEvent=function(){jQ(".bc-sf-filter-option-tooltip").hover(function(){var e=jQ(this).parent().find(".bc-sf-filter-tooltip-wrapper"),t=jQ(this).parent().find(".bc-sf-filter-qtip-content"),i=jQ(this).position(),n=t.outerWidth();e.css("left",i.left+"px"),n/2<i.left?e.css("margin-left",-(n/2-12)+"px"):n/2>i.left&&e.css("margin-left",-i.left/2+"px")})},BCSfFilter.prototype.buildFilterShowMore=function(e,t){var i=this;if(void 0!==e)if("none"!=t&&this.getSettingValue("general.activeFilterScrollbar")&&(this.isMobile()||this.getSettingValue("general.activeFilterScrollbarPC")))switch(t){case"viewmore":i.buildFilterViewMore(e,!1);break;case"viewmore_scrollbar":i.buildFilterViewMore(e,!0);break;default:i.buildFilterScrollbar(e)}else jQ(e).addClass("no-scrollbar");else jQ("."+this["class"].filterOption).each(function(){var e=jQ(this).data("show-more-type");e&&i.buildFilterShowMore(jQ(this).find("."+i["class"].filterBlockContent),e)})},BCSfFilter.prototype.buildFilterScrollbar=function(e){var t=this;if(void 0!==e?jQ(function(){if(!jQ(e).hasClass("no-scrollbar")&&jQ(e)[0].scrollHeight>jQ(e)[0].clientHeight)try{jQ(e).bind("jsp-scroll-y",function(e,i,n,r){t.triggerScrollYFilterOption(e,i,n,r)}).jScrollPane({contentWidth:"0px"})}catch(t){jQ(e).css("overflow-y","auto")}}):jQ("."+this["class"].filterOption).each(function(){"scrollbar"==jQ(this).data("show-more-type")&&t.buildFilterScrollbar(jQ(this).find("."+t["class"].filterBlockContent))}),this.getSettingValue("general.keepScrollState")&&this.hasOwnProperty("scrollData")&&this.scrollData.length>0)for(var i in this.scrollData){var n=this.scrollData[i];if(jQ('div[data-block-id="'+n.id+'"]').find(".jspScrollable").length>0){var r=jQ('div[data-block-id="'+n.id+'"]').find(".jspScrollable").eq(0).data("jsp");void 0!==r&&r.scrollToY(parseInt(n.position))}}},BCSfFilter.prototype.removeScrollbar=function(e){var t=this;1==e.length?e.jScrollPane().data("jsp").destroy():e.length>1&&e.each(function(){t.removeScrollbar(jQ(this))})},BCSfFilter.prototype.triggerScrollYFilterOption=function(){},BCSfFilter.prototype.catchError=function(e){if(e.total_product<=0){if(this.checkExistFilterOptionParam())t=this.getSettingValue("label.error.noFilterResult");else{var t="";this.isSearchPage()?t=this.getSettingValue("label.error.noSearchResult"):0==this.collectionCount&&(t=this.getSettingValue("label.error.noProducts"))}return void(""!=t&&(template=this.getTemplate("noResult").replace(/{{content}}/g,t),jQ(this.getSelector("products")).html(template),jQ(this.getSelector("pagination")).empty(),jQ(this.getSelector("topShowLimit")).empty(),jQ(this.getSelector("topSorting")).empty("")))}},BCSfFilter.prototype.formatMoney=function(e,t,i){function n(e,t){return void 0===e?t:e}function r(e,t,r,o){if(t=n(t,2),r=n(r,","),o=n(o,"."),isNaN(e)||null==e)return 0;e=(e/100).toFixed(t);var a=e.split("."),s=a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r),l=a[1]?o+a[1]:"";return 1==i?(s+l).replace(/((\,00)|(\.00))$/g,""):s+l}if(void 0===t)var t=this.moneyFormat;if(void 0===i)var i=!1;"string"==typeof e&&(e=e.replace(".",""));var o="",a=/\{\{\s*(\w+)\s*\}\}/,s=t||"${{amount}}";switch(s.match(a)[1]){case"amount":o=r(e,2);break;case"amount_no_decimals":o=r(e,0);break;case"amount_with_comma_separator":o=r(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=r(e,0,".",",");break;case"amount_with_space_separator_no_comma":default:o=r(e,2)}return s.replace(a,o)},BCSfFilter.prototype.getCurrency=function(){return jQ("<p>"+bcSfFilterConfig.shop.money_format+"</p>").text().replace(/{{[^}]*}}/g,"")},BCSfFilter.prototype.removeCurrencySymbol=function(e){e=jQ("<p>"+e+"</p>").text();for(var t=this.getCurrency().split(" "),i=0;i<t.length;i++)e=e.replace(t[i].trim(),"");return e.trim()},BCSfFilter.prototype.isMobile=function(){return jQ(window).width()<=this.getSettingValue("general.breakpointMobile")},BCSfFilter.prototype.isMobileDevice=function(){return void 0!==document.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},BCSfFilter.prototype.checkExistFilterOptionParam=function(){for(var e in this.queryParams)if(e.indexOf("pf_")>-1)return!0;return!1};BCSfFilter.prototype.checkExistBCParam=function(){return this.queryParams.hasOwnProperty("_")&&this.queryParams._==this.prefix},BCSfFilter.prototype.isCollectionParam=function(e){return!("collection"!=e||"collection"==e&&this.isSearchPage())},BCSfFilter.prototype.isVendorPage=function(){return window.location.pathname.indexOf("/collections/vendors")>-1},BCSfFilter.prototype.isTagPage=function(){return void 0!==this.currentTags&&null!==this.currentTags&&this.currentTags.length>0},BCSfFilter.prototype.isSearchPage=function(){var e=window.location.search,t=window.location.pathname;return e.indexOf("search?")>-1||-1==t.indexOf("collections")&&t.indexOf("/search")>-1&&-1==e.indexOf("=cache")},BCSfFilter.prototype.removeDecimal=function(e,t){var t=void 0!==t?t:this.getSettingValue("general.decimalDelimiter"),i=new RegExp("(\\"+t+"\\d+)+","gi");return e.replace(i,"")},BCSfFilter.prototype.slugify=function(e){e=e.toLowerCase();for(var t="\xe0\xe1\xe4\xe2\xe3\xe8\xe9\xeb\xea\u1ebd\xec\xed\xef\xee\u0129\xf2\xf3\xf6\xf4\xf5\xf9\xfa\xfc\xfb\u0169\xf1\xe7\xb7/_,:;",i="aaaaaeeeeeiiiiiooooouuuuunc------",n=0,r=t.length;n<r;n++)e=e.replace(new RegExp(t.charAt(n),"g"),i.charAt(n));return e.replace(/[\s\/]+/g,"-").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},BCSfFilter.prototype.textify=function(e,t){for(var t=void 0!==t?t:"-",i=e.split(t),n="",r=0;r<i.length;r++)n+=i[r].charAt(0).toUpperCase()+i[r].slice(1),r<i.length-1&&(n+=" ");return n},BCSfFilter.prototype.escape=function(e,t){return t=t?"&#13;":"\n",(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)},BCSfFilter.prototype.sortFilterOptionValue=function(e){var t=e.hasOwnProperty("sortType")&&e.sortType?e.sortType:"key-asc",i=t.split("-")[0];return"collection"==e.filterType&&"key"==i&&(i="label"),e.values&&e.values.length>0&&e.values.sort(function(e,t){function n(e){for(var t,i,n=new Array,r=0,o=-1,a=0;t=(i=e.charAt(r++)).charCodeAt(0);){var s=46==t||t>=48&&t<=57;s!==a&&(n[++o]="",a=s),n[o]+=i}return n}e=e[i].toString().toLowerCase(),t=t[i].toString().toLowerCase();var r=n(e),o=n(t);for(x=0;r[x]&&o[x];x++)if(r[x]!==o[x]){var a=Number(r[x]),s=Number(o[x]);return a==r[x]&&s==o[x]?a-s:r[x]>o[x]?1:-1}return r.length-o.length}),t.indexOf("desc")>-1&&e.values.reverse(),e.values},BCSfFilter.prototype.truncateByChar=function(e,t,i){return void 0===i&&(i="..."),t-=i.length,e=e.length>t?e.substring(0,t)+i:e.substring(0,t)},BCSfFilter.prototype.truncateByWord=function(e,t,i){return void 0===i&&(i="..."),e=e.split(" ").length>t?e.split(" ").splice(0,t).join(" ")+i:e.split(" ").splice(0,t).join(" ")},BCSfFilter.prototype.findIndexArray=function(e,t,i,n){if(void 0!==i&&null!==i){for(var r=0;r<t.length;r++)if(void 0!==n&&0==n&&(t[r][i]=t[r][i].toLowerCase(),e=e.toLowerCase()),t[r][i]==e)return r}else for(var r=0;r<t.length;r++)if(void 0!==n&&0==n&&(t[r]=t[r].toLowerCase(),e=e.toLowerCase()),t[r]==e)return r;return-1},BCSfFilter.prototype.getApiUrl=function(e){var t=bcSfFilterConfig.api.filterUrl;switch(e){case"search":t=bcSfFilterConfig.api.searchUrl;break;case"suggestion":t=bcSfFilterConfig.api.suggestionUrl}return t},BCSfFilter.prototype.getPriceLabel=function(e){if(0==e.indexOf(":"))return this.getSettingValue("label.under")+" "+this.formatMoney(100*parseFloat(e.substr(1)),this.moneyFormat,this.getSettingValue("general.removePriceDecimal"));if(e.indexOf(":")==e.length-1)return this.getSettingValue("label.above")+" "+this.formatMoney(100*parseFloat(e.slice(0,-1)),this.moneyFormat,this.getSettingValue("general.removePriceDecimal"));if(2==e.split(":").length){var t=e.split(":");return this.formatMoney(100*parseFloat(t[0]),this.moneyFormat,this.getSettingValue("general.removePriceDecimal"))+" - "+this.formatMoney(100*parseFloat(t[1]),this.moneyFormat,this.getSettingValue("general.removePriceDecimal"))}},BCSfFilter.prototype.getPercentSaleLabel=function(e){return e=this.removeDecimal(e),0==e.indexOf(":")?this.getSettingValue("label.under")+" "+e.substr(1)+"%":e.indexOf(":")==e.length-1?this.getSettingValue("label.above")+" "+e.slice(0,-1)+"%":2==e.split(":").length?e.split(":")[0]+"% - "+e.split(":").pop()+"%":void 0},BCSfFilter.prototype.getReviewRatingsLabel=function(e){var t=e+" ";return t+=1==e?this.getSettingValue("label.ratingStar"):this.getSettingValue("label.ratingStars"),t+=" "+this.getSettingValue("label.ratingUp")},BCSfFilter.prototype.getSettingValue=function(e,t){var i=void 0!==t?t:this.defaultSettings;bcSfFilterConfig.hasOwnProperty("settings")&&null!==bcSfFilterConfig.settings&&(i=mergeObject(i,bcSfFilterConfig.settings)),"undefined"!=typeof bcSfFilterSettings&&Object.keys(bcSfFilterSettings).length>0&&(i=mergeObject(i,bcSfFilterSettings)),"undefined"!=typeof bcSfSearchSettings&&Object.keys(bcSfSearchSettings).length>0&&(i=mergeObject(i,bcSfSearchSettings));var n="";if(i.hasOwnProperty(e))return i[e];if(e.indexOf(".")>-1)for(var r=e.split("."),o=0;o<r.length;o++)if(""==n){if(!i.hasOwnProperty(r[o]))return"";n=i[r[o]]}else{if(!n.hasOwnProperty(r[o]))return"";n=n[r[o]]}return n},BCSfFilter.prototype.getTemplate=function(e){var t={template:this.template};return this.getSettingValue("template."+e,t)},BCSfFilter.prototype.getSelector=function(e){var t={selector:this.selector};return this.getSettingValue("selector."+e,t)},BCSfFilter.prototype.getLabel=function(e,t,i){return bcSfFilterConfig.hasOwnProperty(e)&&bcSfFilterConfig[e].hasOwnProperty(t)?bcSfFilterConfig[e][t]:i};